{"version":3,"file":"launch-countdown.service.js","sourceRoot":"","sources":["../../../../src/components/launch-countdown/launch-countdown.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,yBAAyB,CAAC;AAGzD,MAAM,OAAO,sBAAsB;IACjC,MAAM,CAAC,KAAK,CAAC,uBAAuB,CAClC,SAAiB,EACjB,WAAoB;;QAEpB,IAAI,CAAC;YACH,IAAI,CAAC,SAAS;gBAAE,OAAO,IAAI,CAAC;YAC5B,MAAM,OAAO,GAAG,MAAM,cAAc,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACxD,IAAI,CAAC,OAAO;gBAAE,OAAO,IAAI,CAAC;YAC1B,IAAI,SAAS,GAAG,OAAO,CAAC;YACxB,IAAI,WAAW,EAAE,CAAC;gBAChB,SAAS,GAAG,CAAA,MAAA,OAAO,CAAC,UAAU,0CAAE,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,WAAW,CAAC,KAAI,OAAO,CAAC;YAClF,CAAC;YACD,MAAM,EAAE,WAAW,EAAE,GAAG,SAAS,CAAC;YAClC,OAAO,WAAW,CAAC;QACrB,CAAC;QAAC,WAAM,CAAC;YACP,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;CACF","sourcesContent":["import { ProductService } from '@uxshop/storefront-core';\nimport { ReleaseDate } from '@uxshop/storefront-core/dist/types/ReleaseDateTypes';\n\nexport class LaunchCountdownService {\n  static async getReleaseDateByProduct(\n    productId: string,\n    variationId?: string,\n  ): Promise<ReleaseDate | null> {\n    try {\n      if (!productId) return null;\n      const product = await ProductService.getById(productId);\n      if (!product) return null;\n      let variation = product;\n      if (variationId) {\n        variation = product.variations?.find(({ id }) => id === variationId) || product;\n      }\n      const { releaseDate } = variation;\n      return releaseDate;\n    } catch {\n      return null;\n    }\n  }\n}\n"]}