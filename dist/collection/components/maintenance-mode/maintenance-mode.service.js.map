{"version":3,"file":"maintenance-mode.service.js","sourceRoot":"","sources":["../../../src/components/maintenance-mode/maintenance-mode.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,yBAAyB,CAAC;AACrD,OAAO,EAAE,cAAc,EAAE,MAAM,4BAA4B,CAAC;AAE5D,MAAM,OAAO,sBAAsB;IAC1B,KAAK,CAAC,aAAa;QACxB,IAAI,CAAC;YACH,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,UAAU,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC7B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrB,OAAO,cAAc,CAAC;QACxB,CAAC;IACH,CAAC;IAEM,KAAK,CAAC,gBAAgB,CAAC,QAAkB;QAC9C,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,wBAAwB,CAAC;QAE7D,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;gBAChC,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,QAAQ;aACf,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACjB,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACpC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACzC,CAAC;YAED,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrB,MAAM,KAAK,CAAC;QACd,CAAC;IACH,CAAC;CACF","sourcesContent":["import { AppService } from '@uxshop/storefront-core';\nimport { defaultContent } from './constants/defaultContent';\n\nexport class MaintenanceModeService {\n  public async getAppContent() {\n    try {\n      const { content } = await AppService.getBySlug('maintenance-mode');\n      return JSON.parse(content);\n    } catch (error) {\n      console.error(error);\n      return defaultContent;\n    }\n  }\n\n  public async submitNewsletter(formData: FormData) {\n    const url = `${window.dooca.base_url}/action/newsletter/add`;\n\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(JSON.stringify(error));\n      }\n\n      return response.json();\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n}\n"]}