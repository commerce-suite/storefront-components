{"file":"google-recaptcha.entry.js","mappings":";;AAAA,MAAM,kBAAkB,GAAG,mDAAmD;;MCOjE,eAAe;;;;QAKlB,iBAAY,GAAG,KAAK,CAAC;;2BAHE,aAAa,IAAI,CAAC,GAAG,EAAE,EAAE;;IAKxD,gBAAgB;QACd,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC5B;IAEO,mBAAmB;QACzB,IAAI,MAAM,CAAC,UAAU,EAAE;YACrB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,OAAO;SACR;QAED,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAChD,MAAM,CAAC,GAAG,GAAG,gFAAgF,CAAC;YAC9F,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YACpB,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YAEpB,MAAM,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,eAAe,EAAE,CAAC;aACxB,CAAC;YAEF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SACnC;KACF;IAEO,eAAe;QACrB,IAAI,CAAC,MAAM,CAAC,UAAU;YAAE,OAAO;QAE/B,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE;YACzC,SAAS,EAAE,IAAI,CAAC,OAAO;YACvB,UAAU,EAAE,CAAC,KAAa;gBACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChC;YACD,gBAAgB,EAAE;gBAChB,OAAO,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;aAC/C;YACD,kBAAkB,EAAE;gBAClB,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;aAC9C;SACF,CAAC,CAAC;KACJ;IAED,MAAM;QACJ,OAAO,4DAAK,KAAK,EAAC,aAAa,EAAC,EAAE,EAAE,IAAI,CAAC,WAAW,GAAI,CAAC;KAC1D;;;;;;","names":[],"sources":["src/components/google-recaptcha/google-recaptcha.scss?tag=google-recaptcha","src/components/google-recaptcha/google-recaptcha.tsx"],"sourcesContent":[".g-recaptcha {\n  display: flex;\n  justify-content: center;\n}\n","import { Component, Prop, State, Event, EventEmitter, h } from '@stencil/core';\n\n@Component({\n  tag: 'google-recaptcha',\n  styleUrl: 'google-recaptcha.scss',\n  shadow: false,\n})\nexport class GoogleRecaptcha {\n  @Prop() siteKey: string;\n  @State() recaptchaId: string = `recaptcha-${Date.now()}`;\n  @Event() tokenReceived: EventEmitter<string>;\n\n  private scriptLoaded = false;\n\n  componentDidLoad() {\n    this.loadRecaptchaScript();\n  }\n\n  private loadRecaptchaScript() {\n    if (window.grecaptcha) {\n      this.renderRecaptcha();\n      return;\n    }\n\n    if (!this.scriptLoaded) {\n      const script = document.createElement('script');\n      script.src = 'https://www.google.com/recaptcha/api.js?onload=onRecaptchaLoad&render=explicit';\n      script.async = true;\n      script.defer = true;\n\n      window.onRecaptchaLoad = () => {\n        this.scriptLoaded = true;\n        this.renderRecaptcha();\n      };\n\n      document.body.appendChild(script);\n    }\n  }\n\n  private renderRecaptcha() {\n    if (!window.grecaptcha) return;\n\n    window.grecaptcha.render(this.recaptchaId, {\n      'sitekey': this.siteKey,\n      'callback': (token: string) => {\n        this.tokenReceived.emit(token);\n      },\n      'error-callback': () => {\n        console.error('Erro ao carregar o reCAPTCHA');\n      },\n      'expired-callback': () => {\n        console.warn('O token do reCAPTCHA expirou');\n      },\n    });\n  }\n\n  render() {\n    return <div class=\"g-recaptcha\" id={this.recaptchaId} />;\n  }\n}\n"],"version":3}