{"file":"front-image.entry.esm.js","mappings":";;;AAAA,MAAM,aAAa,GAAG,mcAAmc;;MCS5c,UAAU;;;;;;4BAKG,IAAI;;IAEpB,oBAAoB;QAC1B,MAAM,UAAU,GAAG;YACjB,aAAa,EAAE,IAAI,CAAC,YAAY;SACjC,CAAC;QACF,OAAO,mBAAmB,eAAe,CAAC,UAAU,CAAC,EAAE,CAAC;KACzD;;;;;;;IASO,eAAe;QACrB,UAAU,CAAC;YACT,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC3B,EAAE,GAAG,CAAC,CAAC;KACT;IAGD,cAAc;QACZ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KAC1B;IAED,MAAM;QACJ,QACE,EAAC,IAAI,uDACH,+DAAQ,KAAK,EAAE,IAAI,CAAC,oBAAoB,EAAE,IACxC,4DACE,GAAG,EAAE,IAAI,CAAC,QAAQ,EAClB,GAAG,EAAE,IAAI,CAAC,OAAO,IAAI,QAAQ,EAC7B,MAAM,EAAE,MAAM,IAAI,CAAC,eAAe,EAAE,GACpC,EACD,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,qEAAa,IAAI,CAAC,UAAU,CAAc,CACzD,CACJ,EACP;KACH;;;;;;;;;","names":[],"sources":["src/components/ui/front-image/front-image.scss?tag=front-image","src/components/ui/front-image/front-image.tsx"],"sourcesContent":["@import '../../../style/mixins/skeleton.scss';\n\n:host {\n  display: inline-block;\n  width: 100%;\n}\n\n.image-container {\n  position: relative;\n  margin: unset;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    opacity: 1;\n    transition: opacity 1s;\n  }\n  &.-is-loading {\n    min-width: 100px;\n    min-height: 100px;\n    img {\n      opacity: 0;\n    }\n    @include skeleton;\n  }\n}\n","import { Component, Host, Prop, State, Watch, h } from '@stencil/core';\nimport { getClassByProps } from '../../../utils/utils';\n\n@Component({\n  tag: 'front-image',\n  styleUrl: 'front-image.scss',\n  scoped: false,\n  shadow: false,\n})\nexport class FrontImage {\n  @Prop({ mutable: true }) imageSrc: string;\n  @Prop({ mutable: true }) textAlt: string;\n  @Prop({ mutable: true }) figCaption: string;\n\n  @State() isSrcLoading = true;\n\n  private getImageClassByProps() {\n    const classProps = {\n      '-is-loading': this.isSrcLoading,\n    };\n    return `image-container ${getClassByProps(classProps)}`;\n  }\n\n  // private onSrcLoadError() {\n  //   this.imageSrc = getAssetPath('./assets/images/image-fallback.png');\n  //   setTimeout(() => {\n  //     this.isSrcLoading = false;\n  //   }, 500);\n  // }\n\n  private onSrcLoadFinish() {\n    setTimeout(() => {\n      this.isSrcLoading = false;\n    }, 500);\n  }\n\n  @Watch('imageSrc')\n  changeImageSrc() {\n    this.isSrcLoading = true;\n  }\n\n  render() {\n    return (\n      <Host>\n        <figure class={this.getImageClassByProps()}>\n          <img\n            src={this.imageSrc}\n            alt={this.textAlt || 'Imagem'}\n            onLoad={() => this.onSrcLoadFinish()}\n          />\n          {!!this.figCaption && <figcaption>{this.figCaption}</figcaption>}\n        </figure>\n      </Host>\n    );\n  }\n}\n"],"version":3}