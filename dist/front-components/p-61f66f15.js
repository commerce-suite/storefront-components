var t={exports:{}};(function(t){(function(){function n(t,n,i){return t.call.apply(t.bind,arguments)}function i(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(i,e);return t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function e(t,r,o){e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:i;return e.apply(null,arguments)}var r=Date.now||function(){return+new Date};function o(t,n){this.a=t;this.o=n||t;this.c=this.o.document}var s=!!window.FontFace;function u(t,n,i,e){n=t.c.createElement(n);if(i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?n.style.cssText=i[r]:n.setAttribute(r,i[r]));e&&n.appendChild(t.c.createTextNode(e));return n}function a(t,n,i){t=t.c.getElementsByTagName(n)[0];t||(t=document.documentElement);t.insertBefore(i,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,n,i){n=n||[];i=i||[];for(var e=t.className.split(/\s+/),r=0;r<n.length;r+=1){for(var o=!1,s=0;s<e.length;s+=1)if(n[r]===e[s]){o=!0;break}o||e.push(n[r])}n=[];for(r=0;r<e.length;r+=1){o=!1;for(s=0;s<i.length;s+=1)if(e[r]===i[s]){o=!0;break}o||n.push(e[r])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(t,n){for(var i=t.className.split(/\s+/),e=0,r=i.length;e<r;e++)if(i[e]==n)return!0;return!1}function l(t){return t.o.location.hostname||t.a.location.hostname}function d(t,n,i){function e(){f&&r&&o&&(f(c),f=null)}n=u(t,"link",{rel:"stylesheet",href:n,media:"all"});var r=!1,o=!0,c=null,f=i||null;s?(n.onload=function(){r=!0;e()},n.onerror=function(){r=!0;c=Error("Stylesheet failed to load");e()}):setTimeout((function(){r=!0;e()}),0);a(t,"head",n)}function v(t,n,i,e){var r=t.c.getElementsByTagName("head")[0];if(r){var o=u(t,"script",{src:n}),s=!1;o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))};r.appendChild(o);setTimeout((function(){s||(s=!0,i&&i(Error("Script load timeout")))}),e||5e3);return o}return null}function p(){this.a=0;this.c=null}function y(t){t.a++;return function(){t.a--;b(t)}}function m(t,n){t.c=n;b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}w.prototype.c=function(t){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)};function g(t,n){this.c=t;this.f=4;this.a="n";var i=(n||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function O(t){return T(t)+" "+(t.f+"00")+" 300px "+E(t.c)}function E(t){var n=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var e=t[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?n.push("'"+e+"'"):n.push(e)}return n.join(",")}function I(t){return t.a+t.f}function T(t){var n="normal";"o"===t.a?n="oblique":"i"===t.a&&(n="italic");return n}function k(t){var n=4,i="n",e=null;t&&((e=t.match(/(normal|oblique|italic)/i))&&e[1]&&(i=e[1].substr(0,1).toLowerCase()),(e=t.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?n=7:/[1-9]00/.test(e[1])&&(n=parseInt(e[1].substr(0,1),10))));return i+n}function S(t,n){this.c=t;this.f=t.o.document.documentElement;this.h=n;this.a=new w("-");this.j=!1!==n.events;this.g=!1!==n.classes}function N(t){t.g&&f(t.f,[t.a.c("wf","loading")]);_(t,"loading")}function x(t){if(t.g){var n=h(t.f,t.a.c("wf","active")),i=[],e=[t.a.c("wf","loading")];n||i.push(t.a.c("wf","inactive"));f(t.f,i,e)}_(t,"inactive")}function _(t,n,i){if(t.j&&t.h[n])if(i)t.h[n](i.c,I(i));else t.h[n]()}function A(){this.c={}}function D(t,n,i){var e=[],r;for(r in n)if(n.hasOwnProperty(r)){var o=t.c[r];o&&e.push(o(n[r],i))}return e}function j(t,n){this.c=t;this.f=n;this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function P(t){a(t.c,"body",t.a)}function C(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+E(t.c)+";"+("font-style:"+T(t)+";font-weight:"+(t.f+"00")+";")}function R(t,n,i,e,r,o){this.g=t;this.j=n;this.a=e;this.c=i;this.f=r||3e3;this.h=o||void 0}R.prototype.start=function(){var t=this.c.o.document,n=this,i=r(),e=new Promise((function(e,o){function s(){r()-i>=n.f?o():t.fonts.load(O(n.a),n.h).then((function(t){1<=t.length?e():setTimeout(s,25)}),(function(){o()}))}s()})),o=null,s=new Promise((function(t,i){o=setTimeout(i,n.f)}));Promise.race([s,e]).then((function(){o&&(clearTimeout(o),o=null);n.g(n.a)}),(function(){n.j(n.a)}))};function F(t,n,i,e,r,o,s){this.v=t;this.B=n;this.c=i;this.a=e;this.s=s||"BESbswy";this.f={};this.w=r||3e3;this.u=o||null;this.m=this.j=this.h=this.g=null;this.g=new j(this.c,this.s);this.h=new j(this.c,this.s);this.j=new j(this.c,this.s);this.m=new j(this.c,this.s);t=new g(this.a.c+",serif",I(this.a));t=C(t);this.g.a.style.cssText=t;t=new g(this.a.c+",sans-serif",I(this.a));t=C(t);this.h.a.style.cssText=t;t=new g("serif",I(this.a));t=C(t);this.j.a.style.cssText=t;t=new g("sans-serif",I(this.a));t=C(t);this.m.a.style.cssText=t;P(this.g);P(this.h);P(this.j);P(this.m)}var L={D:"serif",C:"sans-serif"},B=null;function M(){if(null===B){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);B=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return B}F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.m.a.offsetWidth;this.A=r();V(this)};function U(t,n,i){for(var e in L)if(L.hasOwnProperty(e)&&n===t.f[L[e]]&&i===t.f[L[e]])return!0;return!1}function V(t){var n=t.g.a.offsetWidth,i=t.h.a.offsetWidth,e;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=M()&&U(t,n,i));e?r()-t.A>=t.w?M()&&U(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?G(t,t.v):G(t,t.B):q(t):G(t,t.v)}function q(t){setTimeout(e((function(){V(this)}),t),50)}function G(t,n){setTimeout(e((function(){c(this.g.a);c(this.h.a);c(this.j.a);c(this.m.a);n(this.a)}),t),0)}function $(t,n,i){this.c=t;this.a=n;this.f=0;this.m=this.j=!1;this.s=i}var Q=null;$.prototype.g=function(t){var n=this.a;n.g&&f(n.f,[n.a.c("wf",t.c,I(t).toString(),"active")],[n.a.c("wf",t.c,I(t).toString(),"loading"),n.a.c("wf",t.c,I(t).toString(),"inactive")]);_(n,"fontactive",t);this.m=!0;J(this)};$.prototype.h=function(t){var n=this.a;if(n.g){var i=h(n.f,n.a.c("wf",t.c,I(t).toString(),"active")),e=[],r=[n.a.c("wf",t.c,I(t).toString(),"loading")];i||e.push(n.a.c("wf",t.c,I(t).toString(),"inactive"));f(n.f,e,r)}_(n,"fontinactive",t);J(this)};function J(t){0==--t.f&&t.j&&(t.m?(t=t.a,t.g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),_(t,"active")):x(t.a))}function Y(t){this.j=t;this.a=new A;this.h=0;this.f=this.g=!0}Y.prototype.load=function(t){this.c=new o(this.j,t.context||this.j);this.g=!1!==t.events;this.f=!1!==t.classes;X(this,new S(this.c,t),t)};function K(t,n,i,r,o){var s=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=o||null,u=r||null||{};if(0===i.length&&s)x(n.a);else{n.f+=i.length;s&&(n.j=s);var a,c=[];for(a=0;a<i.length;a++){var h=i[a],l=u[h.c],d=n.a,v=h;d.g&&f(d.f,[d.a.c("wf",v.c,I(v).toString(),"loading")]);_(d,"fontloading",v);d=null;if(null===Q)if(window.FontFace){var v=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);Q=v?42<parseInt(v[1],10):p?!1:!0}else Q=!1;Q?d=new R(e(n.g,n),e(n.h,n),n.c,h,n.s,l):d=new F(e(n.g,n),e(n.h,n),n.c,h,n.s,t,l);c.push(d)}for(a=0;a<c.length;a++)c[a].start()}}),0)}function X(t,n,i){var e=[],r=i.timeout;N(n);var e=D(t.a,i,t.c),o=new $(t.c,n,r);t.h=e.length;n=0;for(i=e.length;n<i;n++)e[n].load((function(n,i,e){K(t,o,n,i,e)}))}function H(t,n){this.c=t;this.a=n}H.prototype.load=function(t){function n(){if(o["__mti_fntLst"+e]){var i=o["__mti_fntLst"+e](),r=[],s;if(i)for(var u=0;u<i.length;u++){var a=i[u].fontfamily;void 0!=i[u].fontStyle&&void 0!=i[u].fontWeight?(s=i[u].fontStyle+i[u].fontWeight,r.push(new g(a,s))):r.push(new g(a))}t(r)}else setTimeout((function(){n()}),50)}var i=this,e=i.a.projectId,r=i.a.version;if(e){var o=i.c.o;v(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+e+".js"+(r?"?v="+r:""),(function(r){r?t([]):(o["__MonotypeConfiguration__"+e]=function(){return i.a},n())})).id="__MonotypeAPIScript__"+e}else t([])};function W(t,n){this.c=t;this.a=n}W.prototype.load=function(t){var n,i,e=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new p;n=0;for(i=e.length;n<i;n++)d(this.c,e[n],y(s));var u=[];n=0;for(i=r.length;n<i;n++)if(e=r[n].split(":"),e[1])for(var a=e[1].split(","),c=0;c<a.length;c+=1)u.push(new g(e[0],a[c]));else u.push(new g(e[0]));m(s,(function(){t(u,o)}))};function z(t,n){t?this.c=t:this.c=Z;this.a=[];this.f=[];this.g=n||""}var Z="https://fonts.googleapis.com/css";function tt(t,n){for(var i=n.length,e=0;e<i;e++){var r=n[e].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":");t.a.push(r.join(o))}}function nt(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,i=[],e=0;e<n;e++)i.push(t.a[e].replace(/ /g,"+"));n=t.c+"?family="+i.join("%7C");0<t.f.length&&(n+="&subset="+t.f.join(","));0<t.g.length&&(n+="&text="+encodeURIComponent(t.g));return n}function it(t){this.f=t;this.a=[];this.c={}}var et={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},rt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ot={i:"i",italic:"i",n:"n",normal:"n"},st=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ut(t){for(var n=t.f.length,i=0;i<n;i++){var e=t.f[i].split(":"),r=e[0].replace(/\+/g," "),o=["n4"];if(2<=e.length){var s;var u=e[1];s=[];if(u)for(var u=u.split(","),a=u.length,c=0;c<a;c++){var f;f=u[c];if(f.match(/^[\w-]+$/)){var h=st.exec(f.toLowerCase());if(null==h)f="";else{f=h[2];f=null==f||""==f?"n":ot[f];h=h[1];if(null==h||""==h)h="4";else var l=rt[h],h=l?l:isNaN(h)?"4":h.substr(0,1);f=[f,h].join("")}}else f="";f&&s.push(f)}0<s.length&&(o=s);3==e.length&&(e=e[2],s=[],e=e?e.split(","):s,0<e.length&&(e=et[e[0]])&&(t.c[r]=e))}t.c[r]||(e=et[r])&&(t.c[r]=e);for(e=0;e<o.length;e+=1)t.a.push(new g(r,o[e]))}}function at(t,n){this.c=t;this.a=n}var ct={Arimo:!0,Cousine:!0,Tinos:!0};at.prototype.load=function(t){var n=new p,i=this.c,e=new z(this.a.api,this.a.text),r=this.a.families;tt(e,r);var o=new it(r);ut(o);d(i,nt(e),y(n));m(n,(function(){t(o.a,o.c,ct)}))};function ft(t,n){this.c=t;this.a=n}ft.prototype.load=function(t){var n=this.a.id,i=this.c.o;n?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",(function(n){if(n)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){n=i.Typekit.config.fn;for(var e=[],r=0;r<n.length;r+=2)for(var o=n[r],s=n[r+1],u=0;u<s.length;u++)e.push(new g(o,s[u]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(e)}}),2e3):t([])};function ht(t,n){this.c=t;this.f=n;this.a=[]}ht.prototype.load=function(t){var n=this.f.id,i=this.c.o,e=this;n?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[n]=function(n,i){for(var r=0,o=i.fonts.length;r<o;++r){var s=i.fonts[r];e.a.push(new g(s.name,k("font-weight:"+s.weight+";font-style:"+s.style)))}t(e.a)},v(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+l(this.c)+"/"+n+".js",(function(n){n&&t([])}))):t([])};var lt=new Y(window);lt.a.c.custom=function(t,n){return new W(n,t)};lt.a.c.fontdeck=function(t,n){return new ht(n,t)};lt.a.c.monotype=function(t,n){return new H(n,t)};lt.a.c.typekit=function(t,n){return new ft(n,t)};lt.a.c.google=function(t,n){return new at(n,t)};var dt={load:e(lt.load,lt)};t.exports?t.exports=dt:(window.WebFont=dt,window.WebFontConfig&&lt.load(window.WebFontConfig))})()})(t);var n=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):undefined;const i=n;function e(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){e=function t(n){return typeof n}}else{e=function t(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n}}return e(t)}var r=10;var o=2;function s(t){return u(t,[])}function u(t,n){switch(e(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":if(t===null){return"null"}return a(t,n);default:return String(t)}}function a(t,n){if(n.indexOf(t)!==-1){return"[Circular]"}var i=[].concat(n,[t]);var e=h(t);if(e!==undefined){var r=e.call(t);if(r!==t){return typeof r==="string"?r:u(r,i)}}else if(Array.isArray(t)){return f(t,i)}return c(t,i)}function c(t,n){var i=Object.keys(t);if(i.length===0){return"{}"}if(n.length>o){return"["+l(t)+"]"}var e=i.map((function(i){var e=u(t[i],n);return i+": "+e}));return"{ "+e.join(", ")+" }"}function f(t,n){if(t.length===0){return"[]"}if(n.length>o){return"[Array]"}var i=Math.min(r,t.length);var e=t.length-i;var s=[];for(var a=0;a<i;++a){s.push(u(t[a],n))}if(e===1){s.push("... 1 more item")}else if(e>1){s.push("... ".concat(e," more items"))}return"["+s.join(", ")+"]"}function h(t){var n=t[String(i)];if(typeof n==="function"){return n}if(typeof t.inspect==="function"){return t.inspect}}function l(t){var n=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(n==="Object"&&typeof t.constructor==="function"){var i=t.constructor.name;if(typeof i==="string"&&i!==""){return i}}return n}function d(t,n){var i=Boolean(t);if(!i){throw new Error(n!=null?n:"Unexpected invariant triggered.")}}function v(t){var n=t.prototype.toJSON;typeof n==="function"||d(0);t.prototype.inspect=n;if(i){t.prototype[i]=n}}var p=function(){function t(t,n,i){this.start=t.start;this.end=n.end;this.startToken=t;this.endToken=n;this.source=i}var n=t.prototype;n.toJSON=function t(){return{start:this.start,end:this.end}};return t}();v(p);var y=function(){function t(t,n,i,e,r,o,s){this.kind=t;this.start=n;this.end=i;this.line=e;this.column=r;this.value=s;this.prev=o;this.next=null}var n=t.prototype;n.toJSON=function t(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}};return t}();v(y);function m(t){return t!=null&&typeof t.kind==="string"}var b={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var w=Object.freeze({});function g(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:b;var e=undefined;var r=Array.isArray(t);var o=[t];var u=-1;var a=[];var c=undefined;var f=undefined;var h=undefined;var l=[];var d=[];var v=t;do{u++;var p=u===o.length;var y=p&&a.length!==0;if(p){f=d.length===0?undefined:l[l.length-1];c=h;h=d.pop();if(y){if(r){c=c.slice()}else{var g={};for(var E=0,I=Object.keys(c);E<I.length;E++){var T=I[E];g[T]=c[T]}c=g}var k=0;for(var S=0;S<a.length;S++){var N=a[S][0];var x=a[S][1];if(r){N-=k}if(r&&x===null){c.splice(N,1);k++}else{c[N]=x}}}u=e.index;o=e.keys;a=e.edits;r=e.inArray;e=e.prev}else{f=h?r?u:o[u]:undefined;c=h?h[f]:v;if(c===null||c===undefined){continue}if(h){l.push(f)}}var _=void 0;if(!Array.isArray(c)){if(!m(c)){throw new Error("Invalid AST Node: ".concat(s(c),"."))}var A=O(n,c.kind,p);if(A){_=A.call(n,c,f,h,l,d);if(_===w){break}if(_===false){if(!p){l.pop();continue}}else if(_!==undefined){a.push([f,_]);if(!p){if(m(_)){c=_}else{l.pop();continue}}}}}if(_===undefined&&y){a.push([f,c])}if(p){l.pop()}else{var D;e={inArray:r,index:u,keys:o,edits:a,prev:e};r=Array.isArray(c);o=r?c:(D=i[c.kind])!==null&&D!==void 0?D:[];u=-1;a=[];if(h){d.push(h)}h=c}}while(e!==undefined);if(a.length!==0){v=a[a.length-1][1]}return v}function O(t,n,i){var e=t[n];if(e){if(!i&&typeof e==="function"){return e}var r=i?e.leave:e.enter;if(typeof r==="function"){return r}}else{var o=i?t.leave:t.enter;if(o){if(typeof o==="function"){return o}var s=o[n];if(typeof s==="function"){return s}}}}var E=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function I(t){var n=t.split(/\r\n|[\n\r]/g);var i=k(t);if(i!==0){for(var e=1;e<n.length;e++){n[e]=n[e].slice(i)}}var r=0;while(r<n.length&&T(n[r])){++r}var o=n.length;while(o>r&&T(n[o-1])){--o}return n.slice(r,o).join("\n")}function T(t){for(var n=0;n<t.length;++n){if(t[n]!==" "&&t[n]!=="\t"){return false}}return true}function k(t){var n;var i=true;var e=true;var r=0;var o=null;for(var s=0;s<t.length;++s){switch(t.charCodeAt(s)){case 13:if(t.charCodeAt(s+1)===10){++s}case 10:i=false;e=true;r=0;break;case 9:case 32:++r;break;default:if(e&&!i&&(o===null||r<o)){o=r}e=false}}return(n=o)!==null&&n!==void 0?n:0}function S(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var e=t.indexOf("\n")===-1;var r=t[0]===" "||t[0]==="\t";var o=t[t.length-1]==='"';var s=t[t.length-1]==="\\";var u=!e||o||s||i;var a="";if(u&&!(e&&r)){a+="\n"+n}a+=n?t.replace(/\n/g,"\n"+n):t;if(u){a+="\n"}return'"""'+a.replace(/"""/g,'\\"""')+'"""'}function N(t){return g(t,{leave:_})}var x=80;var _={Name:function t(n){return n.value},Variable:function t(n){return"$"+n.name},Document:function t(n){return D(n.definitions,"\n\n")+"\n"},OperationDefinition:function t(n){var i=n.operation;var e=n.name;var r=P("(",D(n.variableDefinitions,", "),")");var o=D(n.directives," ");var s=n.selectionSet;return!e&&!o&&!r&&i==="query"?s:D([i,D([e,r]),o,s]," ")},VariableDefinition:function t(n){var i=n.variable,e=n.type,r=n.defaultValue,o=n.directives;return i+": "+e+P(" = ",r)+P(" ",D(o," "))},SelectionSet:function t(n){var i=n.selections;return j(i)},Field:function t(n){var i=n.alias,e=n.name,r=n.arguments,o=n.directives,s=n.selectionSet;var u=P("",i,": ")+e;var a=u+P("(",D(r,", "),")");if(a.length>x){a=u+P("(\n",C(D(r,"\n")),"\n)")}return D([a,D(o," "),s]," ")},Argument:function t(n){var i=n.name,e=n.value;return i+": "+e},FragmentSpread:function t(n){var i=n.name,e=n.directives;return"..."+i+P(" ",D(e," "))},InlineFragment:function t(n){var i=n.typeCondition,e=n.directives,r=n.selectionSet;return D(["...",P("on ",i),D(e," "),r]," ")},FragmentDefinition:function t(n){var i=n.name,e=n.typeCondition,r=n.variableDefinitions,o=n.directives,s=n.selectionSet;return"fragment ".concat(i).concat(P("(",D(r,", "),")")," ")+"on ".concat(e," ").concat(P("",D(o," ")," "))+s},IntValue:function t(n){var i=n.value;return i},FloatValue:function t(n){var i=n.value;return i},StringValue:function t(n,i){var e=n.value,r=n.block;return r?S(e,i==="description"?"":"  "):JSON.stringify(e)},BooleanValue:function t(n){var i=n.value;return i?"true":"false"},NullValue:function t(){return"null"},EnumValue:function t(n){var i=n.value;return i},ListValue:function t(n){var i=n.values;return"["+D(i,", ")+"]"},ObjectValue:function t(n){var i=n.fields;return"{"+D(i,", ")+"}"},ObjectField:function t(n){var i=n.name,e=n.value;return i+": "+e},Directive:function t(n){var i=n.name,e=n.arguments;return"@"+i+P("(",D(e,", "),")")},NamedType:function t(n){var i=n.name;return i},ListType:function t(n){var i=n.type;return"["+i+"]"},NonNullType:function t(n){var i=n.type;return i+"!"},SchemaDefinition:A((function(t){var n=t.directives,i=t.operationTypes;return D(["schema",D(n," "),j(i)]," ")})),OperationTypeDefinition:function t(n){var i=n.operation,e=n.type;return i+": "+e},ScalarTypeDefinition:A((function(t){var n=t.name,i=t.directives;return D(["scalar",n,D(i," ")]," ")})),ObjectTypeDefinition:A((function(t){var n=t.name,i=t.interfaces,e=t.directives,r=t.fields;return D(["type",n,P("implements ",D(i," & ")),D(e," "),j(r)]," ")})),FieldDefinition:A((function(t){var n=t.name,i=t.arguments,e=t.type,r=t.directives;return n+(F(i)?P("(\n",C(D(i,"\n")),"\n)"):P("(",D(i,", "),")"))+": "+e+P(" ",D(r," "))})),InputValueDefinition:A((function(t){var n=t.name,i=t.type,e=t.defaultValue,r=t.directives;return D([n+": "+i,P("= ",e),D(r," ")]," ")})),InterfaceTypeDefinition:A((function(t){var n=t.name,i=t.interfaces,e=t.directives,r=t.fields;return D(["interface",n,P("implements ",D(i," & ")),D(e," "),j(r)]," ")})),UnionTypeDefinition:A((function(t){var n=t.name,i=t.directives,e=t.types;return D(["union",n,D(i," "),e&&e.length!==0?"= "+D(e," | "):""]," ")})),EnumTypeDefinition:A((function(t){var n=t.name,i=t.directives,e=t.values;return D(["enum",n,D(i," "),j(e)]," ")})),EnumValueDefinition:A((function(t){var n=t.name,i=t.directives;return D([n,D(i," ")]," ")})),InputObjectTypeDefinition:A((function(t){var n=t.name,i=t.directives,e=t.fields;return D(["input",n,D(i," "),j(e)]," ")})),DirectiveDefinition:A((function(t){var n=t.name,i=t.arguments,e=t.repeatable,r=t.locations;return"directive @"+n+(F(i)?P("(\n",C(D(i,"\n")),"\n)"):P("(",D(i,", "),")"))+(e?" repeatable":"")+" on "+D(r," | ")})),SchemaExtension:function t(n){var i=n.directives,e=n.operationTypes;return D(["extend schema",D(i," "),j(e)]," ")},ScalarTypeExtension:function t(n){var i=n.name,e=n.directives;return D(["extend scalar",i,D(e," ")]," ")},ObjectTypeExtension:function t(n){var i=n.name,e=n.interfaces,r=n.directives,o=n.fields;return D(["extend type",i,P("implements ",D(e," & ")),D(r," "),j(o)]," ")},InterfaceTypeExtension:function t(n){var i=n.name,e=n.interfaces,r=n.directives,o=n.fields;return D(["extend interface",i,P("implements ",D(e," & ")),D(r," "),j(o)]," ")},UnionTypeExtension:function t(n){var i=n.name,e=n.directives,r=n.types;return D(["extend union",i,D(e," "),r&&r.length!==0?"= "+D(r," | "):""]," ")},EnumTypeExtension:function t(n){var i=n.name,e=n.directives,r=n.values;return D(["extend enum",i,D(e," "),j(r)]," ")},InputObjectTypeExtension:function t(n){var i=n.name,e=n.directives,r=n.fields;return D(["extend input",i,D(e," "),j(r)]," ")}};function A(t){return function(n){return D([n.description,t(n)],"\n")}}function D(t){var n;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return(n=t===null||t===void 0?void 0:t.filter((function(t){return t})).join(i))!==null&&n!==void 0?n:""}function j(t){return P("{\n",C(D(t,"\n")),"\n}")}function P(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return n!=null&&n!==""?t+n+i:""}function C(t){return P("  ",t.replace(/\n/g,"\n  "))}function R(t){return t.indexOf("\n")!==-1}function F(t){return t!=null&&t.some(R)}function L(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){L=function t(n){return typeof n}}else{L=function t(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n}}return L(t)}function B(t){return L(t)=="object"&&t!==null}var M=typeof Symbol==="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function U(t,n){var i=/\r\n|[\n\r]/g;var e=1;var r=n+1;var o;while((o=i.exec(t.body))&&o.index<n){e+=1;r=n+1-(o.index+o[0].length)}return{line:e,column:r}}function V(t){return q(t.source,U(t.source,t.start))}function q(t,n){var i=t.locationOffset.column-1;var e=$(i)+t.body;var r=n.line-1;var o=t.locationOffset.line-1;var s=n.line+o;var u=n.line===1?i:0;var a=n.column+u;var c="".concat(t.name,":").concat(s,":").concat(a,"\n");var f=e.split(/\r\n|[\n\r]/g);var h=f[r];if(h.length>120){var l=Math.floor(a/80);var d=a%80;var v=[];for(var p=0;p<h.length;p+=80){v.push(h.slice(p,p+80))}return c+G([["".concat(s),v[0]]].concat(v.slice(1,l+1).map((function(t){return["",t]})),[[" ",$(d-1)+"^"],["",v[l+1]]]))}return c+G([["".concat(s-1),f[r-1]],["".concat(s),h],["",$(a-1)+"^"],["".concat(s+1),f[r+1]]])}function G(t){var n=t.filter((function(t){var n=t[1];return n!==undefined}));var i=Math.max.apply(Math,n.map((function(t){var n=t[0];return n.length})));return n.map((function(t){var n=t[0],e=t[1];return Q(i,n)+(e?" | "+e:" |")})).join("\n")}function $(t){return Array(t+1).join(" ")}function Q(t,n){return $(t-n.length)+n}function J(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){J=function t(n){return typeof n}}else{J=function t(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n}}return J(t)}function Y(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);if(n)e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}));i.push.apply(i,e)}return i}function K(t){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};if(n%2){Y(Object(i),true).forEach((function(n){X(t,n,i[n])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))}else{Y(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}}return t}function X(t,n,i){if(n in t){Object.defineProperty(t,n,{value:i,enumerable:true,configurable:true,writable:true})}else{t[n]=i}return t}function H(t,n){if(!(t instanceof n)){throw new TypeError("Cannot call a class as a function")}}function W(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(t,e.key,e)}}function z(t,n,i){if(n)W(t.prototype,n);if(i)W(t,i);return t}function Z(t,n){if(typeof n!=="function"&&n!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:true,configurable:true}});if(n)ut(t,n)}function tt(t){var n=ot();return function i(){var e=at(t),r;if(n){var o=at(this).constructor;r=Reflect.construct(e,arguments,o)}else{r=e.apply(this,arguments)}return nt(this,r)}}function nt(t,n){if(n&&(J(n)==="object"||typeof n==="function")){return n}return it(t)}function it(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function et(t){var n=typeof Map==="function"?new Map:undefined;et=function t(i){if(i===null||!st(i))return i;if(typeof i!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof n!=="undefined"){if(n.has(i))return n.get(i);n.set(i,e)}function e(){return rt(i,arguments,at(this).constructor)}e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});return ut(e,i)};return et(t)}function rt(t,n,i){if(ot()){rt=Reflect.construct}else{rt=function t(n,i,e){var r=[null];r.push.apply(r,i);var o=Function.bind.apply(n,r);var s=new o;if(e)ut(s,e.prototype);return s}}return rt.apply(null,arguments)}function ot(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(t){return false}}function st(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function ut(t,n){ut=Object.setPrototypeOf||function t(n,i){n.__proto__=i;return n};return ut(t,n)}function at(t){at=Object.setPrototypeOf?Object.getPrototypeOf:function t(n){return n.__proto__||Object.getPrototypeOf(n)};return at(t)}var ct=function(t){Z(i,t);var n=tt(i);function i(t,e,r,o,s,u,a){var c,f,h;var l;H(this,i);l=n.call(this,t);l.name="GraphQLError";l.originalError=u!==null&&u!==void 0?u:undefined;l.nodes=ft(Array.isArray(e)?e:e?[e]:undefined);var d=[];for(var v=0,p=(y=l.nodes)!==null&&y!==void 0?y:[];v<p.length;v++){var y;var m=p[v];var b=m.loc;if(b!=null){d.push(b)}}d=ft(d);l.source=r!==null&&r!==void 0?r:(c=d)===null||c===void 0?void 0:c[0].source;l.positions=o!==null&&o!==void 0?o:(f=d)===null||f===void 0?void 0:f.map((function(t){return t.start}));l.locations=o&&r?o.map((function(t){return U(r,t)})):(h=d)===null||h===void 0?void 0:h.map((function(t){return U(t.source,t.start)}));l.path=s!==null&&s!==void 0?s:undefined;var w=u===null||u===void 0?void 0:u.extensions;if(a==null&&B(w)){l.extensions=K({},w)}else{l.extensions=a!==null&&a!==void 0?a:{}}Object.defineProperties(it(l),{message:{enumerable:true},locations:{enumerable:l.locations!=null},path:{enumerable:l.path!=null},extensions:{enumerable:l.extensions!=null&&Object.keys(l.extensions).length>0},name:{enumerable:false},nodes:{enumerable:false},source:{enumerable:false},positions:{enumerable:false},originalError:{enumerable:false}});if(u!==null&&u!==void 0&&u.stack){Object.defineProperty(it(l),"stack",{value:u.stack,writable:true,configurable:true});return nt(l)}if(Error.captureStackTrace){Error.captureStackTrace(it(l),i)}else{Object.defineProperty(it(l),"stack",{value:Error().stack,writable:true,configurable:true})}return l}z(i,[{key:"toString",value:function t(){return ht(this)}},{key:M,get:function t(){return"Object"}}]);return i}(et(Error));function ft(t){return t===undefined||t.length===0?undefined:t}function ht(t){var n=t.message;if(t.nodes){for(var i=0,e=t.nodes;i<e.length;i++){var r=e[i];if(r.loc){n+="\n\n"+V(r.loc)}}}else if(t.source&&t.locations){for(var o=0,s=t.locations;o<s.length;o++){var u=s[o];n+="\n\n"+q(t.source,u)}}return n}function lt(t,n,i){return new ct("Syntax Error: ".concat(i),undefined,t,[n])}var dt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function vt(t,n){var i=Boolean(t);if(!i){throw new Error(n)}}const pt=function t(n,i){return n instanceof i};function yt(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(t,e.key,e)}}function mt(t,n,i){if(n)yt(t.prototype,n);if(i)yt(t,i);return t}var bt=function(){function t(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"GraphQL request";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{line:1,column:1};typeof t==="string"||vt(0,"Body must be a string. Received: ".concat(s(t),"."));this.body=t;this.name=n;this.locationOffset=i;this.locationOffset.line>0||vt(0,"line in locationOffset is 1-indexed and must be positive.");this.locationOffset.column>0||vt(0,"column in locationOffset is 1-indexed and must be positive.")}mt(t,[{key:M,get:function t(){return"Source"}}]);return t}();function wt(t){return pt(t,bt)}var gt=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});var Ot=function(){function t(t){var n=new y(dt.SOF,0,0,0,0,null);this.source=t;this.lastToken=n;this.token=n;this.line=1;this.lineStart=0}var n=t.prototype;n.advance=function t(){this.lastToken=this.token;var n=this.token=this.lookahead();return n};n.lookahead=function t(){var n=this.token;if(n.kind!==dt.EOF){do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=Tt(this,n)}while(n.kind===dt.COMMENT)}return n};return t}();function Et(t){return t===dt.BANG||t===dt.DOLLAR||t===dt.AMP||t===dt.PAREN_L||t===dt.PAREN_R||t===dt.SPREAD||t===dt.COLON||t===dt.EQUALS||t===dt.AT||t===dt.BRACKET_L||t===dt.BRACKET_R||t===dt.BRACE_L||t===dt.PIPE||t===dt.BRACE_R}function It(t){return isNaN(t)?dt.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function Tt(t,n){var i=t.source;var e=i.body;var r=e.length;var o=n.end;while(o<r){var s=e.charCodeAt(o);var u=t.line;var a=1+o-t.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o;++t.line;t.lineStart=o;continue;case 13:if(e.charCodeAt(o+1)===10){o+=2}else{++o}++t.line;t.lineStart=o;continue;case 33:return new y(dt.BANG,o,o+1,u,a,n);case 35:return St(i,o,u,a,n);case 36:return new y(dt.DOLLAR,o,o+1,u,a,n);case 38:return new y(dt.AMP,o,o+1,u,a,n);case 40:return new y(dt.PAREN_L,o,o+1,u,a,n);case 41:return new y(dt.PAREN_R,o,o+1,u,a,n);case 46:if(e.charCodeAt(o+1)===46&&e.charCodeAt(o+2)===46){return new y(dt.SPREAD,o,o+3,u,a,n)}break;case 58:return new y(dt.COLON,o,o+1,u,a,n);case 61:return new y(dt.EQUALS,o,o+1,u,a,n);case 64:return new y(dt.AT,o,o+1,u,a,n);case 91:return new y(dt.BRACKET_L,o,o+1,u,a,n);case 93:return new y(dt.BRACKET_R,o,o+1,u,a,n);case 123:return new y(dt.BRACE_L,o,o+1,u,a,n);case 124:return new y(dt.PIPE,o,o+1,u,a,n);case 125:return new y(dt.BRACE_R,o,o+1,u,a,n);case 34:if(e.charCodeAt(o+1)===34&&e.charCodeAt(o+2)===34){return At(i,o,u,a,n,t)}return _t(i,o,u,a,n);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Nt(i,o,s,u,a,n);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Pt(i,o,u,a,n)}throw lt(i,o,kt(s))}var c=t.line;var f=1+o-t.lineStart;return new y(dt.EOF,r,r,c,f,n)}function kt(t){if(t<32&&t!==9&&t!==10&&t!==13){return"Cannot contain the invalid character ".concat(It(t),".")}if(t===39){return"Unexpected single quote character ('), did you mean to use a double quote (\")?"}return"Cannot parse the unexpected character ".concat(It(t),".")}function St(t,n,i,e,r){var o=t.body;var s;var u=n;do{s=o.charCodeAt(++u)}while(!isNaN(s)&&(s>31||s===9));return new y(dt.COMMENT,n,u,i,e,r,o.slice(n+1,u))}function Nt(t,n,i,e,r,o){var s=t.body;var u=i;var a=n;var c=false;if(u===45){u=s.charCodeAt(++a)}if(u===48){u=s.charCodeAt(++a);if(u>=48&&u<=57){throw lt(t,a,"Invalid number, unexpected digit after 0: ".concat(It(u),"."))}}else{a=xt(t,a,u);u=s.charCodeAt(a)}if(u===46){c=true;u=s.charCodeAt(++a);a=xt(t,a,u);u=s.charCodeAt(a)}if(u===69||u===101){c=true;u=s.charCodeAt(++a);if(u===43||u===45){u=s.charCodeAt(++a)}a=xt(t,a,u);u=s.charCodeAt(a)}if(u===46||Ct(u)){throw lt(t,a,"Invalid number, expected digit but got: ".concat(It(u),"."))}return new y(c?dt.FLOAT:dt.INT,n,a,e,r,o,s.slice(n,a))}function xt(t,n,i){var e=t.body;var r=n;var o=i;if(o>=48&&o<=57){do{o=e.charCodeAt(++r)}while(o>=48&&o<=57);return r}throw lt(t,r,"Invalid number, expected digit but got: ".concat(It(o),"."))}function _t(t,n,i,e,r){var o=t.body;var s=n+1;var u=s;var a=0;var c="";while(s<o.length&&!isNaN(a=o.charCodeAt(s))&&a!==10&&a!==13){if(a===34){c+=o.slice(u,s);return new y(dt.STRING,n,s+1,i,e,r,c)}if(a<32&&a!==9){throw lt(t,s,"Invalid character within String: ".concat(It(a),"."))}++s;if(a===92){c+=o.slice(u,s-1);a=o.charCodeAt(s);switch(a){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:{var f=Dt(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(f<0){var h=o.slice(s+1,s+5);throw lt(t,s,"Invalid character escape sequence: \\u".concat(h,"."))}c+=String.fromCharCode(f);s+=4;break}default:throw lt(t,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(a),"."))}++s;u=s}}throw lt(t,s,"Unterminated string.")}function At(t,n,i,e,r,o){var s=t.body;var u=n+3;var a=u;var c=0;var f="";while(u<s.length&&!isNaN(c=s.charCodeAt(u))){if(c===34&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34){f+=s.slice(a,u);return new y(dt.BLOCK_STRING,n,u+3,i,e,r,I(f))}if(c<32&&c!==9&&c!==10&&c!==13){throw lt(t,u,"Invalid character within String: ".concat(It(c),"."))}if(c===10){++u;++o.line;o.lineStart=u}else if(c===13){if(s.charCodeAt(u+1)===10){u+=2}else{++u}++o.line;o.lineStart=u}else if(c===92&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34&&s.charCodeAt(u+3)===34){f+=s.slice(a,u)+'"""';u+=4;a=u}else{++u}}throw lt(t,u,"Unterminated string.")}function Dt(t,n,i,e){return jt(t)<<12|jt(n)<<8|jt(i)<<4|jt(e)}function jt(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Pt(t,n,i,e,r){var o=t.body;var s=o.length;var u=n+1;var a=0;while(u!==s&&!isNaN(a=o.charCodeAt(u))&&(a===95||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122)){++u}return new y(dt.NAME,n,u,i,e,r,o.slice(n,u))}function Ct(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function Rt(t,n){var i=new Ft(t,n);return i.parseDocument()}var Ft=function(){function t(t,n){var i=wt(t)?t:new bt(t);this._lexer=new Ot(i);this._options=n}var n=t.prototype;n.parseName=function t(){var n=this.expectToken(dt.NAME);return{kind:E.NAME,value:n.value,loc:this.loc(n)}};n.parseDocument=function t(){var n=this._lexer.token;return{kind:E.DOCUMENT,definitions:this.many(dt.SOF,this.parseDefinition,dt.EOF),loc:this.loc(n)}};n.parseDefinition=function t(){if(this.peek(dt.NAME)){switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}}else if(this.peek(dt.BRACE_L)){return this.parseOperationDefinition()}else if(this.peekDescription()){return this.parseTypeSystemDefinition()}throw this.unexpected()};n.parseOperationDefinition=function t(){var n=this._lexer.token;if(this.peek(dt.BRACE_L)){return{kind:E.OPERATION_DEFINITION,operation:"query",name:undefined,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)}}var i=this.parseOperationType();var e;if(this.peek(dt.NAME)){e=this.parseName()}return{kind:E.OPERATION_DEFINITION,operation:i,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}};n.parseOperationType=function t(){var n=this.expectToken(dt.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)};n.parseVariableDefinitions=function t(){return this.optionalMany(dt.PAREN_L,this.parseVariableDefinition,dt.PAREN_R)};n.parseVariableDefinition=function t(){var n=this._lexer.token;return{kind:E.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(dt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(dt.EQUALS)?this.parseValueLiteral(true):undefined,directives:this.parseDirectives(true),loc:this.loc(n)}};n.parseVariable=function t(){var n=this._lexer.token;this.expectToken(dt.DOLLAR);return{kind:E.VARIABLE,name:this.parseName(),loc:this.loc(n)}};n.parseSelectionSet=function t(){var n=this._lexer.token;return{kind:E.SELECTION_SET,selections:this.many(dt.BRACE_L,this.parseSelection,dt.BRACE_R),loc:this.loc(n)}};n.parseSelection=function t(){return this.peek(dt.SPREAD)?this.parseFragment():this.parseField()};n.parseField=function t(){var n=this._lexer.token;var i=this.parseName();var e;var r;if(this.expectOptionalToken(dt.COLON)){e=i;r=this.parseName()}else{r=i}return{kind:E.FIELD,alias:e,name:r,arguments:this.parseArguments(false),directives:this.parseDirectives(false),selectionSet:this.peek(dt.BRACE_L)?this.parseSelectionSet():undefined,loc:this.loc(n)}};n.parseArguments=function t(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(dt.PAREN_L,i,dt.PAREN_R)};n.parseArgument=function t(){var n=this._lexer.token;var i=this.parseName();this.expectToken(dt.COLON);return{kind:E.ARGUMENT,name:i,value:this.parseValueLiteral(false),loc:this.loc(n)}};n.parseConstArgument=function t(){var n=this._lexer.token;return{kind:E.ARGUMENT,name:this.parseName(),value:(this.expectToken(dt.COLON),this.parseValueLiteral(true)),loc:this.loc(n)}};n.parseFragment=function t(){var n=this._lexer.token;this.expectToken(dt.SPREAD);var i=this.expectOptionalKeyword("on");if(!i&&this.peek(dt.NAME)){return{kind:E.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(false),loc:this.loc(n)}}return{kind:E.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():undefined,directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}};n.parseFragmentDefinition=function t(){var n;var i=this._lexer.token;this.expectKeyword("fragment");if(((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===true){return{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}}return{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}};n.parseFragmentName=function t(){if(this._lexer.token.value==="on"){throw this.unexpected()}return this.parseName()};n.parseValueLiteral=function t(n){var i=this._lexer.token;switch(i.kind){case dt.BRACKET_L:return this.parseList(n);case dt.BRACE_L:return this.parseObject(n);case dt.INT:this._lexer.advance();return{kind:E.INT,value:i.value,loc:this.loc(i)};case dt.FLOAT:this._lexer.advance();return{kind:E.FLOAT,value:i.value,loc:this.loc(i)};case dt.STRING:case dt.BLOCK_STRING:return this.parseStringLiteral();case dt.NAME:this._lexer.advance();switch(i.value){case"true":return{kind:E.BOOLEAN,value:true,loc:this.loc(i)};case"false":return{kind:E.BOOLEAN,value:false,loc:this.loc(i)};case"null":return{kind:E.NULL,loc:this.loc(i)};default:return{kind:E.ENUM,value:i.value,loc:this.loc(i)}}case dt.DOLLAR:if(!n){return this.parseVariable()}break}throw this.unexpected()};n.parseStringLiteral=function t(){var n=this._lexer.token;this._lexer.advance();return{kind:E.STRING,value:n.value,block:n.kind===dt.BLOCK_STRING,loc:this.loc(n)}};n.parseList=function t(n){var i=this;var e=this._lexer.token;var r=function t(){return i.parseValueLiteral(n)};return{kind:E.LIST,values:this.any(dt.BRACKET_L,r,dt.BRACKET_R),loc:this.loc(e)}};n.parseObject=function t(n){var i=this;var e=this._lexer.token;var r=function t(){return i.parseObjectField(n)};return{kind:E.OBJECT,fields:this.any(dt.BRACE_L,r,dt.BRACE_R),loc:this.loc(e)}};n.parseObjectField=function t(n){var i=this._lexer.token;var e=this.parseName();this.expectToken(dt.COLON);return{kind:E.OBJECT_FIELD,name:e,value:this.parseValueLiteral(n),loc:this.loc(i)}};n.parseDirectives=function t(n){var i=[];while(this.peek(dt.AT)){i.push(this.parseDirective(n))}return i};n.parseDirective=function t(n){var i=this._lexer.token;this.expectToken(dt.AT);return{kind:E.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}};n.parseTypeReference=function t(){var n=this._lexer.token;var i;if(this.expectOptionalToken(dt.BRACKET_L)){i=this.parseTypeReference();this.expectToken(dt.BRACKET_R);i={kind:E.LIST_TYPE,type:i,loc:this.loc(n)}}else{i=this.parseNamedType()}if(this.expectOptionalToken(dt.BANG)){return{kind:E.NON_NULL_TYPE,type:i,loc:this.loc(n)}}return i};n.parseNamedType=function t(){var n=this._lexer.token;return{kind:E.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}};n.parseTypeSystemDefinition=function t(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===dt.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}}throw this.unexpected(n)};n.peekDescription=function t(){return this.peek(dt.STRING)||this.peek(dt.BLOCK_STRING)};n.parseDescription=function t(){if(this.peekDescription()){return this.parseStringLiteral()}};n.parseSchemaDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("schema");var e=this.parseDirectives(true);var r=this.many(dt.BRACE_L,this.parseOperationTypeDefinition,dt.BRACE_R);return{kind:E.SCHEMA_DEFINITION,description:i,directives:e,operationTypes:r,loc:this.loc(n)}};n.parseOperationTypeDefinition=function t(){var n=this._lexer.token;var i=this.parseOperationType();this.expectToken(dt.COLON);var e=this.parseNamedType();return{kind:E.OPERATION_TYPE_DEFINITION,operation:i,type:e,loc:this.loc(n)}};n.parseScalarTypeDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("scalar");var e=this.parseName();var r=this.parseDirectives(true);return{kind:E.SCALAR_TYPE_DEFINITION,description:i,name:e,directives:r,loc:this.loc(n)}};n.parseObjectTypeDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("type");var e=this.parseName();var r=this.parseImplementsInterfaces();var o=this.parseDirectives(true);var s=this.parseFieldsDefinition();return{kind:E.OBJECT_TYPE_DEFINITION,description:i,name:e,interfaces:r,directives:o,fields:s,loc:this.loc(n)}};n.parseImplementsInterfaces=function t(){var n;if(!this.expectOptionalKeyword("implements")){return[]}if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===true){var i=[];this.expectOptionalToken(dt.AMP);do{i.push(this.parseNamedType())}while(this.expectOptionalToken(dt.AMP)||this.peek(dt.NAME));return i}return this.delimitedMany(dt.AMP,this.parseNamedType)};n.parseFieldsDefinition=function t(){var n;if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===true&&this.peek(dt.BRACE_L)&&this._lexer.lookahead().kind===dt.BRACE_R){this._lexer.advance();this._lexer.advance();return[]}return this.optionalMany(dt.BRACE_L,this.parseFieldDefinition,dt.BRACE_R)};n.parseFieldDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();var e=this.parseName();var r=this.parseArgumentDefs();this.expectToken(dt.COLON);var o=this.parseTypeReference();var s=this.parseDirectives(true);return{kind:E.FIELD_DEFINITION,description:i,name:e,arguments:r,type:o,directives:s,loc:this.loc(n)}};n.parseArgumentDefs=function t(){return this.optionalMany(dt.PAREN_L,this.parseInputValueDef,dt.PAREN_R)};n.parseInputValueDef=function t(){var n=this._lexer.token;var i=this.parseDescription();var e=this.parseName();this.expectToken(dt.COLON);var r=this.parseTypeReference();var o;if(this.expectOptionalToken(dt.EQUALS)){o=this.parseValueLiteral(true)}var s=this.parseDirectives(true);return{kind:E.INPUT_VALUE_DEFINITION,description:i,name:e,type:r,defaultValue:o,directives:s,loc:this.loc(n)}};n.parseInterfaceTypeDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("interface");var e=this.parseName();var r=this.parseImplementsInterfaces();var o=this.parseDirectives(true);var s=this.parseFieldsDefinition();return{kind:E.INTERFACE_TYPE_DEFINITION,description:i,name:e,interfaces:r,directives:o,fields:s,loc:this.loc(n)}};n.parseUnionTypeDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("union");var e=this.parseName();var r=this.parseDirectives(true);var o=this.parseUnionMemberTypes();return{kind:E.UNION_TYPE_DEFINITION,description:i,name:e,directives:r,types:o,loc:this.loc(n)}};n.parseUnionMemberTypes=function t(){return this.expectOptionalToken(dt.EQUALS)?this.delimitedMany(dt.PIPE,this.parseNamedType):[]};n.parseEnumTypeDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("enum");var e=this.parseName();var r=this.parseDirectives(true);var o=this.parseEnumValuesDefinition();return{kind:E.ENUM_TYPE_DEFINITION,description:i,name:e,directives:r,values:o,loc:this.loc(n)}};n.parseEnumValuesDefinition=function t(){return this.optionalMany(dt.BRACE_L,this.parseEnumValueDefinition,dt.BRACE_R)};n.parseEnumValueDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();var e=this.parseName();var r=this.parseDirectives(true);return{kind:E.ENUM_VALUE_DEFINITION,description:i,name:e,directives:r,loc:this.loc(n)}};n.parseInputObjectTypeDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("input");var e=this.parseName();var r=this.parseDirectives(true);var o=this.parseInputFieldsDefinition();return{kind:E.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:e,directives:r,fields:o,loc:this.loc(n)}};n.parseInputFieldsDefinition=function t(){return this.optionalMany(dt.BRACE_L,this.parseInputValueDef,dt.BRACE_R)};n.parseTypeSystemExtension=function t(){var n=this._lexer.lookahead();if(n.kind===dt.NAME){switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}}throw this.unexpected(n)};n.parseSchemaExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("schema");var i=this.parseDirectives(true);var e=this.optionalMany(dt.BRACE_L,this.parseOperationTypeDefinition,dt.BRACE_R);if(i.length===0&&e.length===0){throw this.unexpected()}return{kind:E.SCHEMA_EXTENSION,directives:i,operationTypes:e,loc:this.loc(n)}};n.parseScalarTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("scalar");var i=this.parseName();var e=this.parseDirectives(true);if(e.length===0){throw this.unexpected()}return{kind:E.SCALAR_TYPE_EXTENSION,name:i,directives:e,loc:this.loc(n)}};n.parseObjectTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("type");var i=this.parseName();var e=this.parseImplementsInterfaces();var r=this.parseDirectives(true);var o=this.parseFieldsDefinition();if(e.length===0&&r.length===0&&o.length===0){throw this.unexpected()}return{kind:E.OBJECT_TYPE_EXTENSION,name:i,interfaces:e,directives:r,fields:o,loc:this.loc(n)}};n.parseInterfaceTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("interface");var i=this.parseName();var e=this.parseImplementsInterfaces();var r=this.parseDirectives(true);var o=this.parseFieldsDefinition();if(e.length===0&&r.length===0&&o.length===0){throw this.unexpected()}return{kind:E.INTERFACE_TYPE_EXTENSION,name:i,interfaces:e,directives:r,fields:o,loc:this.loc(n)}};n.parseUnionTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("union");var i=this.parseName();var e=this.parseDirectives(true);var r=this.parseUnionMemberTypes();if(e.length===0&&r.length===0){throw this.unexpected()}return{kind:E.UNION_TYPE_EXTENSION,name:i,directives:e,types:r,loc:this.loc(n)}};n.parseEnumTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("enum");var i=this.parseName();var e=this.parseDirectives(true);var r=this.parseEnumValuesDefinition();if(e.length===0&&r.length===0){throw this.unexpected()}return{kind:E.ENUM_TYPE_EXTENSION,name:i,directives:e,values:r,loc:this.loc(n)}};n.parseInputObjectTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("input");var i=this.parseName();var e=this.parseDirectives(true);var r=this.parseInputFieldsDefinition();if(e.length===0&&r.length===0){throw this.unexpected()}return{kind:E.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:e,fields:r,loc:this.loc(n)}};n.parseDirectiveDefinition=function t(){var n=this._lexer.token;var i=this.parseDescription();this.expectKeyword("directive");this.expectToken(dt.AT);var e=this.parseName();var r=this.parseArgumentDefs();var o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var s=this.parseDirectiveLocations();return{kind:E.DIRECTIVE_DEFINITION,description:i,name:e,arguments:r,repeatable:o,locations:s,loc:this.loc(n)}};n.parseDirectiveLocations=function t(){return this.delimitedMany(dt.PIPE,this.parseDirectiveLocation)};n.parseDirectiveLocation=function t(){var n=this._lexer.token;var i=this.parseName();if(gt[i.value]!==undefined){return i}throw this.unexpected(n)};n.loc=function t(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==true){return new p(n,this._lexer.lastToken,this._lexer.source)}};n.peek=function t(n){return this._lexer.token.kind===n};n.expectToken=function t(n){var i=this._lexer.token;if(i.kind===n){this._lexer.advance();return i}throw lt(this._lexer.source,i.start,"Expected ".concat(Bt(n),", found ").concat(Lt(i),"."))};n.expectOptionalToken=function t(n){var i=this._lexer.token;if(i.kind===n){this._lexer.advance();return i}return undefined};n.expectKeyword=function t(n){var i=this._lexer.token;if(i.kind===dt.NAME&&i.value===n){this._lexer.advance()}else{throw lt(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(Lt(i),"."))}};n.expectOptionalKeyword=function t(n){var i=this._lexer.token;if(i.kind===dt.NAME&&i.value===n){this._lexer.advance();return true}return false};n.unexpected=function t(n){var i=n!==null&&n!==void 0?n:this._lexer.token;return lt(this._lexer.source,i.start,"Unexpected ".concat(Lt(i),"."))};n.any=function t(n,i,e){this.expectToken(n);var r=[];while(!this.expectOptionalToken(e)){r.push(i.call(this))}return r};n.optionalMany=function t(n,i,e){if(this.expectOptionalToken(n)){var r=[];do{r.push(i.call(this))}while(!this.expectOptionalToken(e));return r}return[]};n.many=function t(n,i,e){this.expectToken(n);var r=[];do{r.push(i.call(this))}while(!this.expectOptionalToken(e));return r};n.delimitedMany=function t(n,i){this.expectOptionalToken(n);var e=[];do{e.push(i.call(this))}while(this.expectOptionalToken(n));return e};return t}();function Lt(t){var n=t.value;return Bt(t.kind)+(n!=null?' "'.concat(n,'"'):"")}function Bt(t){return Et(t)?'"'.concat(t,'"'):t}function Mt(t,n){n.tag=t;return n}function Ut(){}function Vt(t){return function(n){var i=t.length;let e=!1,r=!1,o=!1,s=0;n(Mt(0,[function(u){if(u){e=!0}else if(r){o=!0}else{for(r=o=!0;o&&!e;){s<i?(u=t[s],s=s+1|0,o=!1,n(Mt(1,[u]))):(e=!0,n(0))}r=!1}}]))}}function qt(){}function Gt(t){t(0)}function $t(t){return t(0)}function Qt(t){return function(n){return function(i){let e=Ut,r=!1,o=[],s=!1;n((function(n){"number"==typeof n?s||(s=!0,0===o.length&&i(0)):n.tag?s||(r=!1,function(t){function n(t){"number"==typeof t?0!==o.length&&(o=o.filter(u),t=0===o.length,s&&t?i(0):!r&&t&&(r=!0,e(0))):t.tag?0!==o.length&&(i(Mt(1,[t[0]])),a(0)):(a=t=t[0],o=o.concat(t),t(0))}function u(t){return t!==a}let a=Ut;1===t.length?t(n):t.bind(null,n)}(t(n[0])),r||(r=!0,e(0))):e=n[0]}));i(Mt(0,[function(t){t?(s||(s=!0,e(t)),o.forEach((function(n){return n(t)})),o=[]):(r||s?r=!1:(r=!0,e(0)),o.forEach($t))}]))}}}function Jt(t){return t}function Yt(t){return function(n){return function(i){let e=!1;return n((function(n){if("number"==typeof n){e||(e=!0,i(n))}else if(n.tag){e||(t(n[0]),i(n))}else{var r=n[0];i(Mt(0,[function(t){if(!e){return t&&(e=!0),r(t)}}]))}}))}}}function Kt(t){t(0)}function Xt(t){return function(n){return function(i){function e(t){u&&("number"==typeof t?(u=!1,c?i(t):o||(o=!0,r(0))):t.tag?(i(t),a?a=!1:s(0)):(s=t=t[0],a=!1,t(0)))}let r=Ut,o=!1,s=Ut,u=!1,a=!1,c=!1;n((function(n){"number"==typeof n?c||(c=!0,u||i(0)):n.tag?c||(u&&(s(1),s=Ut),o?o=!1:(o=!0,r(0)),n=t(n[0]),u=!0,n(e)):r=n[0]}));i(Mt(0,[function(t){if(t){if(c||(c=!0,r(1)),u){return u=!1,s(1)}}else{c||o||(o=!0,r(0)),u&&!a&&(a=!0,s(0))}}]))}}}function Ht(t){return function(n){let i=Ut,e=!1;n((function(n){"number"==typeof n?e=!0:n.tag?e||(t(n[0]),i(0)):(i=n=n[0],n(0))}));return{unsubscribe:function(){if(!e){return e=!0,i(1)}}}}}function Wt(){}function zt(t){return function(n){return function(i){let e=Ut;return n((function(n){"number"==typeof n?i(n):n.tag?t(n[0])?i(n):e(0):(e=n[0],i(n))}))}}}function Zt(t){return function(n){let i=!1;n(Mt(0,[function(e){e?i=!0:i||(i=!0,n(Mt(1,[t])),n(0))}]))}}function tn(t){return function(n){let i=qt,e=!1;i=t({next:function(t){e||n(Mt(1,[t]))},complete:function(){e||(e=!0,n(0))}});n(Mt(0,[function(t){if(t&&!e){return e=!0,i()}}]))}}function nn(){let t=[],n=!1;return{source:function(n){function i(t){return t!==n}t=t.concat(n);n(Mt(0,[function(n){n&&(t=t.filter(i))}]))},next:function(i){n||t.forEach((function(t){t(Mt(1,[i]))}))},complete:function(){n||(n=!0,t.forEach(Gt))}}}function en(t){return function(n){return function(i){return n((function(n){n="number"==typeof n?0:n.tag?Mt(1,[t(n[0])]):Mt(0,[n[0]]);i(n)}))}}}function rn(t){return Qt(Jt)(Vt(t))}function on(t){return function(n){return function(i){let e=!1;return n((function(n){if("number"==typeof n){if(e){return}e=!0;i(n);return t()}if(n.tag){e||i(n)}else{var r=n[0];i(Mt(0,[function(n){if(!e){return n?(e=!0,r(n),t()):r(n)}}]))}}))}}}function sn(t){return function(n){return function(i){return n((function(n){"number"==typeof n?i(n):n.tag?i(n):(i(n),t())}))}}}function un(t){return Ht(Wt)(t)}function an(t){function n(t){"number"==typeof t?(i.forEach(Kt),i=[]):t.tag?(r=!1,i.forEach((function(n){n(t)}))):e=t[0]}let i=[],e=Ut,r=!1;return function(o){function s(t){return t!==o}i=i.concat(o);1===i.length&&t(n);o(Mt(0,[function(t){if(t){if(i=i.filter(s),0===i.length){return e(1)}}else{r||(r=!0,e(t))}}]))}}function cn(t){return function(n){return function(i){let e=!1,r=0,o=Ut;n((function(n){"number"==typeof n?e||(e=!0,i(0)):n.tag?r<t&&!e&&(r=r+1|0,i(n),!e&&r>=t&&(e=!0,i(0),o(1))):(n=n[0],0>=t?(e=!0,i(0),n(1)):o=n)}));i(Mt(0,[function(n){if(!e){if(n){return e=!0,o(1)}if(r<t){return o(0)}}}]))}}}function fn(t){return function(n){return function(i){function e(t){"number"!=typeof t&&(t.tag?(r=!0,o(1),i(0)):(s=t=t[0],t(0)))}let r=!1,o=Ut,s=Ut;n((function(n){"number"==typeof n?r||(r=!0,s(1),i(0)):n.tag?r||i(n):(o=n[0],t(e))}));i(Mt(0,[function(t){if(!r){return t?(r=!0,o(1),s(1)):o(0)}}]))}}}"function"==typeof Symbol?Symbol.observable||(Symbol.observable=Symbol("observable")):"@@observable";function hn(t){if("string"==typeof t){return new ct(t)}else if("object"==typeof t&&t.message){return new ct(t.message,t.nodes,t.source,t.positions,t.path,t,t.extensions||{})}else{return t}}var ln=function(t){function n(n){var i=n.networkError;var e=n.response;var r=(n.graphQLErrors||[]).map(hn);var o=function t(n,i){var e="";if(void 0!==n){return e="[Network] "+n.message}if(void 0!==i){i.forEach((function(t){e+="[GraphQL] "+t.message+"\n"}))}return e.trim()}(i,r);t.call(this,o);this.name="CombinedError";this.message=o;this.graphQLErrors=r;this.networkError=i;this.response=e}if(t){n.__proto__=t}(n.prototype=Object.create(t&&t.prototype)).constructor=n;n.prototype.toString=function t(){return this.message};return n}(Error);function dn(t,n){t|=0;for(var i=0,e=0|n.length;i<e;i++){t=(t<<5)+t+n.charCodeAt(i)}return t}function vn(t){return dn(5381,t)>>>0}var pn=new Set;var yn=new WeakMap;function mn(t){if(null===t||pn.has(t)){return"null"}else if("object"!=typeof t){return JSON.stringify(t)||""}else if(t.toJSON){return mn(t.toJSON())}else if(Array.isArray(t)){var n="[";for(var i=0,e=t.length;i<e;i++){if(i>0){n+=","}var r=mn(t[i]);n+=r.length>0?r:"null"}return n+="]"}var o=Object.keys(t).sort();if(!o.length&&t.constructor&&t.constructor!==Object){var s=yn.get(t)||Math.random().toString(36).slice(2);yn.set(t,s);return'{"__key":"'+s+'"}'}pn.add(t);var u="{";for(var a=0,c=o.length;a<c;a++){var f=o[a];var h=mn(t[f]);if(h){if(u.length>1){u+=","}u+=mn(f)+":"+h}}pn.delete(t);return u+="}"}function bn(t){pn.clear();return mn(t)}var wn=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g;var gn=/([\s,]|#[^\n\r]+)+/g;function On(t,n){return n%2==0?t.replace(gn," ").trim():t}function En(t){var n=("string"!=typeof t?t.loc&&t.loc.source.body||N(t):t).split(wn).map(On).join("");if("string"!=typeof t){var i="definitions"in t&&Sn(t);if(i){n="# "+i+"\n"+n}if(!t.loc){t.loc={start:0,end:n.length,source:{body:n,name:"gql",locationOffset:{line:1,column:1}}}}}return n}var In=new Map;function Tn(t){var n;var i;if("string"==typeof t){n=vn(En(t));i=In.get(n)||Rt(t,{noLocation:!0})}else{n=t.__key||vn(En(t));i=In.get(n)||t}if(!i.loc){En(i)}i.__key=n;In.set(n,i);return i}function kn(t,n){if(!n){n={}}var i=Tn(t);return{key:dn(i.__key,bn(n))>>>0,query:i,variables:n}}function Sn(t){for(var n=0,i=t.definitions.length;n<i;n++){var e=t.definitions[n];if(e.kind===E.OPERATION_DEFINITION&&e.name){return e.name.value}}}function Nn(){Nn=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i){if(Object.prototype.hasOwnProperty.call(i,e)){t[e]=i[e]}}}return t};return Nn.apply(this,arguments)}function xn(t,n,i){if(!("data"in n)&&!("errors"in n)||"path"in n){throw new Error("No Content")}return{operation:t,data:n.data,error:Array.isArray(n.errors)?new ln({graphQLErrors:n.errors,response:i}):void 0,extensions:"object"==typeof n.extensions&&n.extensions||void 0,hasNext:!!n.hasNext}}function _n(t,n,i){var e=Nn({},t);e.hasNext=!!n.hasNext;if(!("path"in n)){if("data"in n){e.data=n.data}return e}if(Array.isArray(n.errors)){e.error=new ln({graphQLErrors:e.error?e.error.graphQLErrors.concat(n.errors):n.errors,response:i})}var r=e.data=Nn({},e.data);var o=0;var s;while(o<n.path.length){r=r[s=n.path[o++]]=Array.isArray(r[s])?[].concat(r[s]):Nn({},r[s])}Nn(r,n.data);return e}function An(t,n,i){return{operation:t,data:void 0,error:new ln({networkError:n,response:i}),extensions:void 0}}function Dn(t){return"query"===t.kind&&!!t.context.preferGetMethod}function jn(t){return{query:N(t.query),operationName:Sn(t.query),variables:t.variables||void 0,extensions:void 0}}function Pn(t,n){var i=Dn(t);var e=t.context.url;if(!i||!n){return e}var r=[];if(n.operationName){r.push("operationName="+encodeURIComponent(n.operationName))}if(n.query){r.push("query="+encodeURIComponent(n.query.replace(/#[^\n\r]+/g," ").trim()))}if(n.variables){r.push("variables="+encodeURIComponent(bn(n.variables)))}if(n.extensions){r.push("extensions="+encodeURIComponent(bn(n.extensions)))}var o=e+"?"+r.join("&");if(o.length>2047){t.context.preferGetMethod=!1;return e}return o}function Cn(t,n){var i=Dn(t);var e={accept:"application/graphql+json, application/json"};if(!i){e["content-type"]="application/json"}var r=("function"==typeof t.context.fetchOptions?t.context.fetchOptions():t.context.fetchOptions)||{};if(r.headers){for(var o in r.headers){e[o.toLowerCase()]=r.headers[o]}}return Nn({},r,{body:!i&&n?JSON.stringify(n):void 0,method:i?"GET":"POST",headers:e})}var Rn="undefined"!=typeof Symbol?Symbol.asyncIterator:null;var Fn="undefined"!=typeof TextDecoder?new TextDecoder:null;var Ln=/content-type:[^\r\n]*application\/json/i;var Bn=/boundary="?([^=";]+)"?/i;function Mn(t,n,i){var e="manual"===i.redirect?400:300;var r=t.context.fetch;return tn((function(o){var s=o.next;var u=o.complete;var a="undefined"!=typeof AbortController?new AbortController:null;if(a){i.signal=a.signal}var c=!1;function f(t,n,i){var e=i.headers&&i.headers.get("Content-Type")||"";if(/text\//i.test(e)){return i.text().then((function(e){t(An(n,new Error(e),i))}))}else if(!/multipart\/mixed/i.test(e)){return i.text().then((function(e){t(xn(n,JSON.parse(e),i))}))}var r="---";var o=e.match(Bn);if(o){r="--"+o[1]}var s;var u=function(){};if(Rn&&i[Rn]){var a=i[Rn]();s=a.next.bind(a)}else if("body"in i&&i.body){var f=i.body.getReader();u=f.cancel.bind(f);s=f.read.bind(f)}else{throw new TypeError("Streaming requests unsupported")}var h="";var l=!0;var d=null;var v=null;return s().then((function e(o){if(!o.done){var u=function t(n){return"Buffer"===n.constructor.name?n.toString():Fn.decode(n)}(o.value);var a=u.indexOf(r);if(a>-1){a+=h.length}else{a=h.indexOf(r)}h+=u;while(a>-1){var f=h.slice(0,a);var p=h.slice(a+r.length);if(l){l=!1}else{var y=f.indexOf("\r\n\r\n")+4;var m=f.slice(0,y);var b=f.slice(y,f.lastIndexOf("\r\n"));var w=void 0;if(Ln.test(m)){try{w=JSON.parse(b);d=v=v?_n(v,w,i):xn(n,w,i)}catch(t){}}if("--"===p.slice(0,2)||w&&!w.hasNext){if(!v){return t(xn(n,{},i))}break}}a=(h=p).indexOf(r)}}else{c=!0}if(d){t(d);d=null}if(!o.done&&(!v||v.hasNext)){return s().then(e)}})).finally(u)}var h=!1;var l=!1;var d;Promise.resolve().then((function(){if(h){return}return(r||fetch)(n,i)})).then((function(n){if(!n){return}l=(d=n).status<200||d.status>=e;return f(s,t,d)})).then(u).catch((function(n){if(c){throw n}var i=An(t,l?d.statusText?new Error(d.statusText):n:n,d);s(i);u()}));return function(){h=!0;if(a){a.abort()}}}))}function Un(t,n){if(Array.isArray(t)){for(var i=0;i<t.length;i++){Un(t[i],n)}}else if("object"==typeof t&&null!==t){for(var e in t){if("__typename"===e&&"string"==typeof t[e]){n[t[e]]=0}else{Un(t[e],n)}}}return n}function Vn(t){return Object.keys(Un(t,{}))}var qn=function(t){if(t.selectionSet&&!t.selectionSet.selections.some((function(t){return t.kind===E.FIELD&&"__typename"===t.name.value&&!t.alias}))){return Nn({},t,{selectionSet:Nn({},t.selectionSet,{selections:t.selectionSet.selections.concat([{kind:E.FIELD,name:{kind:E.NAME,value:"__typename"}}])})})}};var Gn=new Map;function $n(t){var n=Tn(t);var i=Gn.get(n.__key);if(!i){i=g(n,{Field:qn,InlineFragment:qn});Object.defineProperty(i,"__key",{value:n.__key,enumerable:!1});Gn.set(n.__key,i)}return i}function Qn(t){if(!t||"object"!=typeof t){return t}return Object.keys(t).reduce((function(n,i){var e=t[i];if("__typename"===i){Object.defineProperty(n,"__typename",{enumerable:!1,value:e})}else if(Array.isArray(e)){n[i]=e.map(Qn)}else if(e&&"object"==typeof e&&"__typename"in e){n[i]=Qn(e)}else{n[i]=e}return n}),Array.isArray(t)?[]:{})}function Jn(t){t.toPromise=function(){return new Promise((function(n){var i=Ht((function(t){if(!t.stale&&!t.hasNext){Promise.resolve().then((function(){i.unsubscribe();n(t)}))}}))(t)}))};return t}function Yn(t,n,i){if(!i){i=n.context}return{key:n.key,query:n.query,variables:n.variables,kind:t,context:i}}function Kn(t,n){return Yn(t.kind,t,Nn({},t.context,{meta:Nn({},t.context.meta,n)}))}function Xn(){}function Hn(t){var n=t.kind;return"mutation"!==n&&"query"!==n}function Wn(t){var n=t.forward;var i=t.client;var e=new Map;var r=Object.create(null);function o(t){var n=Yn(t.kind,t);n.query=$n(t.query);return n}function s(t){var n=t.context.requestPolicy;return"query"===t.kind&&"network-only"!==n&&("cache-only"===n||e.has(t.key))}return function(t){var u=an(t);var a=en((function(t){var n=e.get(t.key);var r=Nn({},n,{operation:Kn(t,{cacheOutcome:n?"hit":"miss"})});if("cache-and-network"===t.context.requestPolicy){r.stale=!0;zn(i,t)}return r}))(zt((function(t){return!Hn(t)&&s(t)}))(u));var c=Yt((function(t){var n=t.operation;if(!n){return}var o=Vn(t.data).concat(n.context.additionalTypenames||[]);if("mutation"===t.operation.kind){var s=new Set;for(var u=0;u<o.length;u++){var a=o[u];var c=r[a]||(r[a]=new Set);c.forEach((function(t){s.add(t)}));c.clear()}s.forEach((function(t){if(e.has(t)){n=e.get(t).operation;e.delete(t);zn(i,n)}}))}else if("query"===n.kind&&t.data){e.set(n.key,t);for(var f=0;f<o.length;f++){var h=o[f];(r[h]||(r[h]=new Set)).add(n.key)}}}))(n(zt((function(t){return"query"!==t.kind||"cache-only"!==t.context.requestPolicy}))(en((function(t){return Kn(t,{cacheOutcome:"miss"})}))(rn([en(o)(zt((function(t){return!Hn(t)&&!s(t)}))(u)),zt((function(t){return Hn(t)}))(u)])))));return rn([a,c])}}function zn(t,n){return t.reexecuteOperation(Yn(n.kind,n,Nn({},n.context,{requestPolicy:"network-only"})))}function Zn(t){var n=t.forward;var i=new Set;function e(t){var n=t.key;var e=t.kind;if("teardown"===e){i.delete(n);return!0}if("query"!==e&&"subscription"!==e){return!0}var r=i.has(n);i.add(n);return!r}function r(t){if(!t.hasNext){i.delete(t.operation.key)}}return function(t){var i=zt(e)(t);return Yt(r)(n(i))}}function ti(t){var n=t.forward;return function(t){var i=an(t);var e=Qt((function(t){var n=t.key;var e=zt((function(t){return"teardown"===t.kind&&t.key===n}))(i);var r=jn(t);var o=Pn(t,r);var s=Cn(t,r);return Yt((function(t){}))(fn(e)(Mn(t,o,s)))}))(zt((function(t){return"query"===t.kind||"mutation"===t.kind}))(i));var r=n(zt((function(t){return"query"!==t.kind&&"mutation"!==t.kind}))(i));return rn([e,r])}}function ni(t){return function(t){return zt((function(){return!1}))(Yt((function(t){if("teardown"!==t.kind&&"production"!=="production"){var n='No exchange has handled operations of kind "'+t.kind+"\". Check whether you've added an exchange responsible for these operations.";console.warn(n)}}))(t))}}function ii(t){return function(n){var i=n.client;return t.reduceRight((function(t,n){return n({client:i,forward:t,dispatchDebug:function t(n){}})}),n.forward)}}var ei=[Zn,Wn,ti];var ri=function t(n){var i=new Map;var e=new Map;var r=[];var o=nn();var s=o.source;var u=o.next;var a=!1;function c(t){if(t){u(t)}if(!a){a=!0;while(a&&(t=r.shift())){u(t)}a=!1}}function f(t){var n=zt((function(n){return n.operation.kind===t.kind&&n.operation.key===t.key&&(!n.operation.context._instance||n.operation.context._instance===t.context._instance)}))(p);if(l.maskTypename){n=en((function(t){return Nn({},t,{data:Qn(t.data)})}))(n)}if("mutation"===t.kind){return cn(1)(sn((function(){return u(t)}))(n))}return an(on((function(){i.delete(t.key);e.delete(t.key);for(var n=r.length-1;n>=0;n--){if(r[n].key===t.key){r.splice(n,1)}}u(Yn("teardown",t,t.context))}))(Yt((function(n){i.set(t.key,n)}))(Xt((function(n){if("query"!==t.kind||n.stale){return Zt(n)}return rn([Zt(n),en((function(){return Nn({},n,{stale:!0})}))(cn(1)(zt((function(n){return"query"===n.kind&&n.key===t.key&&"cache-only"!==n.context.requestPolicy}))(s)))])}))(fn(zt((function(n){return"teardown"===n.kind&&n.key===t.key}))(s))(n)))))}var h=this instanceof t?this:Object.create(t.prototype);var l=Nn(h,{url:n.url,fetchOptions:n.fetchOptions,fetch:n.fetch,suspense:!!n.suspense,requestPolicy:n.requestPolicy||"cache-first",preferGetMethod:!!n.preferGetMethod,maskTypename:!!n.maskTypename,operations$:s,reexecuteOperation:function t(n){if("mutation"===n.kind||e.has(n.key)){r.push(n);Promise.resolve().then(c)}},createOperationContext:function t(n){if(!n){n={}}return Nn({},{_instance:void 0,url:l.url,fetchOptions:l.fetchOptions,fetch:l.fetch,preferGetMethod:l.preferGetMethod},n,{suspense:n.suspense||!1!==n.suspense&&l.suspense,requestPolicy:n.requestPolicy||l.requestPolicy})},createRequestOperation:function t(n,i,e){var r=l.createOperationContext(e);if("mutation"===n){r._instance=[]}return Yn(n,i,r)},executeRequestOperation:function t(n){if("mutation"===n.kind){return f(n)}return tn((function(t){var r=e.get(n.key);if(!r){e.set(n.key,r=f(n))}var o="cache-and-network"===n.context.requestPolicy||"network-only"===n.context.requestPolicy;return Ht(t.next)(on((function(){a=!1;t.complete()}))(sn((function(){var e=i.get(n.key);if("subscription"===n.kind){return c(n)}else if(o){c(n)}if(null!=e&&e===i.get(n.key)){t.next(o?Nn({},e,{stale:!0}):e)}else if(!o){c(n)}}))(r))).unsubscribe}))},executeQuery:function t(n,i){var e=l.createRequestOperation("query",n,i);return l.executeRequestOperation(e)},executeSubscription:function t(n,i){var e=l.createRequestOperation("subscription",n,i);return l.executeRequestOperation(e)},executeMutation:function t(n,i){var e=l.createRequestOperation("mutation",n,i);return l.executeRequestOperation(e)},query:function t(n,i,e){if(!e||"boolean"!=typeof e.suspense){e=Nn({},e,{suspense:!1})}return Jn(l.executeQuery(kn(n,i),e))},readQuery:function t(n,i,e){var r=null;Ht((function(t){r=t}))(l.query(n,i,e)).unsubscribe();return r},subscription:function t(n,i,e){return l.executeSubscription(kn(n,i),e)},mutation:function t(n,i,e){return Jn(l.executeMutation(kn(n,i),e))}});var d=Xn;var v=ii(void 0!==n.exchanges?n.exchanges:ei);var p=an(v({client:l,dispatchDebug:d,forward:ni()})(s));un(p);return l};var oi=ri;var si=undefined&&undefined.__awaiter||function(t,n,i,e){function r(t){return t instanceof i?t:new i((function(n){n(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e["throw"](t))}catch(t){o(t)}}function a(t){t.done?i(t.value):r(t.value).then(s,u)}a((e=e.apply(t,n||[])).next())}))};var ui=undefined&&undefined.__generator||function(t,n){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var ai=function(){function t(t,n,i){if(!t&&!n&&!i)console.error("api_url, token and domain are required");this.client=oi({url:t,requestPolicy:"cache-first",exchanges:ei,maskTypename:true,fetchOptions:{headers:{token:n,domain:i}}})}t.prototype.query=function(t,n){return si(this,void 0,void 0,(function(){var i,e,r,o;return ui(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,this.client.query(t,n).toPromise()];case 1:i=s.sent(),e=i.data,r=i.error;if(r)throw new Error(r);return[2,e];case 2:o=s.sent();throw new Error(o);case 3:return[2]}}))}))};t.prototype.mutation=function(t,n){return si(this,void 0,void 0,(function(){var i,e,r,o;return ui(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,this.client.mutation(t,n).toPromise()];case 1:i=s.sent(),e=i.data,r=i.error;if(r)throw new Error(r);return[2,e];case 2:o=s.sent();throw new Error(o);case 3:return[2]}}))}))};return t}();function ci(){return new ai(shop_ctx.api_url,shop_ctx.token,shop_ctx.domain)}var fi=function(){function t(){}t.emit=function(t,n){var i="send".concat(t);var e=new CustomEvent(i,{detail:n});n&&window.dispatchEvent(e)};return t}();function hi(t,n){if(t===void 0){t=1}if(n===void 0){n=12}var i=(t-1)*n+1;return{page:Number(i),first:Number(n)}}var li=undefined&&undefined.__spreadArray||function(t,n,i){if(i||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++){if(o||!(e in n)){if(!o)o=Array.prototype.slice.call(n,0,e);o[e]=n[e]}}return t.concat(o||Array.prototype.slice.call(n))};var di=function(){function t(t){this.fields=t||this.defaultFields()}t.prototype.getFields=function(){return this.fields.join()};t.prototype.getReleaseDateFields=function(){return"{releaseDate, now}"};t.prototype.getImageFields=function(){return"{productId, src, alt, colorIds, variationIds, position}"};t.prototype.getComponentGroupsFields=function(){return"{id, name, description, slug, optional}"};t.prototype.getAttributeFields=function(){return"{id, name, slug, attributeId, attributeName, position, isActive}"};t.prototype.getColorFields=function(){return"\n    {\n        id,\n        name,\n        slug,\n        hexadecimal,\n        image ".concat(this.getImageFields(),"\n    }")};t.prototype.getFeatureCommonFields=function(){return["id","name","slug","image ".concat(this.getImageFields())]};t.prototype.getFeatureFields=function(){return"{".concat(this.getFeatureCommonFields().join(),", values {").concat(this.getFeatureCommonFields().join(),"}}")};t.prototype.getBrandFields=function(){return"\n    {\n        id,\n        name,\n        slug,\n        description,\n        shortDescription,\n        image ".concat(this.getImageFields(),",\n        banner ").concat(this.getImageFields(),"\n    }")};t.prototype.getCategoryFields=function(){return"\n    {\n        id, \n        name, \n        slug, \n        description, \n        image ".concat(this.getImageFields(),", \n        breadcrumb, \n        googleTaxonomyId\n    }")};t.prototype.getPaymantInstallmentFields=function(){return"{markup, parcel, discount, interest, total, parcelPrice}"};t.prototype.getPaymentFields=function(){return["id","gatewayId","externalId","name","method","external","maxParcels","parcelsNoInterest","installments ".concat(this.getPaymantInstallmentFields()),"minParcelPrice","minPurchase","maxPurchase","expireDays","softDescriptor","description","isActive","position","billetMinDiscountPrice","markup","instructions","isDefault","showOnlyInstoreShipping","createdAt","updatedAt","installment ".concat(this.getPaymantInstallmentFields())]};t.prototype.getComponentFields=function(){return"\n    {\n      productComponentId\n      productComponentGroupId\n      quantity\n      isDefault\n      isOptional\n      variations {".concat(this.getCommonFields().join(),"}\n    }")};t.prototype.getCommonFields=function(){return["id","name","slug","payments {".concat(this.getPaymentFields().join(),"}"),"gtin","mpn","additionalShippingTime","externalId","categoryDefaultId","hotsiteId","description","shortDescription","relevance","releaseDate ".concat(this.getReleaseDateFields()),"tags","minQuantity","maxQuantity","isSellInKitOnly","metaTitle","metaDescription","metaKeywords","isKit","kitMarkup","isVirtual","isPreSale","images ".concat(this.getImageFields()),"video","weight","depth","width","height","isSellOutOfStock","additionalTimeOutOfStock","balance","price","minPriceRange","maxPriceRange","hasPriceRange","priceCompare","discount","billetDiscount","paymentsReason","warranty","model","gender","ageGroup","productId","brand ".concat(this.getBrandFields()),"category ".concat(this.getCategoryFields()),"categories ".concat(this.getCategoryFields()),"color ".concat(this.getColorFields()),"attribute ".concat(this.getAttributeFields()),"attributeSecondary ".concat(this.getAttributeFields()),"features ".concat(this.getFeatureFields()),"priceOutOfStock","sku"]};t.prototype.getFullVariations=function(){var t=["components ".concat(this.getComponentFields()),"componentGroups ".concat(this.getComponentGroupsFields())];return li([],this.getCommonFields(),true).concat(t)};t.prototype.defaultFields=function(){return["".concat(this.getFullVariations().join()),"variations {".concat(this.getFullVariations().join(),"}")]};t.prototype.listFullQuery=function(){return"query Products($agg: agg!, $filter: filterPaginationFilter) {\n      products(agg: $agg, filter: $filter) {\n            edges {\n              node {\n                ".concat(this.getFields(),"\n              }\n              cursor\n            }\n            pageInfo {\n              hasNextPage\n              hasPreviousPage\n              startCursor\n              endCursor\n              first\n              total\n            }\n          }\n        }")};t.prototype.getOneFullQuery=function(){return"query Product($filter: filterProduct) {\n      product(filter: $filter) {\n          ".concat(this.getFields(),"\n        }\n      }")};return t}();var vi=undefined&&undefined.__assign||function(){vi=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++){n=arguments[i];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return vi.apply(this,arguments)};var pi=undefined&&undefined.__awaiter||function(t,n,i,e){function r(t){return t instanceof i?t:new i((function(n){n(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e["throw"](t))}catch(t){o(t)}}function a(t){t.done?i(t.value):r(t.value).then(s,u)}a((e=e.apply(t,n||[])).next())}))};var yi=undefined&&undefined.__generator||function(t,n){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var mi=function(){function t(){}t.getList=function(t){var n=t.fields,i=t.agg,e=t.filter;return pi(this,void 0,void 0,(function(){var t,r,o;return yi(this,(function(s){switch(s.label){case 0:t=new di(n);r=t.listFullQuery();return[4,ci().query(r,e&&{agg:i,filter:vi({},e)})];case 1:o=s.sent().products;return[2,o]}}))}))};t.getOne=function(t){var n=t.fields,i=t.filter;return pi(this,void 0,void 0,(function(){var t,e,r;return yi(this,(function(o){switch(o.label){case 0:t=new di(n);e=t.getOneFullQuery();return[4,ci().query(e,i&&{filter:vi({},i)})];case 1:r=o.sent().product;return[2,r]}}))}))};t.getById=function(t,n){return pi(this,void 0,void 0,(function(){return yi(this,(function(i){return[2,this.getOne({fields:n||null,filter:{productId:t}})]}))}))};t.getBySlug=function(t,n){return pi(this,void 0,void 0,(function(){return yi(this,(function(i){return[2,this.getOne({fields:n||null,filter:{slug:t}})]}))}))};return t}();var bi=undefined&&undefined.__awaiter||function(t,n,i,e){function r(t){return t instanceof i?t:new i((function(n){n(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e["throw"](t))}catch(t){o(t)}}function a(t){t.done?i(t.value):r(t.value).then(s,u)}a((e=e.apply(t,n||[])).next())}))};var wi=undefined&&undefined.__generator||function(t,n){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var gi=function(){function t(){}t.getList=function(t){var n;return bi(this,void 0,void 0,(function(){var t;return wi(this,(function(i){t=(n=shop_ctx.mock)===null||n===void 0?void 0:n.products;return[2,t||{}]}))}))};t.getById=function(t,n){var i,e,r,o;return bi(this,void 0,void 0,(function(){var n;return wi(this,(function(s){n=(o=(r=(e=(i=shop_ctx.mock)===null||i===void 0?void 0:i.products)===null||e===void 0?void 0:e.edges)===null||r===void 0?void 0:r.find((function(n){var i;return((i=n===null||n===void 0?void 0:n.node)===null||i===void 0?void 0:i.product_id)==t})))===null||o===void 0?void 0:o.node;return[2,n]}))}))};t.getBySlug=function(t,n){var i,e,r,o;return bi(this,void 0,void 0,(function(){var n;return wi(this,(function(s){n=(o=(r=(e=(i=shop_ctx.mock)===null||i===void 0?void 0:i.products)===null||e===void 0?void 0:e.edges)===null||r===void 0?void 0:r.find((function(n){var i;return((i=n===null||n===void 0?void 0:n.node)===null||i===void 0?void 0:i.slug)==t})))===null||o===void 0?void 0:o.node;return[2,n]}))}))};return t}();var Oi=undefined&&undefined.__assign||function(){Oi=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++){n=arguments[i];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return Oi.apply(this,arguments)};var Ei=undefined&&undefined.__awaiter||function(t,n,i,e){function r(t){return t instanceof i?t:new i((function(n){n(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e["throw"](t))}catch(t){o(t)}}function a(t){t.done?i(t.value):r(t.value).then(s,u)}a((e=e.apply(t,n||[])).next())}))};var Ii=undefined&&undefined.__generator||function(t,n){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Ti=undefined&&undefined.__rest||function(t,n){var i={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0)i[e]=t[e];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++){if(n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r]))i[e[r]]=t[e[r]]}return i};var ki=function(){var t;return((t=shop_ctx.mock)===null||t===void 0?void 0:t.products)?gi:mi};var Si=function(){function t(){}t.getList=function(t){var n=t.filter,i=t.agg,e=i===void 0?{field:["productId"]}:i,r=t.fields;return Ei(this,void 0,void 0,(function(){var t,i,o;return Ii(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);t=Ti(n,["items"]);return[4,ki().getList({fields:r||null,filter:Oi(Oi({},hi((n===null||n===void 0?void 0:n.page)||1,n===null||n===void 0?void 0:n.items)),t),agg:e})];case 1:i=s.sent();fi.emit("Product",i);return[2,i];case 2:o=s.sent();throw new Error(o===null||o===void 0?void 0:o.message);case 3:return[2]}}))}))};t.getById=function(t,n){return Ei(this,void 0,void 0,(function(){var i;return Ii(this,(function(e){switch(e.label){case 0:return[4,ki().getById(Number(t),n)];case 1:i=e.sent();return[2,i]}}))}))};t.getBySlug=function(t,n){return Ei(this,void 0,void 0,(function(){var i;return Ii(this,(function(e){switch(e.label){case 0:return[4,ki().getBySlug(t,n)];case 1:i=e.sent();return[2,i]}}))}))};return t}();var Ni=function(){function t(t){this.fields=t}t.prototype.getAllFields=function(t){var n;return(n=this.fields)!==null&&n!==void 0?n:"{\n        id,\n        name,\n        title,\n        buyButtonText,\n        productId,\n        colorId,\n        dateFrom,\n        dateTo,\n        active,\n        product ".concat(t==="restrict"?this.getStrictProductFields():this.getProduct(),",\n        productsPivot ").concat(t==="restrict"?this.getStrictProductFields():this.getProduct(),"\n      }")};t.prototype.getStrictProductFields=function(){var t="\n    {\n      id\n      productId\n      src\n      alt\n      colorIds\n      variationIds\n    }";var n="\n    {\n      id\n      name\n      slug\n      hexadecimal\n    }";var i="\n    {\n      id\n      name\n      slug\n      attributeId\n      attributeName\n      isActive\n    }";var e="\n    {\n      id\n      name\n      slug\n      values {\n        id\n        name\n        slug\n      }\n    }";var r="\n    {\n      id\n      name\n      slug\n      releaseDate {\n        releaseDate\n        now\n      }\n      description\n      shortDescription\n      isVirtual\n      isPreSale\n      images ".concat(t,"\n      priceOutOfStock\n      isSellOutOfStock\n      additionalTimeOutOfStock\n      balance\n      price\n      priceCompare\n      discount\n      billetDiscount\n      paymentsReason\n      color ").concat(n,"\n      attribute ").concat(i,"\n      attributeSecondary ").concat(i,"\n      features ").concat(e,"\n      productId\n      colors ").concat(n,"\n    }\n    ");return"{\n      id\n      name\n      slug\n      description\n      shortDescription\n      images ".concat(t,"\n      priceOutOfStock\n      isSellOutOfStock\n      balance\n      price\n      priceCompare\n      discount\n      billetDiscount\n      color ").concat(n,"\n      attribute ").concat(i,"\n      attributeSecondary ").concat(i,"\n      features ").concat(e,"\n      releaseDate {\n        releaseDate\n        now\n      }\n      productId\n      variations ").concat(r,"\n      sku\n      colors ").concat(n,"\n    }")};t.prototype.getProduct=function(){return"{\n      id\n      name\n      slug\n      payments {\n        id\n        gatewayId\n        externalId\n        name\n        method\n        external\n        maxParcels\n        parcelsNoInterest\n        installments {\n          markup\n          parcel\n          discount\n          interest\n          total\n          parcelPrice\n        }\n        minParcelPrice\n        minPurchase\n        maxPurchase\n        expireDays\n        softDescriptor\n        description\n        isActive\n        position\n        billetMinDiscountPrice\n        markup\n        instructions\n        isDefault\n        showOnlyInstoreShipping\n        createdAt\n        updatedAt\n        installment {\n          markup\n          parcel\n          discount\n          interest\n          total\n          parcelPrice\n        }\n      }\n      gtin\n      mpn\n      additionalShippingTime\n      externalId\n      categoryDefaultId\n      hotsiteId\n      description\n      shortDescription\n      relevance\n      tags\n      minQuantity\n      maxQuantity\n      isSellInKitOnly\n      metaTitle\n      metaDescription\n      metaKeywords\n      isKit\n      kitMarkup\n      isVirtual\n      isPreSale\n      images {\n        id\n        productId\n        src\n        alt\n        colorIds\n        variationIds\n        position\n      }\n      video\n      weight\n      depth\n      width\n      height\n      priceOutOfStock\n      isSellOutOfStock\n      additionalTimeOutOfStock\n      balance\n      price\n      minPriceRange\n      maxPriceRange\n      hasPriceRange\n      priceCompare\n      discount\n      billetDiscount\n      paymentsReason\n      warranty\n      model\n      gender\n      ageGroup\n      brand {\n        id\n        name\n        slug\n        description\n        shortDescription\n        image {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n        banner {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n      }\n      category {\n        id\n        name\n        slug\n        description\n        breadcrumb\n        googleTaxonomyId\n      }\n      categories {\n        id\n        name\n        slug\n        description\n        breadcrumb\n        googleTaxonomyId\n      }\n      reference\n      color {\n        id\n        name\n        slug\n        hexadecimal\n        position\n      }\n      attribute {\n        id\n        name\n        slug\n        attributeId\n        attributeName\n        position\n        isActive\n      }\n      attributeSecondary {\n        id\n        name\n        slug\n        attributeId\n        attributeName\n        position\n        isActive\n      }\n      features {\n        id\n        name\n        slug\n        values {\n          id\n          name\n          slug\n        }\n      }\n      releaseDate {\n        releaseDate\n        now\n      }\n      productId\n      createdAt\n      variations {\n        id\n        name\n        slug\n        releaseDate {\n          releaseDate\n          now\n        }\n        payments {\n          id\n          gatewayId\n          externalId\n          name\n          method\n          external\n          maxParcels\n          parcelsNoInterest\n          installments {\n            markup\n            parcel\n            discount\n            interest\n            total\n            parcelPrice\n          }\n          minParcelPrice\n          minPurchase\n          maxPurchase\n          expireDays\n          softDescriptor\n          description\n          isActive\n          position\n          billetMinDiscountPrice\n          markup\n          instructions\n          isDefault\n          showOnlyInstoreShipping\n          createdAt\n          updatedAt\n          installment {\n            markup\n            parcel\n            discount\n            interest\n            total\n            parcelPrice\n          }\n        }\n        gtin\n        mpn\n        additionalShippingTime\n        externalId\n        categoryDefaultId\n        hotsiteId\n        description\n        shortDescription\n        relevance\n        reference\n        tags\n        minQuantity\n        maxQuantity\n        isSellInKitOnly\n        metaTitle\n        metaDescription\n        metaKeywords\n        isKit\n        kitMarkup\n        isVirtual\n        isPreSale\n        images {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n        video\n        weight\n        depth\n        width\n        height\n        priceOutOfStock\n        isSellOutOfStock\n        additionalTimeOutOfStock\n        balance\n        price\n        minPriceRange\n        maxPriceRange\n        hasPriceRange\n        priceCompare\n        discount\n        billetDiscount\n        paymentsReason\n        warranty\n        model\n        gender\n        ageGroup\n        brand {\n          id\n          name\n          slug\n          description\n          shortDescription\n          image {\n            id\n            productId\n            src\n            alt\n            colorIds\n            variationIds\n            position\n          }\n          banner {\n            id\n            productId\n            src\n            alt\n            colorIds\n            variationIds\n            position\n          }\n        }\n        category {\n          id\n          name\n          slug\n          description\n          breadcrumb\n          googleTaxonomyId\n        }\n        categories {\n          id\n          name\n          slug\n          description\n          breadcrumb\n          googleTaxonomyId\n        }\n        color {\n          id\n          name\n          slug\n          hexadecimal\n          position\n        }\n        attribute {\n          id\n          name\n          slug\n          attributeId\n          attributeName\n          position\n          isActive\n        }\n        attributeSecondary {\n          id\n          name\n          slug\n          attributeId\n          attributeName\n          position\n          isActive\n        }\n        features {\n          id\n          name\n          slug\n          values {\n            id\n            name\n            slug\n          }\n        }\n        productId\n        createdAt\n        components {\n          productComponentId\n          productComponentGroupId\n          quantity\n          isDefault\n          isOptional\n          variations {\n            id\n            name\n            slug\n            gtin\n            mpn\n            additionalShippingTime\n            externalId\n            categoryDefaultId\n            hotsiteId\n            description\n            shortDescription\n            relevance\n            reference\n            tags\n            minQuantity\n            maxQuantity\n            isSellInKitOnly\n            metaTitle\n            metaDescription\n            metaKeywords\n            isKit\n            kitMarkup\n            isVirtual\n            isPreSale\n            video\n            weight\n            depth\n            width\n            height\n            priceOutOfStock\n            isSellOutOfStock\n            additionalTimeOutOfStock\n            balance\n            price\n            minPriceRange\n            maxPriceRange\n            hasPriceRange\n            priceCompare\n            discount\n            billetDiscount\n            paymentsReason\n            warranty\n            model\n            gender\n            ageGroup\n            productId\n            createdAt\n            sku\n            isGift\n          }\n          productComponentGroupName\n        }\n        componentGroups {\n          id\n          name\n          description\n          slug\n          optional\n        }\n        sku\n        colors {\n          id\n          name\n          slug\n          hexadecimal\n          position\n        }\n        isGift\n      }\n      components {\n        productComponentId\n        productComponentGroupId\n        quantity\n        isDefault\n        isOptional\n        productComponentGroupName\n      }\n      componentGroups {\n        id\n        name\n        description\n        slug\n        optional\n      }\n      sku\n      colors {\n        id\n        name\n        slug\n        hexadecimal\n        position\n      }\n      isGift\n    }"};t.prototype.getOneFullQuery=function(t){return"query BuyTogether($filter: filterBuyTogether) {\n      buyTogether(filter: $filter) \n        ".concat(this.getAllFields(t),"\n    }")};t.prototype.getListFullQuery=function(t){return"query BuyTogetherList($filter: filterBuyTogetherList) {\n      buyTogetherList(filter: $filter) \n        ".concat(this.getAllFields(t),"\n    }")};return t}();var xi=undefined&&undefined.__awaiter||function(t,n,i,e){function r(t){return t instanceof i?t:new i((function(n){n(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e["throw"](t))}catch(t){o(t)}}function a(t){t.done?i(t.value):r(t.value).then(s,u)}a((e=e.apply(t,n||[])).next())}))};var _i=undefined&&undefined.__generator||function(t,n){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Ai=function(){function t(){}t.getByProductId=function(t,n){return xi(this,void 0,void 0,(function(){var i,e,r;return _i(this,(function(o){switch(o.label){case 0:i=new Ni(n);e=i.getOneFullQuery("restrict");return[4,ci().query(e,{filter:{productId:t}})];case 1:r=o.sent().buyTogether;return[2,r]}}))}))};t.getByProductIds=function(t,n){return xi(this,void 0,void 0,(function(){var i,e,r;return _i(this,(function(o){switch(o.label){case 0:i=new Ni(n);e=i.getListFullQuery("restrict");return[4,ci().query(e,{filter:{productsIds:t}})];case 1:r=o.sent();return[2,r.buyTogetherList]}}))}))};return t}();var Di=undefined&&undefined.__awaiter||function(t,n,i,e){function r(t){return t instanceof i?t:new i((function(n){n(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e["throw"](t))}catch(t){o(t)}}function a(t){t.done?i(t.value):r(t.value).then(s,u)}a((e=e.apply(t,n||[])).next())}))};var ji=undefined&&undefined.__generator||function(t,n){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Pi=function(){function t(){}t.getByProductId=function(t,n){return Di(this,void 0,void 0,(function(){return ji(this,(function(i){switch(i.label){case 0:return[4,Ai.getByProductId(t,n)];case 1:return[2,i.sent()]}}))}))};t.getByProductIdWithValidPromotionDate=function(t,n){return Di(this,void 0,void 0,(function(){var i;return ji(this,(function(e){switch(e.label){case 0:return[4,Ai.getByProductId(t,n)];case 1:i=e.sent();if(i&&this.checkPromotionDateValid(i))return[2,i];return[2,null]}}))}))};t.getByProductIds=function(t,n){return Di(this,void 0,void 0,(function(){var i;var e=this;return ji(this,(function(r){switch(r.label){case 0:return[4,Ai.getByProductIds(t,n)];case 1:i=r.sent();return[2,i.map((function(t){if(e.checkPromotionDateValid(t))return t}))]}}))}))};t.checkPromotionDateValid=function(t){var n=t.dateFrom,i=t.dateTo;var e=Number(new Date);var r=Number(new Date(n+"T00:00:00"));if(!i)return e>=r;var o=Number(new Date(i+"T00:00:00"));return e>=r&&e<=o};return t}();var Ci=function(){function t(){}t.prototype.formatRichText=function(t){var n=t.replace(/(<([^>]+)>)/gi,"");return n};t.prototype.render=function(t){return JSON.stringify(t)};return t}();var Ri=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(t){Ri(n,t);function n(n){var i=t.call(this)||this;i.shop=n;return i}n.prototype.getShop=function(){var t,n,i,e,r,o,s,u,a,c;if(!this.shop)return;var f={"@context":"http://schema.org","@type":"Store",name:this.shop.name,telephone:this.shop.phone,email:this.shop.email,url:"https://".concat((n=(t=this.shop)===null||t===void 0?void 0:t.domain)!==null&&n!==void 0?n:this.shop.domainTemporary),description:this.shop.description,address:{"@type":"PostalAddress",streetAddress:"".concat((i=this.shop)===null||i===void 0?void 0:i.street," ").concat((e=this.shop)===null||e===void 0?void 0:e.number," ").concat((o=(r=this.shop)===null||r===void 0?void 0:r.detail)!==null&&o!==void 0?o:null),addressLocality:"".concat((s=this.shop)===null||s===void 0?void 0:s.district," - ").concat((u=this.shop)===null||u===void 0?void 0:u.city),addressRegion:(a=this.shop)===null||a===void 0?void 0:a.state,addressCountry:"Brasil",postalCode:(c=this.shop)===null||c===void 0?void 0:c.zipcode}};return this.render(f)};return n})(Ci);var Fi=function(){function t(){}t.getBrandLink=function(t){return"/".concat(t,"/b")};t.getBlogCategoryLink=function(t){return"/blog/".concat(t)};t.getBlogPostLink=function(t){return"/blog/".concat(t)};t.getCategoryLink=function(t){return"/".concat(t,"/c")};t.getInstitutionalLink=function(t){return"/".concat(t,"/i")};t.getLandingPageLink=function(t){return"/".concat(t,"/lp")};t.getProductLink=function(t){return"/".concat(t,"/p")};return t}();var Li=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var Bi=function(t){Li(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}n.prototype.getProductData=function(t){var n,i,e,r,o,s,u,a,c,f,h,l,d,v,p,y,m,b,w,g;var O="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Fi.getProductLink(t===null||t===void 0?void 0:t.slug));var E="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Fi.getBrandLink((n=t===null||t===void 0?void 0:t.brand)===null||n===void 0?void 0:n.slug));var I={"@type":"Product",url:O,name:t===null||t===void 0?void 0:t.name,sku:String(t===null||t===void 0?void 0:t.id),description:t===null||t===void 0?void 0:t.name,offers:{"@type":"AggregateOffer",url:O,priceCurrency:"BRL",priceValidUntil:new Date((new Date).setMonth((new Date).getMonth()+1)).toISOString(),price:t===null||t===void 0?void 0:t.price,lowPrice:(i=t===null||t===void 0?void 0:t.minPriceRange)!==null&&i!==void 0?i:t===null||t===void 0?void 0:t.price,highPrice:(e=t===null||t===void 0?void 0:t.maxPriceRange)!==null&&e!==void 0?e:t===null||t===void 0?void 0:t.price,offerCount:(o=(r=t===null||t===void 0?void 0:t.variations)===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:1,itemCondition:"http://schema.org/NewCondition",availability:"http://schema.org/".concat((t===null||t===void 0?void 0:t.balance)>1?"InStock":"OutOfStock")}};if((s=t===null||t===void 0?void 0:t.images)===null||s===void 0?void 0:s.length){t===null||t===void 0?void 0:t.images.forEach((function(t){I.image=[];I.image.push(t.src)}))}var T=(u=t===null||t===void 0?void 0:t.payments)===null||u===void 0?void 0:u.find((function(t){return t.method=="billet"}));var k=(c=Number((a=T===null||T===void 0?void 0:T.installment)===null||a===void 0?void 0:a.total))!==null&&c!==void 0?c:null;if(k<(t===null||t===void 0?void 0:t.minPriceRange)){I.offers.price=k;I.offers.lowPrice=k}if(t===null||t===void 0?void 0:t.description)I.description=this.formatRichText(t===null||t===void 0?void 0:t.description);if(t===null||t===void 0?void 0:t.brand){I.brand={"@type":"Brand",name:(f=t===null||t===void 0?void 0:t.brand)===null||f===void 0?void 0:f.name,logo:(l=(h=t===null||t===void 0?void 0:t.brand)===null||h===void 0?void 0:h.image)===null||l===void 0?void 0:l.src,image:(v=(d=t===null||t===void 0?void 0:t.brand)===null||d===void 0?void 0:d.image)===null||v===void 0?void 0:v.src,url:E};if((p=t===null||t===void 0?void 0:t.brand)===null||p===void 0?void 0:p.image)I.brand.image=(m=(y=t===null||t===void 0?void 0:t.brand)===null||y===void 0?void 0:y.image)===null||m===void 0?void 0:m.src}if((b=t===null||t===void 0?void 0:t.category)===null||b===void 0?void 0:b.name)I.category=(w=t===null||t===void 0?void 0:t.category)===null||w===void 0?void 0:w.name;if(t===null||t===void 0?void 0:t.weight)I.weight={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.weight,unitCode:"kg"};if(t===null||t===void 0?void 0:t.width)I.width={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.width,unitCode:"cm"};if(t===null||t===void 0?void 0:t.height)I.height={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.height,unitCode:"cm"};if(t===null||t===void 0?void 0:t.depth)I.depth={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.depth,unitCode:"cm"};if(t===null||t===void 0?void 0:t.gtin)I.gtin13=t===null||t===void 0?void 0:t.gtin;if(t===null||t===void 0?void 0:t.color)I.color=t===null||t===void 0?void 0:t.color.name;I.sku=(g=t===null||t===void 0?void 0:t.sku)!==null&&g!==void 0?g:String(t===null||t===void 0?void 0:t.id);return I};return n}(Ci);var Mi=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var Ui=undefined&&undefined.__assign||function(){Ui=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++){n=arguments[i];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return Ui.apply(this,arguments)};(function(t){Mi(n,t);function n(n){var i=t.call(this)||this;i.product=n;return i}n.prototype.getProductItem=function(){var t=Ui({"@context":"https://schema.org"},this.getProductData(this.product));return this.render(t)};return n})(Bi);var Vi=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(t){Vi(n,t);function n(n){var i=t.call(this)||this;i.products=n;return i}n.prototype.getProductList=function(){var t=this;var n={"@context":"https://schema.org","@type":"ItemList",itemListElement:[]};this.products.forEach((function(i,e){var r={"@type":"ListItem",position:e+1,item:t.getProductData(i)};n.itemListElement.push(r)}));return this.render(n)};return n})(Bi);var qi=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(t){qi(n,t);function n(n){var i=t.call(this)||this;i.data=n;return i}n.prototype.getSomeProducts=function(){var t={"@context":"https://schema.org","@type":"SomeProducts"};if(this.data.name)t.name=this.data.name;if(this.data.description)t.description=this.data.description;return this.render(t)};return n})(Ci);var Gi=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(t){Gi(n,t);function n(n){var i=t.call(this)||this;i.brand=n;return i}n.prototype.getBrand=function(){var t,n,i,e,r;var o="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Fi.getBrandLink((t=this.brand)===null||t===void 0?void 0:t.slug));var s={"@context":"https://schema.org","@type":"Brand",name:this.brand.name,logo:(i=(n=this.brand)===null||n===void 0?void 0:n.image)===null||i===void 0?void 0:i.src,image:(r=(e=this.brand)===null||e===void 0?void 0:e.image)===null||r===void 0?void 0:r.src,url:o};return this.render(s)};return n})(Ci);var $i=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(t){$i(n,t);function n(n){var i=t.call(this)||this;i.page=n;return i}n.prototype.getPage=function(){var t;if(((t=this.page)===null||t===void 0?void 0:t.template)==="faq")return this.render(this.faqPage());return this.render(this.genericPage())};n.prototype.genericPage=function(){var t,n,i;var e={"@context":"http://schema.org/","@type":"WebPage",url:(t=this.page)===null||t===void 0?void 0:t.slug,name:(n=this.page)===null||n===void 0?void 0:n.name,description:this.formatRichText(((i=this.page)===null||i===void 0?void 0:i.description)||"")};return e};n.prototype.faqPage=function(){var t=this;var n,i,e,r,o,s;var u={"@context":"http://schema.org/","@type":"FAQPage",url:(n=this.page)===null||n===void 0?void 0:n.slug,name:(i=this.page)===null||i===void 0?void 0:i.name,description:this.formatRichText(((e=this.page)===null||e===void 0?void 0:e.description)||""),mainEntity:[]};if((o=(r=this.page)===null||r===void 0?void 0:r.faq)===null||o===void 0?void 0:o.length){(s=this.page)===null||s===void 0?void 0:s.faq.forEach((function(n){var i={"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:t.formatRichText(n.answer||"")}};u.mainEntity.push(i)}))}return u};return n})(Ci);var Qi=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var Ji=function(t){Qi(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}n.prototype.getPostData=function(t){var n={"@type":"BlogPosting",url:t===null||t===void 0?void 0:t.url,headline:t===null||t===void 0?void 0:t.name,name:t===null||t===void 0?void 0:t.name,dateCreated:t===null||t===void 0?void 0:t.createdAt,datePublished:t===null||t===void 0?void 0:t.createdAt,dateModified:t===null||t===void 0?void 0:t.updatedAt,inLanguage:"pt-BR",articleSection:t===null||t===void 0?void 0:t.category.name,articleBody:this.formatRichText((t===null||t===void 0?void 0:t.description)||"")};if(t===null||t===void 0?void 0:t.image)n.image=t===null||t===void 0?void 0:t.image.src;return n};return n}(Ci);var Yi=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(t){Yi(n,t);function n(n){var i=t.call(this)||this;i.posts=n;return i}n.prototype.getBlogCategory=function(){var t=this;var n={"@context":"https://schema.org","@type":"ItemList",itemListElement:[]};this.posts.forEach((function(i,e){var r={"@type":"ListItem",position:e+1,item:t.getPostData(i)};n.itemListElement.push(r)}));return this.render(n)};return n})(Ji);var Ki=undefined&&undefined.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var Xi=undefined&&undefined.__assign||function(){Xi=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++){n=arguments[i];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return Xi.apply(this,arguments)};(function(t){Ki(n,t);function n(n){var i=t.call(this)||this;i.post=n;return i}n.prototype.getBlogPost=function(){var t=Xi({"@context":"https://schema.org"},this.getPostData(this.post));return this.render(t)};return n})(Ji);const Hi=Object.create(null);Hi["open"]="0";Hi["close"]="1";Hi["ping"]="2";Hi["pong"]="3";Hi["message"]="4";Hi["upgrade"]="5";Hi["noop"]="6";const Wi=Object.create(null);Object.keys(Hi).forEach((t=>{Wi[Hi[t]]=t}));const zi={type:"error",data:"parser error"};const Zi=typeof Blob==="function"||typeof Blob!=="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]";const te=typeof ArrayBuffer==="function";const ne=t=>typeof ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer;const ie=({type:t,data:n},i,e)=>{if(Zi&&n instanceof Blob){if(i){return e(n)}else{return ee(n,e)}}else if(te&&(n instanceof ArrayBuffer||ne(n))){if(i){return e(n)}else{return ee(new Blob([n]),e)}}return e(Hi[t]+(n||""))};const ee=(t,n)=>{const i=new FileReader;i.onload=function(){const t=i.result.split(",")[1];n("b"+(t||""))};return i.readAsDataURL(t)};function re(t){if(t instanceof Uint8Array){return t}else if(t instanceof ArrayBuffer){return new Uint8Array(t)}else{return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}}let oe;function se(t,n){if(Zi&&t.data instanceof Blob){return t.data.arrayBuffer().then(re).then(n)}else if(te&&(t.data instanceof ArrayBuffer||ne(t.data))){return n(re(t.data))}ie(t,false,(t=>{if(!oe){oe=new TextEncoder}n(oe.encode(t))}))}const ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";const ae=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(let t=0;t<ue.length;t++){ae[ue.charCodeAt(t)]=t}const ce=t=>{let n=t.length*.75,i=t.length,e,r=0,o,s,u,a;if(t[t.length-1]==="="){n--;if(t[t.length-2]==="="){n--}}const c=new ArrayBuffer(n),f=new Uint8Array(c);for(e=0;e<i;e+=4){o=ae[t.charCodeAt(e)];s=ae[t.charCodeAt(e+1)];u=ae[t.charCodeAt(e+2)];a=ae[t.charCodeAt(e+3)];f[r++]=o<<2|s>>4;f[r++]=(s&15)<<4|u>>2;f[r++]=(u&3)<<6|a&63}return c};const fe=typeof ArrayBuffer==="function";const he=(t,n)=>{if(typeof t!=="string"){return{type:"message",data:de(t,n)}}const i=t.charAt(0);if(i==="b"){return{type:"message",data:le(t.substring(1),n)}}const e=Wi[i];if(!e){return zi}return t.length>1?{type:Wi[i],data:t.substring(1)}:{type:Wi[i]}};const le=(t,n)=>{if(fe){const i=ce(t);return de(i,n)}else{return{base64:true,data:t}}};const de=(t,n)=>{switch(n){case"blob":if(t instanceof Blob){return t}else{return new Blob([t])}case"arraybuffer":default:if(t instanceof ArrayBuffer){return t}else{return t.buffer}}};const ve=String.fromCharCode(30);const pe=(t,n)=>{const i=t.length;const e=new Array(i);let r=0;t.forEach(((t,o)=>{ie(t,false,(t=>{e[o]=t;if(++r===i){n(e.join(ve))}}))}))};const ye=(t,n)=>{const i=t.split(ve);const e=[];for(let t=0;t<i.length;t++){const r=he(i[t],n);e.push(r);if(r.type==="error"){break}}return e};function me(){return new TransformStream({transform(t,n){se(t,(i=>{const e=i.length;let r;if(e<126){r=new Uint8Array(1);new DataView(r.buffer).setUint8(0,e)}else if(e<65536){r=new Uint8Array(3);const t=new DataView(r.buffer);t.setUint8(0,126);t.setUint16(1,e)}else{r=new Uint8Array(9);const t=new DataView(r.buffer);t.setUint8(0,127);t.setBigUint64(1,BigInt(e))}if(t.data&&typeof t.data!=="string"){r[0]|=128}n.enqueue(r);n.enqueue(i)}))}})}let be;function we(t){return t.reduce(((t,n)=>t+n.length),0)}function ge(t,n){if(t[0].length===n){return t.shift()}const i=new Uint8Array(n);let e=0;for(let r=0;r<n;r++){i[r]=t[0][e++];if(e===t[0].length){t.shift();e=0}}if(t.length&&e<t[0].length){t[0]=t[0].slice(e)}return i}function Oe(t,n){if(!be){be=new TextDecoder}const i=[];let e=0;let r=-1;let o=false;return new TransformStream({transform(s,u){i.push(s);while(true){if(e===0){if(we(i)<1){break}const t=ge(i,1);o=(t[0]&128)===128;r=t[0]&127;if(r<126){e=3}else if(r===126){e=1}else{e=2}}else if(e===1){if(we(i)<2){break}const t=ge(i,2);r=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0);e=3}else if(e===2){if(we(i)<8){break}const t=ge(i,8);const n=new DataView(t.buffer,t.byteOffset,t.length);const o=n.getUint32(0);if(o>Math.pow(2,53-32)-1){u.enqueue(zi);break}r=o*Math.pow(2,32)+n.getUint32(4);e=3}else{if(we(i)<r){break}const t=ge(i,r);u.enqueue(he(o?t:be.decode(t),n));e=0}if(r===0||r>t){u.enqueue(zi);break}}}})}const Ee=4;function Ie(t){if(t)return Te(t)}function Te(t){for(var n in Ie.prototype){t[n]=Ie.prototype[n]}return t}Ie.prototype.on=Ie.prototype.addEventListener=function(t,n){this._callbacks=this._callbacks||{};(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n);return this};Ie.prototype.once=function(t,n){function i(){this.off(t,i);n.apply(this,arguments)}i.fn=n;this.on(t,i);return this};Ie.prototype.off=Ie.prototype.removeListener=Ie.prototype.removeAllListeners=Ie.prototype.removeEventListener=function(t,n){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length){delete this._callbacks["$"+t];return this}var e;for(var r=0;r<i.length;r++){e=i[r];if(e===n||e.fn===n){i.splice(r,1);break}}if(i.length===0){delete this._callbacks["$"+t]}return this};Ie.prototype.emit=function(t){this._callbacks=this._callbacks||{};var n=new Array(arguments.length-1),i=this._callbacks["$"+t];for(var e=1;e<arguments.length;e++){n[e-1]=arguments[e]}if(i){i=i.slice(0);for(var e=0,r=i.length;e<r;++e){i[e].apply(this,n)}}return this};Ie.prototype.emitReserved=Ie.prototype.emit;Ie.prototype.listeners=function(t){this._callbacks=this._callbacks||{};return this._callbacks["$"+t]||[]};Ie.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ke=(()=>{if(typeof self!=="undefined"){return self}else if(typeof window!=="undefined"){return window}else{return Function("return this")()}})();function Se(t,...n){return n.reduce(((n,i)=>{if(t.hasOwnProperty(i)){n[i]=t[i]}return n}),{})}const Ne=ke.setTimeout;const xe=ke.clearTimeout;function _e(t,n){if(n.useNativeTimers){t.setTimeoutFn=Ne.bind(ke);t.clearTimeoutFn=xe.bind(ke)}else{t.setTimeoutFn=ke.setTimeout.bind(ke);t.clearTimeoutFn=ke.clearTimeout.bind(ke)}}const Ae=1.33;function De(t){if(typeof t==="string"){return je(t)}return Math.ceil((t.byteLength||t.size)*Ae)}function je(t){let n=0,i=0;for(let e=0,r=t.length;e<r;e++){n=t.charCodeAt(e);if(n<128){i+=1}else if(n<2048){i+=2}else if(n<55296||n>=57344){i+=3}else{e++;i+=4}}return i}function Pe(t){let n="";for(let i in t){if(t.hasOwnProperty(i)){if(n.length)n+="&";n+=encodeURIComponent(i)+"="+encodeURIComponent(t[i])}}return n}function Ce(t){let n={};let i=t.split("&");for(let t=0,e=i.length;t<e;t++){let e=i[t].split("=");n[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return n}class Re extends Error{constructor(t,n,i){super(t);this.description=n;this.context=i;this.type="TransportError"}}class Fe extends Ie{constructor(t){super();this.writable=false;_e(this,t);this.opts=t;this.query=t.query;this.socket=t.socket}onError(t,n,i){super.emitReserved("error",new Re(t,n,i));return this}open(){this.readyState="opening";this.doOpen();return this}close(){if(this.readyState==="opening"||this.readyState==="open"){this.doClose();this.onClose()}return this}send(t){if(this.readyState==="open"){this.write(t)}}onOpen(){this.readyState="open";this.writable=true;super.emitReserved("open")}onData(t){const n=he(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed";super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){if(this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)){return":"+this.opts.port}else{return""}}_query(t){const n=Pe(t);return n.length?"?"+n:""}}const Le="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Be=64,Me={};let Ue=0,Ve=0,qe;function Ge(t){let n="";do{n=Le[t%Be]+n;t=Math.floor(t/Be)}while(t>0);return n}function $e(){const t=Ge(+new Date);if(t!==qe)return Ue=0,qe=t;return t+"."+Ge(Ue++)}for(;Ve<Be;Ve++)Me[Le[Ve]]=Ve;let Qe=false;try{Qe=typeof XMLHttpRequest!=="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){}const Je=Qe;function Ye(t){const n=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!n||Je)){return new XMLHttpRequest}}catch(t){}if(!n){try{return new(ke[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}function Ke(){}function Xe(){}const He=function(){const t=new Ye({xdomain:false});return null!=t.responseType}();class We extends Fe{constructor(t){super(t);this.polling=false;if(typeof location!=="undefined"){const n="https:"===location.protocol;let i=location.port;if(!i){i=n?"443":"80"}this.xd=typeof location!=="undefined"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=He&&!n;if(this.opts.withCredentials){this.cookieJar=Ke()}}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused";t()};if(this.polling||!this.writable){let t=0;if(this.polling){t++;this.once("pollComplete",(function(){--t||n()}))}if(!this.writable){t++;this.once("drain",(function(){--t||n()}))}}else{n()}}poll(){this.polling=true;this.doPoll();this.emitReserved("poll")}onData(t){const n=t=>{if("opening"===this.readyState&&t.type==="open"){this.onOpen()}if("close"===t.type){this.onClose({description:"transport closed by the server"});return false}this.onPacket(t)};ye(t,this.socket.binaryType).forEach(n);if("closed"!==this.readyState){this.polling=false;this.emitReserved("pollComplete");if("open"===this.readyState){this.poll()}}}doClose(){const t=()=>{this.write([{type:"close"}])};if("open"===this.readyState){t()}else{this.once("open",t)}}write(t){this.writable=false;pe(t,(t=>{this.doWrite(t,(()=>{this.writable=true;this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http";const n=this.query||{};if(false!==this.opts.timestampRequests){n[this.opts.timestampParam]=$e()}if(!this.supportsBinary&&!n.sid){n.b64=1}return this.createUri(t,n)}request(t={}){Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts);return new ze(this.uri(),t)}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n);i.on("error",((t,n)=>{this.onError("xhr post error",t,n)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this));t.on("error",((t,n)=>{this.onError("xhr poll error",t,n)}));this.pollXhr=t}}class ze extends Ie{constructor(t,n){super();_e(this,n);this.opts=n;this.method=n.method||"GET";this.uri=t;this.data=undefined!==n.data?n.data:null;this.create()}create(){var t;const n=Se(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new Ye(n);try{i.open(this.method,this.uri,true);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(true);for(let t in this.opts.extraHeaders){if(this.opts.extraHeaders.hasOwnProperty(t)){i.setRequestHeader(t,this.opts.extraHeaders[t])}}}}catch(t){}if("POST"===this.method){try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}}try{i.setRequestHeader("Accept","*/*")}catch(t){}(t=this.opts.cookieJar)===null||t===void 0?void 0:t.addCookies(i);if("withCredentials"in i){i.withCredentials=this.opts.withCredentials}if(this.opts.requestTimeout){i.timeout=this.opts.requestTimeout}i.onreadystatechange=()=>{var t;if(i.readyState===3){(t=this.opts.cookieJar)===null||t===void 0?void 0:t.parseCookies(i)}if(4!==i.readyState)return;if(200===i.status||1223===i.status){this.onLoad()}else{this.setTimeoutFn((()=>{this.onError(typeof i.status==="number"?i.status:0)}),0)}};i.send(this.data)}catch(t){this.setTimeoutFn((()=>{this.onError(t)}),0);return}if(typeof document!=="undefined"){this.index=ze.requestsCount++;ze.requests[this.index]=this}}onError(t){this.emitReserved("error",t,this.xhr);this.cleanup(true)}cleanup(t){if("undefined"===typeof this.xhr||null===this.xhr){return}this.xhr.onreadystatechange=Xe;if(t){try{this.xhr.abort()}catch(t){}}if(typeof document!=="undefined"){delete ze.requests[this.index]}this.xhr=null}onLoad(){const t=this.xhr.responseText;if(t!==null){this.emitReserved("data",t);this.emitReserved("success");this.cleanup()}}abort(){this.cleanup()}}ze.requestsCount=0;ze.requests={};if(typeof document!=="undefined"){if(typeof attachEvent==="function"){attachEvent("onunload",Ze)}else if(typeof addEventListener==="function"){const t="onpagehide"in ke?"pagehide":"unload";addEventListener(t,Ze,false)}}function Ze(){for(let t in ze.requests){if(ze.requests.hasOwnProperty(t)){ze.requests[t].abort()}}}const tr=(()=>{const t=typeof Promise==="function"&&typeof Promise.resolve==="function";if(t){return t=>Promise.resolve().then(t)}else{return(t,n)=>n(t,0)}})();const nr=ke.WebSocket||ke.MozWebSocket;const ir="arraybuffer";const er=typeof navigator!=="undefined"&&typeof navigator.product==="string"&&navigator.product.toLowerCase()==="reactnative";class rr extends Fe{constructor(t){super(t);this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check()){return}const t=this.uri();const n=this.opts.protocols;const i=er?{}:Se(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");if(this.opts.extraHeaders){i.headers=this.opts.extraHeaders}try{this.ws=!er?n?new nr(t,n):new nr(t):new nr(t,n,i)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType;this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{if(this.opts.autoUnref){this.ws._socket.unref()}this.onOpen()};this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t});this.ws.onmessage=t=>this.onData(t.data);this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=false;for(let n=0;n<t.length;n++){const i=t[n];const e=n===t.length-1;ie(i,this.supportsBinary,(t=>{try{{this.ws.send(t)}}catch(t){}if(e){tr((()=>{this.writable=true;this.emitReserved("drain")}),this.setTimeoutFn)}}))}}doClose(){if(typeof this.ws!=="undefined"){this.ws.close();this.ws=null}}uri(){const t=this.opts.secure?"wss":"ws";const n=this.query||{};if(this.opts.timestampRequests){n[this.opts.timestampParam]=$e()}if(!this.supportsBinary){n.b64=1}return this.createUri(t,n)}check(){return!!nr}}class or extends Fe{get name(){return"webtransport"}doOpen(){if(typeof WebTransport!=="function"){return}this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]);this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)}));this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const n=Oe(Number.MAX_SAFE_INTEGER,this.socket.binaryType);const i=t.readable.pipeThrough(n).getReader();const e=me();e.readable.pipeTo(t.writable);this.writer=e.writable.getWriter();const r=()=>{i.read().then((({done:t,value:n})=>{if(t){return}this.onPacket(n);r()})).catch((t=>{}))};r();const o={type:"open"};if(this.query.sid){o.data=`{"sid":"${this.query.sid}"}`}this.writer.write(o).then((()=>this.onOpen()))}))}))}write(t){this.writable=false;for(let n=0;n<t.length;n++){const i=t[n];const e=n===t.length-1;this.writer.write(i).then((()=>{if(e){tr((()=>{this.writable=true;this.emitReserved("drain")}),this.setTimeoutFn)}}))}}doClose(){var t;(t=this.transport)===null||t===void 0?void 0:t.close()}}const sr={websocket:rr,webtransport:or,polling:We};const ur=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;const ar=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function cr(t){if(t.length>2e3){throw"URI too long"}const n=t,i=t.indexOf("["),e=t.indexOf("]");if(i!=-1&&e!=-1){t=t.substring(0,i)+t.substring(i,e).replace(/:/g,";")+t.substring(e,t.length)}let r=ur.exec(t||""),o={},s=14;while(s--){o[ar[s]]=r[s]||""}if(i!=-1&&e!=-1){o.source=n;o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":");o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":");o.ipv6uri=true}o.pathNames=fr(o,o["path"]);o.queryKey=hr(o,o["query"]);return o}function fr(t,n){const i=/\/{2,9}/g,e=n.replace(i,"/").split("/");if(n.slice(0,1)=="/"||n.length===0){e.splice(0,1)}if(n.slice(-1)=="/"){e.splice(e.length-1,1)}return e}function hr(t,n){const i={};n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,n,e){if(n){i[n]=e}}));return i}class lr extends Ie{constructor(t,n={}){super();this.binaryType=ir;this.writeBuffer=[];if(t&&"object"===typeof t){n=t;t=null}if(t){t=cr(t);n.hostname=t.host;n.secure=t.protocol==="https"||t.protocol==="wss";n.port=t.port;if(t.query)n.query=t.query}else if(n.host){n.hostname=cr(n.host).host}_e(this,n);this.secure=null!=n.secure?n.secure:typeof location!=="undefined"&&"https:"===location.protocol;if(n.hostname&&!n.port){n.port=this.secure?"443":"80"}this.hostname=n.hostname||(typeof location!=="undefined"?location.hostname:"localhost");this.port=n.port||(typeof location!=="undefined"&&location.port?location.port:this.secure?"443":"80");this.transports=n.transports||["polling","websocket","webtransport"];this.writeBuffer=[];this.prevBufferLen=0;this.opts=Object.assign({path:"/engine.io",agent:false,withCredentials:false,upgrade:true,timestampParam:"t",rememberUpgrade:false,addTrailingSlash:true,rejectUnauthorized:true,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:false},n);this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":"");if(typeof this.opts.query==="string"){this.opts.query=Ce(this.opts.query)}this.id=null;this.upgrades=null;this.pingInterval=null;this.pingTimeout=null;this.pingTimeoutTimer=null;if(typeof addEventListener==="function"){if(this.opts.closeOnBeforeunload){this.beforeunloadEventListener=()=>{if(this.transport){this.transport.removeAllListeners();this.transport.close()}};addEventListener("beforeunload",this.beforeunloadEventListener,false)}if(this.hostname!=="localhost"){this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})};addEventListener("offline",this.offlineEventListener,false)}}this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ee;n.transport=t;if(this.id)n.sid=this.id;const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new sr[t](i)}open(){let t;if(this.opts.rememberUpgrade&&lr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1){t="websocket"}else if(0===this.transports.length){this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);return}else{t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){this.transports.shift();this.open();return}t.open();this.setTransport(t)}setTransport(t){if(this.transport){this.transport.removeAllListeners()}this.transport=t;t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let n=this.createTransport(t);let i=false;lr.priorWebsocketSuccess=false;const e=()=>{if(i)return;n.send([{type:"ping",data:"probe"}]);n.once("packet",(t=>{if(i)return;if("pong"===t.type&&"probe"===t.data){this.upgrading=true;this.emitReserved("upgrading",n);if(!n)return;lr.priorWebsocketSuccess="websocket"===n.name;this.transport.pause((()=>{if(i)return;if("closed"===this.readyState)return;c();this.setTransport(n);n.send([{type:"upgrade"}]);this.emitReserved("upgrade",n);n=null;this.upgrading=false;this.flush()}))}else{const t=new Error("probe error");t.transport=n.name;this.emitReserved("upgradeError",t)}}))};function r(){if(i)return;i=true;c();n.close();n=null}const o=t=>{const i=new Error("probe error: "+t);i.transport=n.name;r();this.emitReserved("upgradeError",i)};function s(){o("transport closed")}function u(){o("socket closed")}function a(t){if(n&&t.name!==n.name){r()}}const c=()=>{n.removeListener("open",e);n.removeListener("error",o);n.removeListener("close",s);this.off("close",u);this.off("upgrading",a)};n.once("open",e);n.once("error",o);n.once("close",s);this.once("close",u);this.once("upgrading",a);if(this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"){this.setTimeoutFn((()=>{if(!i){n.open()}}),200)}else{n.open()}}onOpen(){this.readyState="open";lr.priorWebsocketSuccess="websocket"===this.transport.name;this.emitReserved("open");this.flush();if("open"===this.readyState&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++){this.probe(this.upgrades[t])}}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){this.emitReserved("packet",t);this.emitReserved("heartbeat");this.resetPingTimeout();switch(t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong");this.emitReserved("ping");this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data;this.onError(n);break;case"message":this.emitReserved("data",t.data);this.emitReserved("message",t.data);break}}}onHandshake(t){this.emitReserved("handshake",t);this.id=t.sid;this.transport.query.sid=t.sid;this.upgrades=this.filterUpgrades(t.upgrades);this.pingInterval=t.pingInterval;this.pingTimeout=t.pingTimeout;this.maxPayload=t.maxPayload;this.onOpen();if("closed"===this.readyState)return;this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout);if(this.opts.autoUnref){this.pingTimeoutTimer.unref()}}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;if(0===this.writeBuffer.length){this.emitReserved("drain")}else{this.flush()}}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t);this.prevBufferLen=t.length;this.emitReserved("flush")}}getWritablePackets(){const t=this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1;if(!t){return this.writeBuffer}let n=1;for(let t=0;t<this.writeBuffer.length;t++){const i=this.writeBuffer[t].data;if(i){n+=De(i)}if(t>0&&n>this.maxPayload){return this.writeBuffer.slice(0,t)}n+=2}return this.writeBuffer}write(t,n,i){this.sendPacket("message",t,n,i);return this}send(t,n,i){this.sendPacket("message",t,n,i);return this}sendPacket(t,n,i,e){if("function"===typeof n){e=n;n=undefined}if("function"===typeof i){e=i;i=null}if("closing"===this.readyState||"closed"===this.readyState){return}i=i||{};i.compress=false!==i.compress;const r={type:t,data:n,options:i};this.emitReserved("packetCreate",r);this.writeBuffer.push(r);if(e)this.once("flush",e);this.flush()}close(){const t=()=>{this.onClose("forced close");this.transport.close()};const n=()=>{this.off("upgrade",n);this.off("upgradeError",n);t()};const i=()=>{this.once("upgrade",n);this.once("upgradeError",n)};if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";if(this.writeBuffer.length){this.once("drain",(()=>{if(this.upgrading){i()}else{t()}}))}else if(this.upgrading){i()}else{t()}}return this}onError(t){lr.priorWebsocketSuccess=false;this.emitReserved("error",t);this.onClose("transport error",t)}onClose(t,n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){this.clearTimeoutFn(this.pingTimeoutTimer);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();if(typeof removeEventListener==="function"){removeEventListener("beforeunload",this.beforeunloadEventListener,false);removeEventListener("offline",this.offlineEventListener,false)}this.readyState="closed";this.id=null;this.emitReserved("close",t,n);this.writeBuffer=[];this.prevBufferLen=0}}filterUpgrades(t){const n=[];let i=0;const e=t.length;for(;i<e;i++){if(~this.transports.indexOf(t[i]))n.push(t[i])}return n}}lr.protocol=Ee;function dr(t,n="",i){let e=t;i=i||typeof location!=="undefined"&&location;if(null==t)t=i.protocol+"//"+i.host;if(typeof t==="string"){if("/"===t.charAt(0)){if("/"===t.charAt(1)){t=i.protocol+t}else{t=i.host+t}}if(!/^(https?|wss?):\/\//.test(t)){if("undefined"!==typeof i){t=i.protocol+"//"+t}else{t="https://"+t}}e=cr(t)}if(!e.port){if(/^(http|ws)$/.test(e.protocol)){e.port="80"}else if(/^(http|ws)s$/.test(e.protocol)){e.port="443"}}e.path=e.path||"/";const r=e.host.indexOf(":")!==-1;const o=r?"["+e.host+"]":e.host;e.id=e.protocol+"://"+o+":"+e.port+n;e.href=e.protocol+"://"+o+(i&&i.port===e.port?"":":"+e.port);return e}const vr=typeof ArrayBuffer==="function";const pr=t=>typeof ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer;const yr=Object.prototype.toString;const mr=typeof Blob==="function"||typeof Blob!=="undefined"&&yr.call(Blob)==="[object BlobConstructor]";const br=typeof File==="function"||typeof File!=="undefined"&&yr.call(File)==="[object FileConstructor]";function wr(t){return vr&&(t instanceof ArrayBuffer||pr(t))||mr&&t instanceof Blob||br&&t instanceof File}function gr(t,n){if(!t||typeof t!=="object"){return false}if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++){if(gr(t[n])){return true}}return false}if(wr(t)){return true}if(t.toJSON&&typeof t.toJSON==="function"&&arguments.length===1){return gr(t.toJSON(),true)}for(const n in t){if(Object.prototype.hasOwnProperty.call(t,n)&&gr(t[n])){return true}}return false}function Or(t){const n=[];const i=t.data;const e=t;e.data=Er(i,n);e.attachments=n.length;return{packet:e,buffers:n}}function Er(t,n){if(!t)return t;if(wr(t)){const i={_placeholder:true,num:n.length};n.push(t);return i}else if(Array.isArray(t)){const i=new Array(t.length);for(let e=0;e<t.length;e++){i[e]=Er(t[e],n)}return i}else if(typeof t==="object"&&!(t instanceof Date)){const i={};for(const e in t){if(Object.prototype.hasOwnProperty.call(t,e)){i[e]=Er(t[e],n)}}return i}return t}function Ir(t,n){t.data=Tr(t.data,n);delete t.attachments;return t}function Tr(t,n){if(!t)return t;if(t&&t._placeholder===true){const i=typeof t.num==="number"&&t.num>=0&&t.num<n.length;if(i){return n[t.num]}else{throw new Error("illegal attachments")}}else if(Array.isArray(t)){for(let i=0;i<t.length;i++){t[i]=Tr(t[i],n)}}else if(typeof t==="object"){for(const i in t){if(Object.prototype.hasOwnProperty.call(t,i)){t[i]=Tr(t[i],n)}}}return t}const kr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];const Sr=5;var Nr;(function(t){t[t["CONNECT"]=0]="CONNECT";t[t["DISCONNECT"]=1]="DISCONNECT";t[t["EVENT"]=2]="EVENT";t[t["ACK"]=3]="ACK";t[t["CONNECT_ERROR"]=4]="CONNECT_ERROR";t[t["BINARY_EVENT"]=5]="BINARY_EVENT";t[t["BINARY_ACK"]=6]="BINARY_ACK"})(Nr||(Nr={}));class xr{constructor(t){this.replacer=t}encode(t){if(t.type===Nr.EVENT||t.type===Nr.ACK){if(gr(t)){return this.encodeAsBinary({type:t.type===Nr.EVENT?Nr.BINARY_EVENT:Nr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}}return[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;if(t.type===Nr.BINARY_EVENT||t.type===Nr.BINARY_ACK){n+=t.attachments+"-"}if(t.nsp&&"/"!==t.nsp){n+=t.nsp+","}if(null!=t.id){n+=t.id}if(null!=t.data){n+=JSON.stringify(t.data,this.replacer)}return n}encodeAsBinary(t){const n=Or(t);const i=this.encodeAsString(n.packet);const e=n.buffers;e.unshift(i);return e}}function _r(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ar extends Ie{constructor(t){super();this.reviver=t}add(t){let n;if(typeof t==="string"){if(this.reconstructor){throw new Error("got plaintext data when reconstructing a packet")}n=this.decodeString(t);const i=n.type===Nr.BINARY_EVENT;if(i||n.type===Nr.BINARY_ACK){n.type=i?Nr.EVENT:Nr.ACK;this.reconstructor=new Dr(n);if(n.attachments===0){super.emitReserved("decoded",n)}}else{super.emitReserved("decoded",n)}}else if(wr(t)||t.base64){if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}else{n=this.reconstructor.takeBinaryData(t);if(n){this.reconstructor=null;super.emitReserved("decoded",n)}}}else{throw new Error("Unknown type: "+t)}}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(Nr[i.type]===undefined){throw new Error("unknown packet type "+i.type)}if(i.type===Nr.BINARY_EVENT||i.type===Nr.BINARY_ACK){const e=n+1;while(t.charAt(++n)!=="-"&&n!=t.length){}const r=t.substring(e,n);if(r!=Number(r)||t.charAt(n)!=="-"){throw new Error("Illegal attachments")}i.attachments=Number(r)}if("/"===t.charAt(n+1)){const e=n+1;while(++n){const i=t.charAt(n);if(","===i)break;if(n===t.length)break}i.nsp=t.substring(e,n)}else{i.nsp="/"}const e=t.charAt(n+1);if(""!==e&&Number(e)==e){const e=n+1;while(++n){const i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(n===t.length)break}i.id=Number(t.substring(e,n+1))}if(t.charAt(++n)){const e=this.tryParse(t.substr(n));if(Ar.isPayloadValid(i.type,e)){i.data=e}else{throw new Error("invalid payload")}}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return false}}static isPayloadValid(t,n){switch(t){case Nr.CONNECT:return _r(n);case Nr.DISCONNECT:return n===undefined;case Nr.CONNECT_ERROR:return typeof n==="string"||_r(n);case Nr.EVENT:case Nr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]==="number"||typeof n[0]==="string"&&kr.indexOf(n[0])===-1);case Nr.ACK:case Nr.BINARY_ACK:return Array.isArray(n)}}destroy(){if(this.reconstructor){this.reconstructor.finishedReconstruction();this.reconstructor=null}}}class Dr{constructor(t){this.packet=t;this.buffers=[];this.reconPack=t}takeBinaryData(t){this.buffers.push(t);if(this.buffers.length===this.reconPack.attachments){const t=Ir(this.reconPack,this.buffers);this.finishedReconstruction();return t}return null}finishedReconstruction(){this.reconPack=null;this.buffers=[]}}const jr=Object.freeze({__proto__:null,protocol:Sr,get PacketType(){return Nr},Encoder:xr,Decoder:Ar});function Pr(t,n,i){t.on(n,i);return function e(){t.off(n,i)}}const Cr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Rr extends Ie{constructor(t,n,i){super();this.connected=false;this.recovered=false;this.receiveBuffer=[];this.sendBuffer=[];this._queue=[];this._queueSeq=0;this.ids=0;this.acks={};this.flags={};this.io=t;this.nsp=n;if(i&&i.auth){this.auth=i.auth}this._opts=Object.assign({},i);if(this.io._autoConnect)this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pr(t,"open",this.onopen.bind(this)),Pr(t,"packet",this.onpacket.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){if(this.connected)return this;this.subEvents();if(!this.io["_reconnecting"])this.io.open();if("open"===this.io._readyState)this.onopen();return this}open(){return this.connect()}send(...t){t.unshift("message");this.emit.apply(this,t);return this}emit(t,...n){if(Cr.hasOwnProperty(t)){throw new Error('"'+t.toString()+'" is a reserved event name')}n.unshift(t);if(this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile){this._addToQueue(n);return this}const i={type:Nr.EVENT,data:n};i.options={};i.options.compress=this.flags.compress!==false;if("function"===typeof n[n.length-1]){const t=this.ids++;const e=n.pop();this._registerAckCallback(t,e);i.id=t}const e=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;const r=this.flags.volatile&&(!e||!this.connected);if(r);else if(this.connected){this.notifyOutgoingListeners(i);this.packet(i)}else{this.sendBuffer.push(i)}this.flags={};return this}_registerAckCallback(t,n){var i;const e=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(e===undefined){this.acks[t]=n;return}const r=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let n=0;n<this.sendBuffer.length;n++){if(this.sendBuffer[n].id===t){this.sendBuffer.splice(n,1)}}n.call(this,new Error("operation has timed out"))}),e);const o=(...t)=>{this.io.clearTimeoutFn(r);n.apply(this,t)};o.withError=true;this.acks[t]=o}emitWithAck(t,...n){return new Promise(((i,e)=>{const r=(t,n)=>t?e(t):i(n);r.withError=true;n.push(r);this.emit(t,...n)}))}_addToQueue(t){let n;if(typeof t[t.length-1]==="function"){n=t.pop()}const i={id:this._queueSeq++,tryCount:0,pending:false,args:t,flags:Object.assign({fromQueue:true},this.flags)};t.push(((t,...e)=>{if(i!==this._queue[0]){return}const r=t!==null;if(r){if(i.tryCount>this._opts.retries){this._queue.shift();if(n){n(t)}}}else{this._queue.shift();if(n){n(null,...e)}}i.pending=false;return this._drainQueue()}));this._queue.push(i);this._drainQueue()}_drainQueue(t=false){if(!this.connected||this._queue.length===0){return}const n=this._queue[0];if(n.pending&&!t){return}n.pending=true;n.tryCount++;this.flags=n.flags;this.emit.apply(this,n.args)}packet(t){t.nsp=this.nsp;this.io._packet(t)}onopen(){if(typeof this.auth=="function"){this.auth((t=>{this._sendConnectPacket(t)}))}else{this._sendConnectPacket(this.auth)}}_sendConnectPacket(t){this.packet({type:Nr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){if(!this.connected){this.emitReserved("connect_error",t)}}onclose(t,n){this.connected=false;delete this.id;this.emitReserved("disconnect",t,n);this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{const n=this.sendBuffer.some((n=>String(n.id)===t));if(!n){const n=this.acks[t];delete this.acks[t];if(n.withError){n.call(this,new Error("socket has been disconnected"))}}}))}onpacket(t){const n=t.nsp===this.nsp;if(!n)return;switch(t.type){case Nr.CONNECT:if(t.data&&t.data.sid){this.onconnect(t.data.sid,t.data.pid)}else{this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"))}break;case Nr.EVENT:case Nr.BINARY_EVENT:this.onevent(t);break;case Nr.ACK:case Nr.BINARY_ACK:this.onack(t);break;case Nr.DISCONNECT:this.ondisconnect();break;case Nr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data;this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];if(null!=t.id){n.push(this.ack(t.id))}if(this.connected){this.emitEvent(n)}else{this.receiveBuffer.push(Object.freeze(n))}}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n){i.apply(this,t)}}super.emit.apply(this,t);if(this._pid&&t.length&&typeof t[t.length-1]==="string"){this._lastOffset=t[t.length-1]}}ack(t){const n=this;let i=false;return function(...e){if(i)return;i=true;n.packet({type:Nr.ACK,id:t,data:e})}}onack(t){const n=this.acks[t.id];if(typeof n!=="function"){return}delete this.acks[t.id];if(n.withError){t.data.unshift(null)}n.apply(this,t.data)}onconnect(t,n){this.id=t;this.recovered=n&&this._pid===n;this._pid=n;this.connected=true;this.emitBuffered();this.emitReserved("connect");this._drainQueue(true)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t)));this.receiveBuffer=[];this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t);this.packet(t)}));this.sendBuffer=[]}ondisconnect(){this.destroy();this.onclose("io server disconnect")}destroy(){if(this.subs){this.subs.forEach((t=>t()));this.subs=undefined}this.io["_destroy"](this)}disconnect(){if(this.connected){this.packet({type:Nr.DISCONNECT})}this.destroy();if(this.connected){this.onclose("io client disconnect")}return this}close(){return this.disconnect()}compress(t){this.flags.compress=t;return this}get volatile(){this.flags.volatile=true;return this}timeout(t){this.flags.timeout=t;return this}onAny(t){this._anyListeners=this._anyListeners||[];this._anyListeners.push(t);return this}prependAny(t){this._anyListeners=this._anyListeners||[];this._anyListeners.unshift(t);return this}offAny(t){if(!this._anyListeners){return this}if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++){if(t===n[i]){n.splice(i,1);return this}}}else{this._anyListeners=[]}return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){this._anyOutgoingListeners=this._anyOutgoingListeners||[];this._anyOutgoingListeners.push(t);return this}prependAnyOutgoing(t){this._anyOutgoingListeners=this._anyOutgoingListeners||[];this._anyOutgoingListeners.unshift(t);return this}offAnyOutgoing(t){if(!this._anyOutgoingListeners){return this}if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++){if(t===n[i]){n.splice(i,1);return this}}}else{this._anyOutgoingListeners=[]}return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n){i.apply(this,t.data)}}}}function Fr(t){t=t||{};this.ms=t.min||100;this.max=t.max||1e4;this.factor=t.factor||2;this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0;this.attempts=0}Fr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random();var i=Math.floor(n*this.jitter*t);t=(Math.floor(n*10)&1)==0?t-i:t+i}return Math.min(t,this.max)|0};Fr.prototype.reset=function(){this.attempts=0};Fr.prototype.setMin=function(t){this.ms=t};Fr.prototype.setMax=function(t){this.max=t};Fr.prototype.setJitter=function(t){this.jitter=t};class Lr extends Ie{constructor(t,n){var i;super();this.nsps={};this.subs=[];if(t&&"object"===typeof t){n=t;t=undefined}n=n||{};n.path=n.path||"/socket.io";this.opts=n;_e(this,n);this.reconnection(n.reconnection!==false);this.reconnectionAttempts(n.reconnectionAttempts||Infinity);this.reconnectionDelay(n.reconnectionDelay||1e3);this.reconnectionDelayMax(n.reconnectionDelayMax||5e3);this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5);this.backoff=new Fr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==n.timeout?2e4:n.timeout);this._readyState="closed";this.uri=t;const e=n.parser||jr;this.encoder=new e.Encoder;this.decoder=new e.Decoder;this._autoConnect=n.autoConnect!==false;if(this._autoConnect)this.open()}reconnection(t){if(!arguments.length)return this._reconnection;this._reconnection=!!t;return this}reconnectionAttempts(t){if(t===undefined)return this._reconnectionAttempts;this._reconnectionAttempts=t;return this}reconnectionDelay(t){var n;if(t===undefined)return this._reconnectionDelay;this._reconnectionDelay=t;(n=this.backoff)===null||n===void 0?void 0:n.setMin(t);return this}randomizationFactor(t){var n;if(t===undefined)return this._randomizationFactor;this._randomizationFactor=t;(n=this.backoff)===null||n===void 0?void 0:n.setJitter(t);return this}reconnectionDelayMax(t){var n;if(t===undefined)return this._reconnectionDelayMax;this._reconnectionDelayMax=t;(n=this.backoff)===null||n===void 0?void 0:n.setMax(t);return this}timeout(t){if(!arguments.length)return this._timeout;this._timeout=t;return this}maybeReconnectOnOpen(){if(!this._reconnecting&&this._reconnection&&this.backoff.attempts===0){this.reconnect()}}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new lr(this.uri,this.opts);const n=this.engine;const i=this;this._readyState="opening";this.skipReconnect=false;const e=Pr(n,"open",(function(){i.onopen();t&&t()}));const r=n=>{this.cleanup();this._readyState="closed";this.emitReserved("error",n);if(t){t(n)}else{this.maybeReconnectOnOpen()}};const o=Pr(n,"error",r);if(false!==this._timeout){const t=this._timeout;const i=this.setTimeoutFn((()=>{e();r(new Error("timeout"));n.close()}),t);if(this.opts.autoUnref){i.unref()}this.subs.push((()=>{this.clearTimeoutFn(i)}))}this.subs.push(e);this.subs.push(o);return this}connect(t){return this.open(t)}onopen(){this.cleanup();this._readyState="open";this.emitReserved("open");const t=this.engine;this.subs.push(Pr(t,"ping",this.onping.bind(this)),Pr(t,"data",this.ondata.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this)),Pr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){tr((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];if(!i){i=new Rr(this,t,n);this.nsps[t]=i}else if(this._autoConnect&&!i.active){i.connect()}return i}_destroy(t){const n=Object.keys(this.nsps);for(const t of n){const n=this.nsps[t];if(n.active){return}}this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++){this.engine.write(n[i],t.options)}}cleanup(){this.subs.forEach((t=>t()));this.subs.length=0;this.decoder.destroy()}_close(){this.skipReconnect=true;this._reconnecting=false;this.onclose("forced close");if(this.engine)this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup();this.backoff.reset();this._readyState="closed";this.emitReserved("close",t,n);if(this._reconnection&&!this.skipReconnect){this.reconnect()}}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts){this.backoff.reset();this.emitReserved("reconnect_failed");this._reconnecting=false}else{const n=this.backoff.duration();this._reconnecting=true;const i=this.setTimeoutFn((()=>{if(t.skipReconnect)return;this.emitReserved("reconnect_attempt",t.backoff.attempts);if(t.skipReconnect)return;t.open((n=>{if(n){t._reconnecting=false;t.reconnect();this.emitReserved("reconnect_error",n)}else{t.onreconnect()}}))}),n);if(this.opts.autoUnref){i.unref()}this.subs.push((()=>{this.clearTimeoutFn(i)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=false;this.backoff.reset();this.emitReserved("reconnect",t)}}const Br={};function Mr(t,n){if(typeof t==="object"){n=t;t=undefined}n=n||{};const i=dr(t,n.path||"/socket.io");const e=i.source;const r=i.id;const o=i.path;const s=Br[r]&&o in Br[r]["nsps"];const u=n.forceNew||n["force new connection"]||false===n.multiplex||s;let a;if(u){a=new Lr(e,n)}else{if(!Br[r]){Br[r]=new Lr(e,n)}a=Br[r]}if(i.query&&!n.query){n.query=i.queryKey}return a.socket(i.path,n)}Object.assign(Mr,{Manager:Lr,Socket:Rr,io:Mr,connect:Mr});export{Pi as B,Si as P};
//# sourceMappingURL=p-61f66f15.js.map