var n={exports:{}};(function(n){(function(){function t(n,t,i){return n.call.apply(n.bind,arguments)}function i(n,t,i){if(!n)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(i,e);return n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function e(n,r,o){e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:i;return e.apply(null,arguments)}var r=Date.now||function(){return+new Date};function o(n,t){this.a=n;this.o=t||n;this.c=this.o.document}var s=!!window.FontFace;function u(n,t,i,e){t=n.c.createElement(t);if(i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?t.style.cssText=i[r]:t.setAttribute(r,i[r]));e&&t.appendChild(n.c.createTextNode(e));return t}function a(n,t,i){n=n.c.getElementsByTagName(t)[0];n||(n=document.documentElement);n.insertBefore(i,n.lastChild)}function c(n){n.parentNode&&n.parentNode.removeChild(n)}function f(n,t,i){t=t||[];i=i||[];for(var e=n.className.split(/\s+/),r=0;r<t.length;r+=1){for(var o=!1,s=0;s<e.length;s+=1)if(t[r]===e[s]){o=!0;break}o||e.push(t[r])}t=[];for(r=0;r<e.length;r+=1){o=!1;for(s=0;s<i.length;s+=1)if(e[r]===i[s]){o=!0;break}o||t.push(e[r])}n.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(n,t){for(var i=n.className.split(/\s+/),e=0,r=i.length;e<r;e++)if(i[e]==t)return!0;return!1}function l(n){return n.o.location.hostname||n.a.location.hostname}function d(n,t,i){function e(){f&&r&&o&&(f(c),f=null)}t=u(n,"link",{rel:"stylesheet",href:t,media:"all"});var r=!1,o=!0,c=null,f=i||null;s?(t.onload=function(){r=!0;e()},t.onerror=function(){r=!0;c=Error("Stylesheet failed to load");e()}):setTimeout((function(){r=!0;e()}),0);a(n,"head",t)}function v(n,t,i,e){var r=n.c.getElementsByTagName("head")[0];if(r){var o=u(n,"script",{src:t}),s=!1;o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))};r.appendChild(o);setTimeout((function(){s||(s=!0,i&&i(Error("Script load timeout")))}),e||5e3);return o}return null}function p(){this.a=0;this.c=null}function y(n){n.a++;return function(){n.a--;b(n)}}function m(n,t){n.c=t;b(n)}function b(n){0==n.a&&n.c&&(n.c(),n.c=null)}function w(n){this.a=n||"-"}w.prototype.c=function(n){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)};function g(n,t){this.c=n;this.f=4;this.a="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function O(n){return k(n)+" "+(n.f+"00")+" 300px "+E(n.c)}function E(n){var t=[];n=n.split(/,\s*/);for(var i=0;i<n.length;i++){var e=n[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?t.push("'"+e+"'"):t.push(e)}return t.join(",")}function I(n){return n.a+n.f}function k(n){var t="normal";"o"===n.a?t="oblique":"i"===n.a&&(t="italic");return t}function T(n){var t=4,i="n",e=null;n&&((e=n.match(/(normal|oblique|italic)/i))&&e[1]&&(i=e[1].substr(0,1).toLowerCase()),(e=n.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?t=7:/[1-9]00/.test(e[1])&&(t=parseInt(e[1].substr(0,1),10))));return i+t}function S(n,t){this.c=n;this.f=n.o.document.documentElement;this.h=t;this.a=new w("-");this.j=!1!==t.events;this.g=!1!==t.classes}function N(n){n.g&&f(n.f,[n.a.c("wf","loading")]);_(n,"loading")}function x(n){if(n.g){var t=h(n.f,n.a.c("wf","active")),i=[],e=[n.a.c("wf","loading")];t||i.push(n.a.c("wf","inactive"));f(n.f,i,e)}_(n,"inactive")}function _(n,t,i){if(n.j&&n.h[t])if(i)n.h[t](i.c,I(i));else n.h[t]()}function A(){this.c={}}function D(n,t,i){var e=[],r;for(r in t)if(t.hasOwnProperty(r)){var o=n.c[r];o&&e.push(o(t[r],i))}return e}function j(n,t){this.c=n;this.f=t;this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function P(n){a(n.c,"body",n.a)}function C(n){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+E(n.c)+";"+("font-style:"+k(n)+";font-weight:"+(n.f+"00")+";")}function R(n,t,i,e,r,o){this.g=n;this.j=t;this.a=e;this.c=i;this.f=r||3e3;this.h=o||void 0}R.prototype.start=function(){var n=this.c.o.document,t=this,i=r(),e=new Promise((function(e,o){function s(){r()-i>=t.f?o():n.fonts.load(O(t.a),t.h).then((function(n){1<=n.length?e():setTimeout(s,25)}),(function(){o()}))}s()})),o=null,s=new Promise((function(n,i){o=setTimeout(i,t.f)}));Promise.race([s,e]).then((function(){o&&(clearTimeout(o),o=null);t.g(t.a)}),(function(){t.j(t.a)}))};function F(n,t,i,e,r,o,s){this.v=n;this.B=t;this.c=i;this.a=e;this.s=s||"BESbswy";this.f={};this.w=r||3e3;this.u=o||null;this.m=this.j=this.h=this.g=null;this.g=new j(this.c,this.s);this.h=new j(this.c,this.s);this.j=new j(this.c,this.s);this.m=new j(this.c,this.s);n=new g(this.a.c+",serif",I(this.a));n=C(n);this.g.a.style.cssText=n;n=new g(this.a.c+",sans-serif",I(this.a));n=C(n);this.h.a.style.cssText=n;n=new g("serif",I(this.a));n=C(n);this.j.a.style.cssText=n;n=new g("sans-serif",I(this.a));n=C(n);this.m.a.style.cssText=n;P(this.g);P(this.h);P(this.j);P(this.m)}var L={D:"serif",C:"sans-serif"},B=null;function M(){if(null===B){var n=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);B=!!n&&(536>parseInt(n[1],10)||536===parseInt(n[1],10)&&11>=parseInt(n[2],10))}return B}F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.m.a.offsetWidth;this.A=r();V(this)};function U(n,t,i){for(var e in L)if(L.hasOwnProperty(e)&&t===n.f[L[e]]&&i===n.f[L[e]])return!0;return!1}function V(n){var t=n.g.a.offsetWidth,i=n.h.a.offsetWidth,e;(e=t===n.f.serif&&i===n.f["sans-serif"])||(e=M()&&U(n,t,i));e?r()-n.A>=n.w?M()&&U(n,t,i)&&(null===n.u||n.u.hasOwnProperty(n.a.c))?G(n,n.v):G(n,n.B):q(n):G(n,n.v)}function q(n){setTimeout(e((function(){V(this)}),n),50)}function G(n,t){setTimeout(e((function(){c(this.g.a);c(this.h.a);c(this.j.a);c(this.m.a);t(this.a)}),n),0)}function $(n,t,i){this.c=n;this.a=t;this.f=0;this.m=this.j=!1;this.s=i}var Q=null;$.prototype.g=function(n){var t=this.a;t.g&&f(t.f,[t.a.c("wf",n.c,I(n).toString(),"active")],[t.a.c("wf",n.c,I(n).toString(),"loading"),t.a.c("wf",n.c,I(n).toString(),"inactive")]);_(t,"fontactive",n);this.m=!0;J(this)};$.prototype.h=function(n){var t=this.a;if(t.g){var i=h(t.f,t.a.c("wf",n.c,I(n).toString(),"active")),e=[],r=[t.a.c("wf",n.c,I(n).toString(),"loading")];i||e.push(t.a.c("wf",n.c,I(n).toString(),"inactive"));f(t.f,e,r)}_(t,"fontinactive",n);J(this)};function J(n){0==--n.f&&n.j&&(n.m?(n=n.a,n.g&&f(n.f,[n.a.c("wf","active")],[n.a.c("wf","loading"),n.a.c("wf","inactive")]),_(n,"active")):x(n.a))}function Y(n){this.j=n;this.a=new A;this.h=0;this.f=this.g=!0}Y.prototype.load=function(n){this.c=new o(this.j,n.context||this.j);this.g=!1!==n.events;this.f=!1!==n.classes;X(this,new S(this.c,n),n)};function K(n,t,i,r,o){var s=0==--n.h;(n.f||n.g)&&setTimeout((function(){var n=o||null,u=r||null||{};if(0===i.length&&s)x(t.a);else{t.f+=i.length;s&&(t.j=s);var a,c=[];for(a=0;a<i.length;a++){var h=i[a],l=u[h.c],d=t.a,v=h;d.g&&f(d.f,[d.a.c("wf",v.c,I(v).toString(),"loading")]);_(d,"fontloading",v);d=null;if(null===Q)if(window.FontFace){var v=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);Q=v?42<parseInt(v[1],10):p?!1:!0}else Q=!1;Q?d=new R(e(t.g,t),e(t.h,t),t.c,h,t.s,l):d=new F(e(t.g,t),e(t.h,t),t.c,h,t.s,n,l);c.push(d)}for(a=0;a<c.length;a++)c[a].start()}}),0)}function X(n,t,i){var e=[],r=i.timeout;N(t);var e=D(n.a,i,n.c),o=new $(n.c,t,r);n.h=e.length;t=0;for(i=e.length;t<i;t++)e[t].load((function(t,i,e){K(n,o,t,i,e)}))}function H(n,t){this.c=n;this.a=t}H.prototype.load=function(n){function t(){if(o["__mti_fntLst"+e]){var i=o["__mti_fntLst"+e](),r=[],s;if(i)for(var u=0;u<i.length;u++){var a=i[u].fontfamily;void 0!=i[u].fontStyle&&void 0!=i[u].fontWeight?(s=i[u].fontStyle+i[u].fontWeight,r.push(new g(a,s))):r.push(new g(a))}n(r)}else setTimeout((function(){t()}),50)}var i=this,e=i.a.projectId,r=i.a.version;if(e){var o=i.c.o;v(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+e+".js"+(r?"?v="+r:""),(function(r){r?n([]):(o["__MonotypeConfiguration__"+e]=function(){return i.a},t())})).id="__MonotypeAPIScript__"+e}else n([])};function W(n,t){this.c=n;this.a=t}W.prototype.load=function(n){var t,i,e=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new p;t=0;for(i=e.length;t<i;t++)d(this.c,e[t],y(s));var u=[];t=0;for(i=r.length;t<i;t++)if(e=r[t].split(":"),e[1])for(var a=e[1].split(","),c=0;c<a.length;c+=1)u.push(new g(e[0],a[c]));else u.push(new g(e[0]));m(s,(function(){n(u,o)}))};function z(n,t){n?this.c=n:this.c=Z;this.a=[];this.f=[];this.g=t||""}var Z="https://fonts.googleapis.com/css";function nn(n,t){for(var i=t.length,e=0;e<i;e++){var r=t[e].split(":");3==r.length&&n.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":");n.a.push(r.join(o))}}function tn(n){if(0==n.a.length)throw Error("No fonts to load!");if(-1!=n.c.indexOf("kit="))return n.c;for(var t=n.a.length,i=[],e=0;e<t;e++)i.push(n.a[e].replace(/ /g,"+"));t=n.c+"?family="+i.join("%7C");0<n.f.length&&(t+="&subset="+n.f.join(","));0<n.g.length&&(t+="&text="+encodeURIComponent(n.g));return t}function en(n){this.f=n;this.a=[];this.c={}}var rn={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},on={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},sn={i:"i",italic:"i",n:"n",normal:"n"},un=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function an(n){for(var t=n.f.length,i=0;i<t;i++){var e=n.f[i].split(":"),r=e[0].replace(/\+/g," "),o=["n4"];if(2<=e.length){var s;var u=e[1];s=[];if(u)for(var u=u.split(","),a=u.length,c=0;c<a;c++){var f;f=u[c];if(f.match(/^[\w-]+$/)){var h=un.exec(f.toLowerCase());if(null==h)f="";else{f=h[2];f=null==f||""==f?"n":sn[f];h=h[1];if(null==h||""==h)h="4";else var l=on[h],h=l?l:isNaN(h)?"4":h.substr(0,1);f=[f,h].join("")}}else f="";f&&s.push(f)}0<s.length&&(o=s);3==e.length&&(e=e[2],s=[],e=e?e.split(","):s,0<e.length&&(e=rn[e[0]])&&(n.c[r]=e))}n.c[r]||(e=rn[r])&&(n.c[r]=e);for(e=0;e<o.length;e+=1)n.a.push(new g(r,o[e]))}}function cn(n,t){this.c=n;this.a=t}var fn={Arimo:!0,Cousine:!0,Tinos:!0};cn.prototype.load=function(n){var t=new p,i=this.c,e=new z(this.a.api,this.a.text),r=this.a.families;nn(e,r);var o=new en(r);an(o);d(i,tn(e),y(t));m(t,(function(){n(o.a,o.c,fn)}))};function hn(n,t){this.c=n;this.a=t}hn.prototype.load=function(n){var t=this.a.id,i=this.c.o;t?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)n([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){t=i.Typekit.config.fn;for(var e=[],r=0;r<t.length;r+=2)for(var o=t[r],s=t[r+1],u=0;u<s.length;u++)e.push(new g(o,s[u]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(n){}n(e)}}),2e3):n([])};function ln(n,t){this.c=n;this.f=t;this.a=[]}ln.prototype.load=function(n){var t=this.f.id,i=this.c.o,e=this;t?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[t]=function(t,i){for(var r=0,o=i.fonts.length;r<o;++r){var s=i.fonts[r];e.a.push(new g(s.name,T("font-weight:"+s.weight+";font-style:"+s.style)))}n(e.a)},v(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+l(this.c)+"/"+t+".js",(function(t){t&&n([])}))):n([])};var dn=new Y(window);dn.a.c.custom=function(n,t){return new W(t,n)};dn.a.c.fontdeck=function(n,t){return new ln(t,n)};dn.a.c.monotype=function(n,t){return new H(t,n)};dn.a.c.typekit=function(n,t){return new hn(t,n)};dn.a.c.google=function(n,t){return new cn(t,n)};var vn={load:e(dn.load,dn)};n.exports?n.exports=vn:(window.WebFont=vn,window.WebFontConfig&&dn.load(window.WebFontConfig))})()})(n);var t=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):undefined;const i=t;function e(n){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){e=function n(t){return typeof t}}else{e=function n(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return e(n)}var r=10;var o=2;function s(n){return u(n,[])}function u(n,t){switch(e(n)){case"string":return JSON.stringify(n);case"function":return n.name?"[function ".concat(n.name,"]"):"[function]";case"object":if(n===null){return"null"}return a(n,t);default:return String(n)}}function a(n,t){if(t.indexOf(n)!==-1){return"[Circular]"}var i=[].concat(t,[n]);var e=h(n);if(e!==undefined){var r=e.call(n);if(r!==n){return typeof r==="string"?r:u(r,i)}}else if(Array.isArray(n)){return f(n,i)}return c(n,i)}function c(n,t){var i=Object.keys(n);if(i.length===0){return"{}"}if(t.length>o){return"["+l(n)+"]"}var e=i.map((function(i){var e=u(n[i],t);return i+": "+e}));return"{ "+e.join(", ")+" }"}function f(n,t){if(n.length===0){return"[]"}if(t.length>o){return"[Array]"}var i=Math.min(r,n.length);var e=n.length-i;var s=[];for(var a=0;a<i;++a){s.push(u(n[a],t))}if(e===1){s.push("... 1 more item")}else if(e>1){s.push("... ".concat(e," more items"))}return"["+s.join(", ")+"]"}function h(n){var t=n[String(i)];if(typeof t==="function"){return t}if(typeof n.inspect==="function"){return n.inspect}}function l(n){var t=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof n.constructor==="function"){var i=n.constructor.name;if(typeof i==="string"&&i!==""){return i}}return t}function d(n,t){var i=Boolean(n);if(!i){throw new Error(t!=null?t:"Unexpected invariant triggered.")}}function v(n){var t=n.prototype.toJSON;typeof t==="function"||d(0);n.prototype.inspect=t;if(i){n.prototype[i]=t}}var p=function(){function n(n,t,i){this.start=n.start;this.end=t.end;this.startToken=n;this.endToken=t;this.source=i}var t=n.prototype;t.toJSON=function n(){return{start:this.start,end:this.end}};return n}();v(p);var y=function(){function n(n,t,i,e,r,o,s){this.kind=n;this.start=t;this.end=i;this.line=e;this.column=r;this.value=s;this.prev=o;this.next=null}var t=n.prototype;t.toJSON=function n(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}};return n}();v(y);function m(n){return n!=null&&typeof n.kind==="string"}var b={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var w=Object.freeze({});function g(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:b;var e=undefined;var r=Array.isArray(n);var o=[n];var u=-1;var a=[];var c=undefined;var f=undefined;var h=undefined;var l=[];var d=[];var v=n;do{u++;var p=u===o.length;var y=p&&a.length!==0;if(p){f=d.length===0?undefined:l[l.length-1];c=h;h=d.pop();if(y){if(r){c=c.slice()}else{var g={};for(var E=0,I=Object.keys(c);E<I.length;E++){var k=I[E];g[k]=c[k]}c=g}var T=0;for(var S=0;S<a.length;S++){var N=a[S][0];var x=a[S][1];if(r){N-=T}if(r&&x===null){c.splice(N,1);T++}else{c[N]=x}}}u=e.index;o=e.keys;a=e.edits;r=e.inArray;e=e.prev}else{f=h?r?u:o[u]:undefined;c=h?h[f]:v;if(c===null||c===undefined){continue}if(h){l.push(f)}}var _=void 0;if(!Array.isArray(c)){if(!m(c)){throw new Error("Invalid AST Node: ".concat(s(c),"."))}var A=O(t,c.kind,p);if(A){_=A.call(t,c,f,h,l,d);if(_===w){break}if(_===false){if(!p){l.pop();continue}}else if(_!==undefined){a.push([f,_]);if(!p){if(m(_)){c=_}else{l.pop();continue}}}}}if(_===undefined&&y){a.push([f,c])}if(p){l.pop()}else{var D;e={inArray:r,index:u,keys:o,edits:a,prev:e};r=Array.isArray(c);o=r?c:(D=i[c.kind])!==null&&D!==void 0?D:[];u=-1;a=[];if(h){d.push(h)}h=c}}while(e!==undefined);if(a.length!==0){v=a[a.length-1][1]}return v}function O(n,t,i){var e=n[t];if(e){if(!i&&typeof e==="function"){return e}var r=i?e.leave:e.enter;if(typeof r==="function"){return r}}else{var o=i?n.leave:n.enter;if(o){if(typeof o==="function"){return o}var s=o[t];if(typeof s==="function"){return s}}}}var E=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function I(n){var t=n.split(/\r\n|[\n\r]/g);var i=T(n);if(i!==0){for(var e=1;e<t.length;e++){t[e]=t[e].slice(i)}}var r=0;while(r<t.length&&k(t[r])){++r}var o=t.length;while(o>r&&k(t[o-1])){--o}return t.slice(r,o).join("\n")}function k(n){for(var t=0;t<n.length;++t){if(n[t]!==" "&&n[t]!=="\t"){return false}}return true}function T(n){var t;var i=true;var e=true;var r=0;var o=null;for(var s=0;s<n.length;++s){switch(n.charCodeAt(s)){case 13:if(n.charCodeAt(s+1)===10){++s}case 10:i=false;e=true;r=0;break;case 9:case 32:++r;break;default:if(e&&!i&&(o===null||r<o)){o=r}e=false}}return(t=o)!==null&&t!==void 0?t:0}function S(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var e=n.indexOf("\n")===-1;var r=n[0]===" "||n[0]==="\t";var o=n[n.length-1]==='"';var s=n[n.length-1]==="\\";var u=!e||o||s||i;var a="";if(u&&!(e&&r)){a+="\n"+t}a+=t?n.replace(/\n/g,"\n"+t):n;if(u){a+="\n"}return'"""'+a.replace(/"""/g,'\\"""')+'"""'}function N(n){return g(n,{leave:_})}var x=80;var _={Name:function n(t){return t.value},Variable:function n(t){return"$"+t.name},Document:function n(t){return D(t.definitions,"\n\n")+"\n"},OperationDefinition:function n(t){var i=t.operation;var e=t.name;var r=P("(",D(t.variableDefinitions,", "),")");var o=D(t.directives," ");var s=t.selectionSet;return!e&&!o&&!r&&i==="query"?s:D([i,D([e,r]),o,s]," ")},VariableDefinition:function n(t){var i=t.variable,e=t.type,r=t.defaultValue,o=t.directives;return i+": "+e+P(" = ",r)+P(" ",D(o," "))},SelectionSet:function n(t){var i=t.selections;return j(i)},Field:function n(t){var i=t.alias,e=t.name,r=t.arguments,o=t.directives,s=t.selectionSet;var u=P("",i,": ")+e;var a=u+P("(",D(r,", "),")");if(a.length>x){a=u+P("(\n",C(D(r,"\n")),"\n)")}return D([a,D(o," "),s]," ")},Argument:function n(t){var i=t.name,e=t.value;return i+": "+e},FragmentSpread:function n(t){var i=t.name,e=t.directives;return"..."+i+P(" ",D(e," "))},InlineFragment:function n(t){var i=t.typeCondition,e=t.directives,r=t.selectionSet;return D(["...",P("on ",i),D(e," "),r]," ")},FragmentDefinition:function n(t){var i=t.name,e=t.typeCondition,r=t.variableDefinitions,o=t.directives,s=t.selectionSet;return"fragment ".concat(i).concat(P("(",D(r,", "),")")," ")+"on ".concat(e," ").concat(P("",D(o," ")," "))+s},IntValue:function n(t){var i=t.value;return i},FloatValue:function n(t){var i=t.value;return i},StringValue:function n(t,i){var e=t.value,r=t.block;return r?S(e,i==="description"?"":"  "):JSON.stringify(e)},BooleanValue:function n(t){var i=t.value;return i?"true":"false"},NullValue:function n(){return"null"},EnumValue:function n(t){var i=t.value;return i},ListValue:function n(t){var i=t.values;return"["+D(i,", ")+"]"},ObjectValue:function n(t){var i=t.fields;return"{"+D(i,", ")+"}"},ObjectField:function n(t){var i=t.name,e=t.value;return i+": "+e},Directive:function n(t){var i=t.name,e=t.arguments;return"@"+i+P("(",D(e,", "),")")},NamedType:function n(t){var i=t.name;return i},ListType:function n(t){var i=t.type;return"["+i+"]"},NonNullType:function n(t){var i=t.type;return i+"!"},SchemaDefinition:A((function(n){var t=n.directives,i=n.operationTypes;return D(["schema",D(t," "),j(i)]," ")})),OperationTypeDefinition:function n(t){var i=t.operation,e=t.type;return i+": "+e},ScalarTypeDefinition:A((function(n){var t=n.name,i=n.directives;return D(["scalar",t,D(i," ")]," ")})),ObjectTypeDefinition:A((function(n){var t=n.name,i=n.interfaces,e=n.directives,r=n.fields;return D(["type",t,P("implements ",D(i," & ")),D(e," "),j(r)]," ")})),FieldDefinition:A((function(n){var t=n.name,i=n.arguments,e=n.type,r=n.directives;return t+(F(i)?P("(\n",C(D(i,"\n")),"\n)"):P("(",D(i,", "),")"))+": "+e+P(" ",D(r," "))})),InputValueDefinition:A((function(n){var t=n.name,i=n.type,e=n.defaultValue,r=n.directives;return D([t+": "+i,P("= ",e),D(r," ")]," ")})),InterfaceTypeDefinition:A((function(n){var t=n.name,i=n.interfaces,e=n.directives,r=n.fields;return D(["interface",t,P("implements ",D(i," & ")),D(e," "),j(r)]," ")})),UnionTypeDefinition:A((function(n){var t=n.name,i=n.directives,e=n.types;return D(["union",t,D(i," "),e&&e.length!==0?"= "+D(e," | "):""]," ")})),EnumTypeDefinition:A((function(n){var t=n.name,i=n.directives,e=n.values;return D(["enum",t,D(i," "),j(e)]," ")})),EnumValueDefinition:A((function(n){var t=n.name,i=n.directives;return D([t,D(i," ")]," ")})),InputObjectTypeDefinition:A((function(n){var t=n.name,i=n.directives,e=n.fields;return D(["input",t,D(i," "),j(e)]," ")})),DirectiveDefinition:A((function(n){var t=n.name,i=n.arguments,e=n.repeatable,r=n.locations;return"directive @"+t+(F(i)?P("(\n",C(D(i,"\n")),"\n)"):P("(",D(i,", "),")"))+(e?" repeatable":"")+" on "+D(r," | ")})),SchemaExtension:function n(t){var i=t.directives,e=t.operationTypes;return D(["extend schema",D(i," "),j(e)]," ")},ScalarTypeExtension:function n(t){var i=t.name,e=t.directives;return D(["extend scalar",i,D(e," ")]," ")},ObjectTypeExtension:function n(t){var i=t.name,e=t.interfaces,r=t.directives,o=t.fields;return D(["extend type",i,P("implements ",D(e," & ")),D(r," "),j(o)]," ")},InterfaceTypeExtension:function n(t){var i=t.name,e=t.interfaces,r=t.directives,o=t.fields;return D(["extend interface",i,P("implements ",D(e," & ")),D(r," "),j(o)]," ")},UnionTypeExtension:function n(t){var i=t.name,e=t.directives,r=t.types;return D(["extend union",i,D(e," "),r&&r.length!==0?"= "+D(r," | "):""]," ")},EnumTypeExtension:function n(t){var i=t.name,e=t.directives,r=t.values;return D(["extend enum",i,D(e," "),j(r)]," ")},InputObjectTypeExtension:function n(t){var i=t.name,e=t.directives,r=t.fields;return D(["extend input",i,D(e," "),j(r)]," ")}};function A(n){return function(t){return D([t.description,n(t)],"\n")}}function D(n){var t;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return(t=n===null||n===void 0?void 0:n.filter((function(n){return n})).join(i))!==null&&t!==void 0?t:""}function j(n){return P("{\n",C(D(n,"\n")),"\n}")}function P(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return t!=null&&t!==""?n+t+i:""}function C(n){return P("  ",n.replace(/\n/g,"\n  "))}function R(n){return n.indexOf("\n")!==-1}function F(n){return n!=null&&n.some(R)}function L(n){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){L=function n(t){return typeof t}}else{L=function n(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return L(n)}function B(n){return L(n)=="object"&&n!==null}var M=typeof Symbol==="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function U(n,t){var i=/\r\n|[\n\r]/g;var e=1;var r=t+1;var o;while((o=i.exec(n.body))&&o.index<t){e+=1;r=t+1-(o.index+o[0].length)}return{line:e,column:r}}function V(n){return q(n.source,U(n.source,n.start))}function q(n,t){var i=n.locationOffset.column-1;var e=$(i)+n.body;var r=t.line-1;var o=n.locationOffset.line-1;var s=t.line+o;var u=t.line===1?i:0;var a=t.column+u;var c="".concat(n.name,":").concat(s,":").concat(a,"\n");var f=e.split(/\r\n|[\n\r]/g);var h=f[r];if(h.length>120){var l=Math.floor(a/80);var d=a%80;var v=[];for(var p=0;p<h.length;p+=80){v.push(h.slice(p,p+80))}return c+G([["".concat(s),v[0]]].concat(v.slice(1,l+1).map((function(n){return["",n]})),[[" ",$(d-1)+"^"],["",v[l+1]]]))}return c+G([["".concat(s-1),f[r-1]],["".concat(s),h],["",$(a-1)+"^"],["".concat(s+1),f[r+1]]])}function G(n){var t=n.filter((function(n){var t=n[1];return t!==undefined}));var i=Math.max.apply(Math,t.map((function(n){var t=n[0];return t.length})));return t.map((function(n){var t=n[0],e=n[1];return Q(i,t)+(e?" | "+e:" |")})).join("\n")}function $(n){return Array(n+1).join(" ")}function Q(n,t){return $(n-t.length)+t}function J(n){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){J=function n(t){return typeof t}}else{J=function n(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return J(n)}function Y(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);if(t)e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}));i.push.apply(i,e)}return i}function K(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};if(t%2){Y(Object(i),true).forEach((function(t){X(n,t,i[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(n,Object.getOwnPropertyDescriptors(i))}else{Y(Object(i)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))}))}}return n}function X(n,t,i){if(t in n){Object.defineProperty(n,t,{value:i,enumerable:true,configurable:true,writable:true})}else{n[t]=i}return n}function H(n,t){if(!(n instanceof t)){throw new TypeError("Cannot call a class as a function")}}function W(n,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(n,e.key,e)}}function z(n,t,i){if(t)W(n.prototype,t);if(i)W(n,i);return n}function Z(n,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:true,configurable:true}});if(t)an(n,t)}function nn(n){var t=sn();return function i(){var e=cn(n),r;if(t){var o=cn(this).constructor;r=Reflect.construct(e,arguments,o)}else{r=e.apply(this,arguments)}return tn(this,r)}}function tn(n,t){if(t&&(J(t)==="object"||typeof t==="function")){return t}return en(n)}function en(n){if(n===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n}function rn(n){var t=typeof Map==="function"?new Map:undefined;rn=function n(i){if(i===null||!un(i))return i;if(typeof i!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(i))return t.get(i);t.set(i,e)}function e(){return on(i,arguments,cn(this).constructor)}e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});return an(e,i)};return rn(n)}function on(n,t,i){if(sn()){on=Reflect.construct}else{on=function n(t,i,e){var r=[null];r.push.apply(r,i);var o=Function.bind.apply(t,r);var s=new o;if(e)an(s,e.prototype);return s}}return on.apply(null,arguments)}function sn(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(n){return false}}function un(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function an(n,t){an=Object.setPrototypeOf||function n(t,i){t.__proto__=i;return t};return an(n,t)}function cn(n){cn=Object.setPrototypeOf?Object.getPrototypeOf:function n(t){return t.__proto__||Object.getPrototypeOf(t)};return cn(n)}var fn=function(n){Z(i,n);var t=nn(i);function i(n,e,r,o,s,u,a){var c,f,h;var l;H(this,i);l=t.call(this,n);l.name="GraphQLError";l.originalError=u!==null&&u!==void 0?u:undefined;l.nodes=hn(Array.isArray(e)?e:e?[e]:undefined);var d=[];for(var v=0,p=(y=l.nodes)!==null&&y!==void 0?y:[];v<p.length;v++){var y;var m=p[v];var b=m.loc;if(b!=null){d.push(b)}}d=hn(d);l.source=r!==null&&r!==void 0?r:(c=d)===null||c===void 0?void 0:c[0].source;l.positions=o!==null&&o!==void 0?o:(f=d)===null||f===void 0?void 0:f.map((function(n){return n.start}));l.locations=o&&r?o.map((function(n){return U(r,n)})):(h=d)===null||h===void 0?void 0:h.map((function(n){return U(n.source,n.start)}));l.path=s!==null&&s!==void 0?s:undefined;var w=u===null||u===void 0?void 0:u.extensions;if(a==null&&B(w)){l.extensions=K({},w)}else{l.extensions=a!==null&&a!==void 0?a:{}}Object.defineProperties(en(l),{message:{enumerable:true},locations:{enumerable:l.locations!=null},path:{enumerable:l.path!=null},extensions:{enumerable:l.extensions!=null&&Object.keys(l.extensions).length>0},name:{enumerable:false},nodes:{enumerable:false},source:{enumerable:false},positions:{enumerable:false},originalError:{enumerable:false}});if(u!==null&&u!==void 0&&u.stack){Object.defineProperty(en(l),"stack",{value:u.stack,writable:true,configurable:true});return tn(l)}if(Error.captureStackTrace){Error.captureStackTrace(en(l),i)}else{Object.defineProperty(en(l),"stack",{value:Error().stack,writable:true,configurable:true})}return l}z(i,[{key:"toString",value:function n(){return ln(this)}},{key:M,get:function n(){return"Object"}}]);return i}(rn(Error));function hn(n){return n===undefined||n.length===0?undefined:n}function ln(n){var t=n.message;if(n.nodes){for(var i=0,e=n.nodes;i<e.length;i++){var r=e[i];if(r.loc){t+="\n\n"+V(r.loc)}}}else if(n.source&&n.locations){for(var o=0,s=n.locations;o<s.length;o++){var u=s[o];t+="\n\n"+q(n.source,u)}}return t}function dn(n,t,i){return new fn("Syntax Error: ".concat(i),undefined,n,[t])}var vn=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function pn(n,t){var i=Boolean(n);if(!i){throw new Error(t)}}const yn=function n(t,i){return t instanceof i};function mn(n,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(n,e.key,e)}}function bn(n,t,i){if(t)mn(n.prototype,t);if(i)mn(n,i);return n}var wn=function(){function n(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"GraphQL request";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{line:1,column:1};typeof n==="string"||pn(0,"Body must be a string. Received: ".concat(s(n),"."));this.body=n;this.name=t;this.locationOffset=i;this.locationOffset.line>0||pn(0,"line in locationOffset is 1-indexed and must be positive.");this.locationOffset.column>0||pn(0,"column in locationOffset is 1-indexed and must be positive.")}bn(n,[{key:M,get:function n(){return"Source"}}]);return n}();function gn(n){return yn(n,wn)}var On=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});var En=function(){function n(n){var t=new y(vn.SOF,0,0,0,0,null);this.source=n;this.lastToken=t;this.token=t;this.line=1;this.lineStart=0}var t=n.prototype;t.advance=function n(){this.lastToken=this.token;var t=this.token=this.lookahead();return t};t.lookahead=function n(){var t=this.token;if(t.kind!==vn.EOF){do{var i;t=(i=t.next)!==null&&i!==void 0?i:t.next=Tn(this,t)}while(t.kind===vn.COMMENT)}return t};return n}();function In(n){return n===vn.BANG||n===vn.DOLLAR||n===vn.AMP||n===vn.PAREN_L||n===vn.PAREN_R||n===vn.SPREAD||n===vn.COLON||n===vn.EQUALS||n===vn.AT||n===vn.BRACKET_L||n===vn.BRACKET_R||n===vn.BRACE_L||n===vn.PIPE||n===vn.BRACE_R}function kn(n){return isNaN(n)?vn.EOF:n<127?JSON.stringify(String.fromCharCode(n)):'"\\u'.concat(("00"+n.toString(16).toUpperCase()).slice(-4),'"')}function Tn(n,t){var i=n.source;var e=i.body;var r=e.length;var o=t.end;while(o<r){var s=e.charCodeAt(o);var u=n.line;var a=1+o-n.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o;++n.line;n.lineStart=o;continue;case 13:if(e.charCodeAt(o+1)===10){o+=2}else{++o}++n.line;n.lineStart=o;continue;case 33:return new y(vn.BANG,o,o+1,u,a,t);case 35:return Nn(i,o,u,a,t);case 36:return new y(vn.DOLLAR,o,o+1,u,a,t);case 38:return new y(vn.AMP,o,o+1,u,a,t);case 40:return new y(vn.PAREN_L,o,o+1,u,a,t);case 41:return new y(vn.PAREN_R,o,o+1,u,a,t);case 46:if(e.charCodeAt(o+1)===46&&e.charCodeAt(o+2)===46){return new y(vn.SPREAD,o,o+3,u,a,t)}break;case 58:return new y(vn.COLON,o,o+1,u,a,t);case 61:return new y(vn.EQUALS,o,o+1,u,a,t);case 64:return new y(vn.AT,o,o+1,u,a,t);case 91:return new y(vn.BRACKET_L,o,o+1,u,a,t);case 93:return new y(vn.BRACKET_R,o,o+1,u,a,t);case 123:return new y(vn.BRACE_L,o,o+1,u,a,t);case 124:return new y(vn.PIPE,o,o+1,u,a,t);case 125:return new y(vn.BRACE_R,o,o+1,u,a,t);case 34:if(e.charCodeAt(o+1)===34&&e.charCodeAt(o+2)===34){return Dn(i,o,u,a,t,n)}return An(i,o,u,a,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return xn(i,o,s,u,a,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Cn(i,o,u,a,t)}throw dn(i,o,Sn(s))}var c=n.line;var f=1+o-n.lineStart;return new y(vn.EOF,r,r,c,f,t)}function Sn(n){if(n<32&&n!==9&&n!==10&&n!==13){return"Cannot contain the invalid character ".concat(kn(n),".")}if(n===39){return"Unexpected single quote character ('), did you mean to use a double quote (\")?"}return"Cannot parse the unexpected character ".concat(kn(n),".")}function Nn(n,t,i,e,r){var o=n.body;var s;var u=t;do{s=o.charCodeAt(++u)}while(!isNaN(s)&&(s>31||s===9));return new y(vn.COMMENT,t,u,i,e,r,o.slice(t+1,u))}function xn(n,t,i,e,r,o){var s=n.body;var u=i;var a=t;var c=false;if(u===45){u=s.charCodeAt(++a)}if(u===48){u=s.charCodeAt(++a);if(u>=48&&u<=57){throw dn(n,a,"Invalid number, unexpected digit after 0: ".concat(kn(u),"."))}}else{a=_n(n,a,u);u=s.charCodeAt(a)}if(u===46){c=true;u=s.charCodeAt(++a);a=_n(n,a,u);u=s.charCodeAt(a)}if(u===69||u===101){c=true;u=s.charCodeAt(++a);if(u===43||u===45){u=s.charCodeAt(++a)}a=_n(n,a,u);u=s.charCodeAt(a)}if(u===46||Rn(u)){throw dn(n,a,"Invalid number, expected digit but got: ".concat(kn(u),"."))}return new y(c?vn.FLOAT:vn.INT,t,a,e,r,o,s.slice(t,a))}function _n(n,t,i){var e=n.body;var r=t;var o=i;if(o>=48&&o<=57){do{o=e.charCodeAt(++r)}while(o>=48&&o<=57);return r}throw dn(n,r,"Invalid number, expected digit but got: ".concat(kn(o),"."))}function An(n,t,i,e,r){var o=n.body;var s=t+1;var u=s;var a=0;var c="";while(s<o.length&&!isNaN(a=o.charCodeAt(s))&&a!==10&&a!==13){if(a===34){c+=o.slice(u,s);return new y(vn.STRING,t,s+1,i,e,r,c)}if(a<32&&a!==9){throw dn(n,s,"Invalid character within String: ".concat(kn(a),"."))}++s;if(a===92){c+=o.slice(u,s-1);a=o.charCodeAt(s);switch(a){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:{var f=jn(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(f<0){var h=o.slice(s+1,s+5);throw dn(n,s,"Invalid character escape sequence: \\u".concat(h,"."))}c+=String.fromCharCode(f);s+=4;break}default:throw dn(n,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(a),"."))}++s;u=s}}throw dn(n,s,"Unterminated string.")}function Dn(n,t,i,e,r,o){var s=n.body;var u=t+3;var a=u;var c=0;var f="";while(u<s.length&&!isNaN(c=s.charCodeAt(u))){if(c===34&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34){f+=s.slice(a,u);return new y(vn.BLOCK_STRING,t,u+3,i,e,r,I(f))}if(c<32&&c!==9&&c!==10&&c!==13){throw dn(n,u,"Invalid character within String: ".concat(kn(c),"."))}if(c===10){++u;++o.line;o.lineStart=u}else if(c===13){if(s.charCodeAt(u+1)===10){u+=2}else{++u}++o.line;o.lineStart=u}else if(c===92&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34&&s.charCodeAt(u+3)===34){f+=s.slice(a,u)+'"""';u+=4;a=u}else{++u}}throw dn(n,u,"Unterminated string.")}function jn(n,t,i,e){return Pn(n)<<12|Pn(t)<<8|Pn(i)<<4|Pn(e)}function Pn(n){return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:-1}function Cn(n,t,i,e,r){var o=n.body;var s=o.length;var u=t+1;var a=0;while(u!==s&&!isNaN(a=o.charCodeAt(u))&&(a===95||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122)){++u}return new y(vn.NAME,t,u,i,e,r,o.slice(t,u))}function Rn(n){return n===95||n>=65&&n<=90||n>=97&&n<=122}function Fn(n,t){var i=new Ln(n,t);return i.parseDocument()}var Ln=function(){function n(n,t){var i=gn(n)?n:new wn(n);this._lexer=new En(i);this._options=t}var t=n.prototype;t.parseName=function n(){var t=this.expectToken(vn.NAME);return{kind:E.NAME,value:t.value,loc:this.loc(t)}};t.parseDocument=function n(){var t=this._lexer.token;return{kind:E.DOCUMENT,definitions:this.many(vn.SOF,this.parseDefinition,vn.EOF),loc:this.loc(t)}};t.parseDefinition=function n(){if(this.peek(vn.NAME)){switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}}else if(this.peek(vn.BRACE_L)){return this.parseOperationDefinition()}else if(this.peekDescription()){return this.parseTypeSystemDefinition()}throw this.unexpected()};t.parseOperationDefinition=function n(){var t=this._lexer.token;if(this.peek(vn.BRACE_L)){return{kind:E.OPERATION_DEFINITION,operation:"query",name:undefined,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)}}var i=this.parseOperationType();var e;if(this.peek(vn.NAME)){e=this.parseName()}return{kind:E.OPERATION_DEFINITION,operation:i,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}};t.parseOperationType=function n(){var t=this.expectToken(vn.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)};t.parseVariableDefinitions=function n(){return this.optionalMany(vn.PAREN_L,this.parseVariableDefinition,vn.PAREN_R)};t.parseVariableDefinition=function n(){var t=this._lexer.token;return{kind:E.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(vn.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(vn.EQUALS)?this.parseValueLiteral(true):undefined,directives:this.parseDirectives(true),loc:this.loc(t)}};t.parseVariable=function n(){var t=this._lexer.token;this.expectToken(vn.DOLLAR);return{kind:E.VARIABLE,name:this.parseName(),loc:this.loc(t)}};t.parseSelectionSet=function n(){var t=this._lexer.token;return{kind:E.SELECTION_SET,selections:this.many(vn.BRACE_L,this.parseSelection,vn.BRACE_R),loc:this.loc(t)}};t.parseSelection=function n(){return this.peek(vn.SPREAD)?this.parseFragment():this.parseField()};t.parseField=function n(){var t=this._lexer.token;var i=this.parseName();var e;var r;if(this.expectOptionalToken(vn.COLON)){e=i;r=this.parseName()}else{r=i}return{kind:E.FIELD,alias:e,name:r,arguments:this.parseArguments(false),directives:this.parseDirectives(false),selectionSet:this.peek(vn.BRACE_L)?this.parseSelectionSet():undefined,loc:this.loc(t)}};t.parseArguments=function n(t){var i=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(vn.PAREN_L,i,vn.PAREN_R)};t.parseArgument=function n(){var t=this._lexer.token;var i=this.parseName();this.expectToken(vn.COLON);return{kind:E.ARGUMENT,name:i,value:this.parseValueLiteral(false),loc:this.loc(t)}};t.parseConstArgument=function n(){var t=this._lexer.token;return{kind:E.ARGUMENT,name:this.parseName(),value:(this.expectToken(vn.COLON),this.parseValueLiteral(true)),loc:this.loc(t)}};t.parseFragment=function n(){var t=this._lexer.token;this.expectToken(vn.SPREAD);var i=this.expectOptionalKeyword("on");if(!i&&this.peek(vn.NAME)){return{kind:E.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(false),loc:this.loc(t)}}return{kind:E.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():undefined,directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}};t.parseFragmentDefinition=function n(){var t;var i=this._lexer.token;this.expectKeyword("fragment");if(((t=this._options)===null||t===void 0?void 0:t.experimentalFragmentVariables)===true){return{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}}return{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}};t.parseFragmentName=function n(){if(this._lexer.token.value==="on"){throw this.unexpected()}return this.parseName()};t.parseValueLiteral=function n(t){var i=this._lexer.token;switch(i.kind){case vn.BRACKET_L:return this.parseList(t);case vn.BRACE_L:return this.parseObject(t);case vn.INT:this._lexer.advance();return{kind:E.INT,value:i.value,loc:this.loc(i)};case vn.FLOAT:this._lexer.advance();return{kind:E.FLOAT,value:i.value,loc:this.loc(i)};case vn.STRING:case vn.BLOCK_STRING:return this.parseStringLiteral();case vn.NAME:this._lexer.advance();switch(i.value){case"true":return{kind:E.BOOLEAN,value:true,loc:this.loc(i)};case"false":return{kind:E.BOOLEAN,value:false,loc:this.loc(i)};case"null":return{kind:E.NULL,loc:this.loc(i)};default:return{kind:E.ENUM,value:i.value,loc:this.loc(i)}}case vn.DOLLAR:if(!t){return this.parseVariable()}break}throw this.unexpected()};t.parseStringLiteral=function n(){var t=this._lexer.token;this._lexer.advance();return{kind:E.STRING,value:t.value,block:t.kind===vn.BLOCK_STRING,loc:this.loc(t)}};t.parseList=function n(t){var i=this;var e=this._lexer.token;var r=function n(){return i.parseValueLiteral(t)};return{kind:E.LIST,values:this.any(vn.BRACKET_L,r,vn.BRACKET_R),loc:this.loc(e)}};t.parseObject=function n(t){var i=this;var e=this._lexer.token;var r=function n(){return i.parseObjectField(t)};return{kind:E.OBJECT,fields:this.any(vn.BRACE_L,r,vn.BRACE_R),loc:this.loc(e)}};t.parseObjectField=function n(t){var i=this._lexer.token;var e=this.parseName();this.expectToken(vn.COLON);return{kind:E.OBJECT_FIELD,name:e,value:this.parseValueLiteral(t),loc:this.loc(i)}};t.parseDirectives=function n(t){var i=[];while(this.peek(vn.AT)){i.push(this.parseDirective(t))}return i};t.parseDirective=function n(t){var i=this._lexer.token;this.expectToken(vn.AT);return{kind:E.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(i)}};t.parseTypeReference=function n(){var t=this._lexer.token;var i;if(this.expectOptionalToken(vn.BRACKET_L)){i=this.parseTypeReference();this.expectToken(vn.BRACKET_R);i={kind:E.LIST_TYPE,type:i,loc:this.loc(t)}}else{i=this.parseNamedType()}if(this.expectOptionalToken(vn.BANG)){return{kind:E.NON_NULL_TYPE,type:i,loc:this.loc(t)}}return i};t.parseNamedType=function n(){var t=this._lexer.token;return{kind:E.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}};t.parseTypeSystemDefinition=function n(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===vn.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}}throw this.unexpected(t)};t.peekDescription=function n(){return this.peek(vn.STRING)||this.peek(vn.BLOCK_STRING)};t.parseDescription=function n(){if(this.peekDescription()){return this.parseStringLiteral()}};t.parseSchemaDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("schema");var e=this.parseDirectives(true);var r=this.many(vn.BRACE_L,this.parseOperationTypeDefinition,vn.BRACE_R);return{kind:E.SCHEMA_DEFINITION,description:i,directives:e,operationTypes:r,loc:this.loc(t)}};t.parseOperationTypeDefinition=function n(){var t=this._lexer.token;var i=this.parseOperationType();this.expectToken(vn.COLON);var e=this.parseNamedType();return{kind:E.OPERATION_TYPE_DEFINITION,operation:i,type:e,loc:this.loc(t)}};t.parseScalarTypeDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("scalar");var e=this.parseName();var r=this.parseDirectives(true);return{kind:E.SCALAR_TYPE_DEFINITION,description:i,name:e,directives:r,loc:this.loc(t)}};t.parseObjectTypeDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("type");var e=this.parseName();var r=this.parseImplementsInterfaces();var o=this.parseDirectives(true);var s=this.parseFieldsDefinition();return{kind:E.OBJECT_TYPE_DEFINITION,description:i,name:e,interfaces:r,directives:o,fields:s,loc:this.loc(t)}};t.parseImplementsInterfaces=function n(){var t;if(!this.expectOptionalKeyword("implements")){return[]}if(((t=this._options)===null||t===void 0?void 0:t.allowLegacySDLImplementsInterfaces)===true){var i=[];this.expectOptionalToken(vn.AMP);do{i.push(this.parseNamedType())}while(this.expectOptionalToken(vn.AMP)||this.peek(vn.NAME));return i}return this.delimitedMany(vn.AMP,this.parseNamedType)};t.parseFieldsDefinition=function n(){var t;if(((t=this._options)===null||t===void 0?void 0:t.allowLegacySDLEmptyFields)===true&&this.peek(vn.BRACE_L)&&this._lexer.lookahead().kind===vn.BRACE_R){this._lexer.advance();this._lexer.advance();return[]}return this.optionalMany(vn.BRACE_L,this.parseFieldDefinition,vn.BRACE_R)};t.parseFieldDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();var e=this.parseName();var r=this.parseArgumentDefs();this.expectToken(vn.COLON);var o=this.parseTypeReference();var s=this.parseDirectives(true);return{kind:E.FIELD_DEFINITION,description:i,name:e,arguments:r,type:o,directives:s,loc:this.loc(t)}};t.parseArgumentDefs=function n(){return this.optionalMany(vn.PAREN_L,this.parseInputValueDef,vn.PAREN_R)};t.parseInputValueDef=function n(){var t=this._lexer.token;var i=this.parseDescription();var e=this.parseName();this.expectToken(vn.COLON);var r=this.parseTypeReference();var o;if(this.expectOptionalToken(vn.EQUALS)){o=this.parseValueLiteral(true)}var s=this.parseDirectives(true);return{kind:E.INPUT_VALUE_DEFINITION,description:i,name:e,type:r,defaultValue:o,directives:s,loc:this.loc(t)}};t.parseInterfaceTypeDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("interface");var e=this.parseName();var r=this.parseImplementsInterfaces();var o=this.parseDirectives(true);var s=this.parseFieldsDefinition();return{kind:E.INTERFACE_TYPE_DEFINITION,description:i,name:e,interfaces:r,directives:o,fields:s,loc:this.loc(t)}};t.parseUnionTypeDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("union");var e=this.parseName();var r=this.parseDirectives(true);var o=this.parseUnionMemberTypes();return{kind:E.UNION_TYPE_DEFINITION,description:i,name:e,directives:r,types:o,loc:this.loc(t)}};t.parseUnionMemberTypes=function n(){return this.expectOptionalToken(vn.EQUALS)?this.delimitedMany(vn.PIPE,this.parseNamedType):[]};t.parseEnumTypeDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("enum");var e=this.parseName();var r=this.parseDirectives(true);var o=this.parseEnumValuesDefinition();return{kind:E.ENUM_TYPE_DEFINITION,description:i,name:e,directives:r,values:o,loc:this.loc(t)}};t.parseEnumValuesDefinition=function n(){return this.optionalMany(vn.BRACE_L,this.parseEnumValueDefinition,vn.BRACE_R)};t.parseEnumValueDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();var e=this.parseName();var r=this.parseDirectives(true);return{kind:E.ENUM_VALUE_DEFINITION,description:i,name:e,directives:r,loc:this.loc(t)}};t.parseInputObjectTypeDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("input");var e=this.parseName();var r=this.parseDirectives(true);var o=this.parseInputFieldsDefinition();return{kind:E.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:e,directives:r,fields:o,loc:this.loc(t)}};t.parseInputFieldsDefinition=function n(){return this.optionalMany(vn.BRACE_L,this.parseInputValueDef,vn.BRACE_R)};t.parseTypeSystemExtension=function n(){var t=this._lexer.lookahead();if(t.kind===vn.NAME){switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}}throw this.unexpected(t)};t.parseSchemaExtension=function n(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("schema");var i=this.parseDirectives(true);var e=this.optionalMany(vn.BRACE_L,this.parseOperationTypeDefinition,vn.BRACE_R);if(i.length===0&&e.length===0){throw this.unexpected()}return{kind:E.SCHEMA_EXTENSION,directives:i,operationTypes:e,loc:this.loc(t)}};t.parseScalarTypeExtension=function n(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("scalar");var i=this.parseName();var e=this.parseDirectives(true);if(e.length===0){throw this.unexpected()}return{kind:E.SCALAR_TYPE_EXTENSION,name:i,directives:e,loc:this.loc(t)}};t.parseObjectTypeExtension=function n(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("type");var i=this.parseName();var e=this.parseImplementsInterfaces();var r=this.parseDirectives(true);var o=this.parseFieldsDefinition();if(e.length===0&&r.length===0&&o.length===0){throw this.unexpected()}return{kind:E.OBJECT_TYPE_EXTENSION,name:i,interfaces:e,directives:r,fields:o,loc:this.loc(t)}};t.parseInterfaceTypeExtension=function n(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("interface");var i=this.parseName();var e=this.parseImplementsInterfaces();var r=this.parseDirectives(true);var o=this.parseFieldsDefinition();if(e.length===0&&r.length===0&&o.length===0){throw this.unexpected()}return{kind:E.INTERFACE_TYPE_EXTENSION,name:i,interfaces:e,directives:r,fields:o,loc:this.loc(t)}};t.parseUnionTypeExtension=function n(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("union");var i=this.parseName();var e=this.parseDirectives(true);var r=this.parseUnionMemberTypes();if(e.length===0&&r.length===0){throw this.unexpected()}return{kind:E.UNION_TYPE_EXTENSION,name:i,directives:e,types:r,loc:this.loc(t)}};t.parseEnumTypeExtension=function n(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("enum");var i=this.parseName();var e=this.parseDirectives(true);var r=this.parseEnumValuesDefinition();if(e.length===0&&r.length===0){throw this.unexpected()}return{kind:E.ENUM_TYPE_EXTENSION,name:i,directives:e,values:r,loc:this.loc(t)}};t.parseInputObjectTypeExtension=function n(){var t=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("input");var i=this.parseName();var e=this.parseDirectives(true);var r=this.parseInputFieldsDefinition();if(e.length===0&&r.length===0){throw this.unexpected()}return{kind:E.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:e,fields:r,loc:this.loc(t)}};t.parseDirectiveDefinition=function n(){var t=this._lexer.token;var i=this.parseDescription();this.expectKeyword("directive");this.expectToken(vn.AT);var e=this.parseName();var r=this.parseArgumentDefs();var o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var s=this.parseDirectiveLocations();return{kind:E.DIRECTIVE_DEFINITION,description:i,name:e,arguments:r,repeatable:o,locations:s,loc:this.loc(t)}};t.parseDirectiveLocations=function n(){return this.delimitedMany(vn.PIPE,this.parseDirectiveLocation)};t.parseDirectiveLocation=function n(){var t=this._lexer.token;var i=this.parseName();if(On[i.value]!==undefined){return i}throw this.unexpected(t)};t.loc=function n(t){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==true){return new p(t,this._lexer.lastToken,this._lexer.source)}};t.peek=function n(t){return this._lexer.token.kind===t};t.expectToken=function n(t){var i=this._lexer.token;if(i.kind===t){this._lexer.advance();return i}throw dn(this._lexer.source,i.start,"Expected ".concat(Mn(t),", found ").concat(Bn(i),"."))};t.expectOptionalToken=function n(t){var i=this._lexer.token;if(i.kind===t){this._lexer.advance();return i}return undefined};t.expectKeyword=function n(t){var i=this._lexer.token;if(i.kind===vn.NAME&&i.value===t){this._lexer.advance()}else{throw dn(this._lexer.source,i.start,'Expected "'.concat(t,'", found ').concat(Bn(i),"."))}};t.expectOptionalKeyword=function n(t){var i=this._lexer.token;if(i.kind===vn.NAME&&i.value===t){this._lexer.advance();return true}return false};t.unexpected=function n(t){var i=t!==null&&t!==void 0?t:this._lexer.token;return dn(this._lexer.source,i.start,"Unexpected ".concat(Bn(i),"."))};t.any=function n(t,i,e){this.expectToken(t);var r=[];while(!this.expectOptionalToken(e)){r.push(i.call(this))}return r};t.optionalMany=function n(t,i,e){if(this.expectOptionalToken(t)){var r=[];do{r.push(i.call(this))}while(!this.expectOptionalToken(e));return r}return[]};t.many=function n(t,i,e){this.expectToken(t);var r=[];do{r.push(i.call(this))}while(!this.expectOptionalToken(e));return r};t.delimitedMany=function n(t,i){this.expectOptionalToken(t);var e=[];do{e.push(i.call(this))}while(this.expectOptionalToken(t));return e};return n}();function Bn(n){var t=n.value;return Mn(n.kind)+(t!=null?' "'.concat(t,'"'):"")}function Mn(n){return In(n)?'"'.concat(n,'"'):n}function Un(n,t){t.tag=n;return t}function Vn(){}function qn(n){return function(t){var i=n.length;let e=!1,r=!1,o=!1,s=0;t(Un(0,[function(u){if(u){e=!0}else if(r){o=!0}else{for(r=o=!0;o&&!e;){s<i?(u=n[s],s=s+1|0,o=!1,t(Un(1,[u]))):(e=!0,t(0))}r=!1}}]))}}function Gn(){}function $n(n){n(0)}function Qn(n){return n(0)}function Jn(n){return function(t){return function(i){let e=Vn,r=!1,o=[],s=!1;t((function(t){"number"==typeof t?s||(s=!0,0===o.length&&i(0)):t.tag?s||(r=!1,function(n){function t(n){"number"==typeof n?0!==o.length&&(o=o.filter(u),n=0===o.length,s&&n?i(0):!r&&n&&(r=!0,e(0))):n.tag?0!==o.length&&(i(Un(1,[n[0]])),a(0)):(a=n=n[0],o=o.concat(n),n(0))}function u(n){return n!==a}let a=Vn;1===n.length?n(t):n.bind(null,t)}(n(t[0])),r||(r=!0,e(0))):e=t[0]}));i(Un(0,[function(n){n?(s||(s=!0,e(n)),o.forEach((function(t){return t(n)})),o=[]):(r||s?r=!1:(r=!0,e(0)),o.forEach(Qn))}]))}}}function Yn(n){return n}function Kn(n){return function(t){return function(i){let e=!1;return t((function(t){if("number"==typeof t){e||(e=!0,i(t))}else if(t.tag){e||(n(t[0]),i(t))}else{var r=t[0];i(Un(0,[function(n){if(!e){return n&&(e=!0),r(n)}}]))}}))}}}function Xn(n){n(0)}function Hn(n){return function(t){return function(i){function e(n){u&&("number"==typeof n?(u=!1,c?i(n):o||(o=!0,r(0))):n.tag?(i(n),a?a=!1:s(0)):(s=n=n[0],a=!1,n(0)))}let r=Vn,o=!1,s=Vn,u=!1,a=!1,c=!1;t((function(t){"number"==typeof t?c||(c=!0,u||i(0)):t.tag?c||(u&&(s(1),s=Vn),o?o=!1:(o=!0,r(0)),t=n(t[0]),u=!0,t(e)):r=t[0]}));i(Un(0,[function(n){if(n){if(c||(c=!0,r(1)),u){return u=!1,s(1)}}else{c||o||(o=!0,r(0)),u&&!a&&(a=!0,s(0))}}]))}}}function Wn(n){return function(t){let i=Vn,e=!1;t((function(t){"number"==typeof t?e=!0:t.tag?e||(n(t[0]),i(0)):(i=t=t[0],t(0))}));return{unsubscribe:function(){if(!e){return e=!0,i(1)}}}}}function zn(){}function Zn(n){return function(t){return function(i){let e=Vn;return t((function(t){"number"==typeof t?i(t):t.tag?n(t[0])?i(t):e(0):(e=t[0],i(t))}))}}}function nt(n){return function(t){let i=!1;t(Un(0,[function(e){e?i=!0:i||(i=!0,t(Un(1,[n])),t(0))}]))}}function tt(n){return function(t){let i=Gn,e=!1;i=n({next:function(n){e||t(Un(1,[n]))},complete:function(){e||(e=!0,t(0))}});t(Un(0,[function(n){if(n&&!e){return e=!0,i()}}]))}}function it(){let n=[],t=!1;return{source:function(t){function i(n){return n!==t}n=n.concat(t);t(Un(0,[function(t){t&&(n=n.filter(i))}]))},next:function(i){t||n.forEach((function(n){n(Un(1,[i]))}))},complete:function(){t||(t=!0,n.forEach($n))}}}function et(n){return function(t){return function(i){return t((function(t){t="number"==typeof t?0:t.tag?Un(1,[n(t[0])]):Un(0,[t[0]]);i(t)}))}}}function rt(n){return Jn(Yn)(qn(n))}function ot(n){return function(t){return function(i){let e=!1;return t((function(t){if("number"==typeof t){if(e){return}e=!0;i(t);return n()}if(t.tag){e||i(t)}else{var r=t[0];i(Un(0,[function(t){if(!e){return t?(e=!0,r(t),n()):r(t)}}]))}}))}}}function st(n){return function(t){return function(i){return t((function(t){"number"==typeof t?i(t):t.tag?i(t):(i(t),n())}))}}}function ut(n){return Wn(zn)(n)}function at(n){function t(n){"number"==typeof n?(i.forEach(Xn),i=[]):n.tag?(r=!1,i.forEach((function(t){t(n)}))):e=n[0]}let i=[],e=Vn,r=!1;return function(o){function s(n){return n!==o}i=i.concat(o);1===i.length&&n(t);o(Un(0,[function(n){if(n){if(i=i.filter(s),0===i.length){return e(1)}}else{r||(r=!0,e(n))}}]))}}function ct(n){return function(t){return function(i){let e=!1,r=0,o=Vn;t((function(t){"number"==typeof t?e||(e=!0,i(0)):t.tag?r<n&&!e&&(r=r+1|0,i(t),!e&&r>=n&&(e=!0,i(0),o(1))):(t=t[0],0>=n?(e=!0,i(0),t(1)):o=t)}));i(Un(0,[function(t){if(!e){if(t){return e=!0,o(1)}if(r<n){return o(0)}}}]))}}}function ft(n){return function(t){return function(i){function e(n){"number"!=typeof n&&(n.tag?(r=!0,o(1),i(0)):(s=n=n[0],n(0)))}let r=!1,o=Vn,s=Vn;t((function(t){"number"==typeof t?r||(r=!0,s(1),i(0)):t.tag?r||i(t):(o=t[0],n(e))}));i(Un(0,[function(n){if(!r){return n?(r=!0,o(1),s(1)):o(0)}}]))}}}"function"==typeof Symbol?Symbol.observable||(Symbol.observable=Symbol("observable")):"@@observable";function ht(n){if("string"==typeof n){return new fn(n)}else if("object"==typeof n&&n.message){return new fn(n.message,n.nodes,n.source,n.positions,n.path,n,n.extensions||{})}else{return n}}var lt=function(n){function t(t){var i=t.networkError;var e=t.response;var r=(t.graphQLErrors||[]).map(ht);var o=function n(t,i){var e="";if(void 0!==t){return e="[Network] "+t.message}if(void 0!==i){i.forEach((function(n){e+="[GraphQL] "+n.message+"\n"}))}return e.trim()}(i,r);n.call(this,o);this.name="CombinedError";this.message=o;this.graphQLErrors=r;this.networkError=i;this.response=e}if(n){t.__proto__=n}(t.prototype=Object.create(n&&n.prototype)).constructor=t;t.prototype.toString=function n(){return this.message};return t}(Error);function dt(n,t){n|=0;for(var i=0,e=0|t.length;i<e;i++){n=(n<<5)+n+t.charCodeAt(i)}return n}function vt(n){return dt(5381,n)>>>0}var pt=new Set;var yt=new WeakMap;function mt(n){if(null===n||pt.has(n)){return"null"}else if("object"!=typeof n){return JSON.stringify(n)||""}else if(n.toJSON){return mt(n.toJSON())}else if(Array.isArray(n)){var t="[";for(var i=0,e=n.length;i<e;i++){if(i>0){t+=","}var r=mt(n[i]);t+=r.length>0?r:"null"}return t+="]"}var o=Object.keys(n).sort();if(!o.length&&n.constructor&&n.constructor!==Object){var s=yt.get(n)||Math.random().toString(36).slice(2);yt.set(n,s);return'{"__key":"'+s+'"}'}pt.add(n);var u="{";for(var a=0,c=o.length;a<c;a++){var f=o[a];var h=mt(n[f]);if(h){if(u.length>1){u+=","}u+=mt(f)+":"+h}}pt.delete(n);return u+="}"}function bt(n){pt.clear();return mt(n)}var wt=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g;var gt=/([\s,]|#[^\n\r]+)+/g;function Ot(n,t){return t%2==0?n.replace(gt," ").trim():n}function Et(n){var t=("string"!=typeof n?n.loc&&n.loc.source.body||N(n):n).split(wt).map(Ot).join("");if("string"!=typeof n){var i="definitions"in n&&St(n);if(i){t="# "+i+"\n"+t}if(!n.loc){n.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}}}return t}var It=new Map;function kt(n){var t;var i;if("string"==typeof n){t=vt(Et(n));i=It.get(t)||Fn(n,{noLocation:!0})}else{t=n.__key||vt(Et(n));i=It.get(t)||n}if(!i.loc){Et(i)}i.__key=t;It.set(t,i);return i}function Tt(n,t){if(!t){t={}}var i=kt(n);return{key:dt(i.__key,bt(t))>>>0,query:i,variables:t}}function St(n){for(var t=0,i=n.definitions.length;t<i;t++){var e=n.definitions[t];if(e.kind===E.OPERATION_DEFINITION&&e.name){return e.name.value}}}function Nt(){Nt=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var e in i){if(Object.prototype.hasOwnProperty.call(i,e)){n[e]=i[e]}}}return n};return Nt.apply(this,arguments)}function xt(n,t,i){if(!("data"in t)&&!("errors"in t)||"path"in t){throw new Error("No Content")}return{operation:n,data:t.data,error:Array.isArray(t.errors)?new lt({graphQLErrors:t.errors,response:i}):void 0,extensions:"object"==typeof t.extensions&&t.extensions||void 0,hasNext:!!t.hasNext}}function _t(n,t,i){var e=Nt({},n);e.hasNext=!!t.hasNext;if(!("path"in t)){if("data"in t){e.data=t.data}return e}if(Array.isArray(t.errors)){e.error=new lt({graphQLErrors:e.error?e.error.graphQLErrors.concat(t.errors):t.errors,response:i})}var r=e.data=Nt({},e.data);var o=0;var s;while(o<t.path.length){r=r[s=t.path[o++]]=Array.isArray(r[s])?[].concat(r[s]):Nt({},r[s])}Nt(r,t.data);return e}function At(n,t,i){return{operation:n,data:void 0,error:new lt({networkError:t,response:i}),extensions:void 0}}function Dt(n){return"query"===n.kind&&!!n.context.preferGetMethod}function jt(n){return{query:N(n.query),operationName:St(n.query),variables:n.variables||void 0,extensions:void 0}}function Pt(n,t){var i=Dt(n);var e=n.context.url;if(!i||!t){return e}var r=[];if(t.operationName){r.push("operationName="+encodeURIComponent(t.operationName))}if(t.query){r.push("query="+encodeURIComponent(t.query.replace(/#[^\n\r]+/g," ").trim()))}if(t.variables){r.push("variables="+encodeURIComponent(bt(t.variables)))}if(t.extensions){r.push("extensions="+encodeURIComponent(bt(t.extensions)))}var o=e+"?"+r.join("&");if(o.length>2047){n.context.preferGetMethod=!1;return e}return o}function Ct(n,t){var i=Dt(n);var e={accept:"application/graphql+json, application/json"};if(!i){e["content-type"]="application/json"}var r=("function"==typeof n.context.fetchOptions?n.context.fetchOptions():n.context.fetchOptions)||{};if(r.headers){for(var o in r.headers){e[o.toLowerCase()]=r.headers[o]}}return Nt({},r,{body:!i&&t?JSON.stringify(t):void 0,method:i?"GET":"POST",headers:e})}var Rt="undefined"!=typeof Symbol?Symbol.asyncIterator:null;var Ft="undefined"!=typeof TextDecoder?new TextDecoder:null;var Lt=/content-type:[^\r\n]*application\/json/i;var Bt=/boundary="?([^=";]+)"?/i;function Mt(n,t,i){var e="manual"===i.redirect?400:300;var r=n.context.fetch;return tt((function(o){var s=o.next;var u=o.complete;var a="undefined"!=typeof AbortController?new AbortController:null;if(a){i.signal=a.signal}var c=!1;function f(n,t,i){var e=i.headers&&i.headers.get("Content-Type")||"";if(/text\//i.test(e)){return i.text().then((function(e){n(At(t,new Error(e),i))}))}else if(!/multipart\/mixed/i.test(e)){return i.text().then((function(e){n(xt(t,JSON.parse(e),i))}))}var r="---";var o=e.match(Bt);if(o){r="--"+o[1]}var s;var u=function(){};if(Rt&&i[Rt]){var a=i[Rt]();s=a.next.bind(a)}else if("body"in i&&i.body){var f=i.body.getReader();u=f.cancel.bind(f);s=f.read.bind(f)}else{throw new TypeError("Streaming requests unsupported")}var h="";var l=!0;var d=null;var v=null;return s().then((function e(o){if(!o.done){var u=function n(t){return"Buffer"===t.constructor.name?t.toString():Ft.decode(t)}(o.value);var a=u.indexOf(r);if(a>-1){a+=h.length}else{a=h.indexOf(r)}h+=u;while(a>-1){var f=h.slice(0,a);var p=h.slice(a+r.length);if(l){l=!1}else{var y=f.indexOf("\r\n\r\n")+4;var m=f.slice(0,y);var b=f.slice(y,f.lastIndexOf("\r\n"));var w=void 0;if(Lt.test(m)){try{w=JSON.parse(b);d=v=v?_t(v,w,i):xt(t,w,i)}catch(n){}}if("--"===p.slice(0,2)||w&&!w.hasNext){if(!v){return n(xt(t,{},i))}break}}a=(h=p).indexOf(r)}}else{c=!0}if(d){n(d);d=null}if(!o.done&&(!v||v.hasNext)){return s().then(e)}})).finally(u)}var h=!1;var l=!1;var d;Promise.resolve().then((function(){if(h){return}return(r||fetch)(t,i)})).then((function(t){if(!t){return}l=(d=t).status<200||d.status>=e;return f(s,n,d)})).then(u).catch((function(t){if(c){throw t}var i=At(n,l?d.statusText?new Error(d.statusText):t:t,d);s(i);u()}));return function(){h=!0;if(a){a.abort()}}}))}function Ut(n,t){if(Array.isArray(n)){for(var i=0;i<n.length;i++){Ut(n[i],t)}}else if("object"==typeof n&&null!==n){for(var e in n){if("__typename"===e&&"string"==typeof n[e]){t[n[e]]=0}else{Ut(n[e],t)}}}return t}function Vt(n){return Object.keys(Ut(n,{}))}var qt=function(n){if(n.selectionSet&&!n.selectionSet.selections.some((function(n){return n.kind===E.FIELD&&"__typename"===n.name.value&&!n.alias}))){return Nt({},n,{selectionSet:Nt({},n.selectionSet,{selections:n.selectionSet.selections.concat([{kind:E.FIELD,name:{kind:E.NAME,value:"__typename"}}])})})}};var Gt=new Map;function $t(n){var t=kt(n);var i=Gt.get(t.__key);if(!i){i=g(t,{Field:qt,InlineFragment:qt});Object.defineProperty(i,"__key",{value:t.__key,enumerable:!1});Gt.set(t.__key,i)}return i}function Qt(n){if(!n||"object"!=typeof n){return n}return Object.keys(n).reduce((function(t,i){var e=n[i];if("__typename"===i){Object.defineProperty(t,"__typename",{enumerable:!1,value:e})}else if(Array.isArray(e)){t[i]=e.map(Qt)}else if(e&&"object"==typeof e&&"__typename"in e){t[i]=Qt(e)}else{t[i]=e}return t}),Array.isArray(n)?[]:{})}function Jt(n){n.toPromise=function(){return new Promise((function(t){var i=Wn((function(n){if(!n.stale&&!n.hasNext){Promise.resolve().then((function(){i.unsubscribe();t(n)}))}}))(n)}))};return n}function Yt(n,t,i){if(!i){i=t.context}return{key:t.key,query:t.query,variables:t.variables,kind:n,context:i}}function Kt(n,t){return Yt(n.kind,n,Nt({},n.context,{meta:Nt({},n.context.meta,t)}))}function Xt(){}function Ht(n){var t=n.kind;return"mutation"!==t&&"query"!==t}function Wt(n){var t=n.forward;var i=n.client;var e=new Map;var r=Object.create(null);function o(n){var t=Yt(n.kind,n);t.query=$t(n.query);return t}function s(n){var t=n.context.requestPolicy;return"query"===n.kind&&"network-only"!==t&&("cache-only"===t||e.has(n.key))}return function(n){var u=at(n);var a=et((function(n){var t=e.get(n.key);var r=Nt({},t,{operation:Kt(n,{cacheOutcome:t?"hit":"miss"})});if("cache-and-network"===n.context.requestPolicy){r.stale=!0;zt(i,n)}return r}))(Zn((function(n){return!Ht(n)&&s(n)}))(u));var c=Kn((function(n){var t=n.operation;if(!t){return}var o=Vt(n.data).concat(t.context.additionalTypenames||[]);if("mutation"===n.operation.kind){var s=new Set;for(var u=0;u<o.length;u++){var a=o[u];var c=r[a]||(r[a]=new Set);c.forEach((function(n){s.add(n)}));c.clear()}s.forEach((function(n){if(e.has(n)){t=e.get(n).operation;e.delete(n);zt(i,t)}}))}else if("query"===t.kind&&n.data){e.set(t.key,n);for(var f=0;f<o.length;f++){var h=o[f];(r[h]||(r[h]=new Set)).add(t.key)}}}))(t(Zn((function(n){return"query"!==n.kind||"cache-only"!==n.context.requestPolicy}))(et((function(n){return Kt(n,{cacheOutcome:"miss"})}))(rt([et(o)(Zn((function(n){return!Ht(n)&&!s(n)}))(u)),Zn((function(n){return Ht(n)}))(u)])))));return rt([a,c])}}function zt(n,t){return n.reexecuteOperation(Yt(t.kind,t,Nt({},t.context,{requestPolicy:"network-only"})))}function Zt(n){var t=n.forward;var i=new Set;function e(n){var t=n.key;var e=n.kind;if("teardown"===e){i.delete(t);return!0}if("query"!==e&&"subscription"!==e){return!0}var r=i.has(t);i.add(t);return!r}function r(n){if(!n.hasNext){i.delete(n.operation.key)}}return function(n){var i=Zn(e)(n);return Kn(r)(t(i))}}function ni(n){var t=n.forward;return function(n){var i=at(n);var e=Jn((function(n){var t=n.key;var e=Zn((function(n){return"teardown"===n.kind&&n.key===t}))(i);var r=jt(n);var o=Pt(n,r);var s=Ct(n,r);return Kn((function(n){}))(ft(e)(Mt(n,o,s)))}))(Zn((function(n){return"query"===n.kind||"mutation"===n.kind}))(i));var r=t(Zn((function(n){return"query"!==n.kind&&"mutation"!==n.kind}))(i));return rt([e,r])}}function ti(n){return function(n){return Zn((function(){return!1}))(Kn((function(n){if("teardown"!==n.kind&&"production"!=="production"){var t='No exchange has handled operations of kind "'+n.kind+"\". Check whether you've added an exchange responsible for these operations.";console.warn(t)}}))(n))}}function ii(n){return function(t){var i=t.client;return n.reduceRight((function(n,t){return t({client:i,forward:n,dispatchDebug:function n(t){}})}),t.forward)}}var ei=[Zt,Wt,ni];var ri=function n(t){var i=new Map;var e=new Map;var r=[];var o=it();var s=o.source;var u=o.next;var a=!1;function c(n){if(n){u(n)}if(!a){a=!0;while(a&&(n=r.shift())){u(n)}a=!1}}function f(n){var t=Zn((function(t){return t.operation.kind===n.kind&&t.operation.key===n.key&&(!t.operation.context._instance||t.operation.context._instance===n.context._instance)}))(p);if(l.maskTypename){t=et((function(n){return Nt({},n,{data:Qt(n.data)})}))(t)}if("mutation"===n.kind){return ct(1)(st((function(){return u(n)}))(t))}return at(ot((function(){i.delete(n.key);e.delete(n.key);for(var t=r.length-1;t>=0;t--){if(r[t].key===n.key){r.splice(t,1)}}u(Yt("teardown",n,n.context))}))(Kn((function(t){i.set(n.key,t)}))(Hn((function(t){if("query"!==n.kind||t.stale){return nt(t)}return rt([nt(t),et((function(){return Nt({},t,{stale:!0})}))(ct(1)(Zn((function(t){return"query"===t.kind&&t.key===n.key&&"cache-only"!==t.context.requestPolicy}))(s)))])}))(ft(Zn((function(t){return"teardown"===t.kind&&t.key===n.key}))(s))(t)))))}var h=this instanceof n?this:Object.create(n.prototype);var l=Nt(h,{url:t.url,fetchOptions:t.fetchOptions,fetch:t.fetch,suspense:!!t.suspense,requestPolicy:t.requestPolicy||"cache-first",preferGetMethod:!!t.preferGetMethod,maskTypename:!!t.maskTypename,operations$:s,reexecuteOperation:function n(t){if("mutation"===t.kind||e.has(t.key)){r.push(t);Promise.resolve().then(c)}},createOperationContext:function n(t){if(!t){t={}}return Nt({},{_instance:void 0,url:l.url,fetchOptions:l.fetchOptions,fetch:l.fetch,preferGetMethod:l.preferGetMethod},t,{suspense:t.suspense||!1!==t.suspense&&l.suspense,requestPolicy:t.requestPolicy||l.requestPolicy})},createRequestOperation:function n(t,i,e){var r=l.createOperationContext(e);if("mutation"===t){r._instance=[]}return Yt(t,i,r)},executeRequestOperation:function n(t){if("mutation"===t.kind){return f(t)}return tt((function(n){var r=e.get(t.key);if(!r){e.set(t.key,r=f(t))}var o="cache-and-network"===t.context.requestPolicy||"network-only"===t.context.requestPolicy;return Wn(n.next)(ot((function(){a=!1;n.complete()}))(st((function(){var e=i.get(t.key);if("subscription"===t.kind){return c(t)}else if(o){c(t)}if(null!=e&&e===i.get(t.key)){n.next(o?Nt({},e,{stale:!0}):e)}else if(!o){c(t)}}))(r))).unsubscribe}))},executeQuery:function n(t,i){var e=l.createRequestOperation("query",t,i);return l.executeRequestOperation(e)},executeSubscription:function n(t,i){var e=l.createRequestOperation("subscription",t,i);return l.executeRequestOperation(e)},executeMutation:function n(t,i){var e=l.createRequestOperation("mutation",t,i);return l.executeRequestOperation(e)},query:function n(t,i,e){if(!e||"boolean"!=typeof e.suspense){e=Nt({},e,{suspense:!1})}return Jt(l.executeQuery(Tt(t,i),e))},readQuery:function n(t,i,e){var r=null;Wn((function(n){r=n}))(l.query(t,i,e)).unsubscribe();return r},subscription:function n(t,i,e){return l.executeSubscription(Tt(t,i),e)},mutation:function n(t,i,e){return Jt(l.executeMutation(Tt(t,i),e))}});var d=Xt;var v=ii(void 0!==t.exchanges?t.exchanges:ei);var p=at(v({client:l,dispatchDebug:d,forward:ti()})(s));ut(p);return l};var oi=ri;var si=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var ui=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var ai=function(){function n(n,t,i){if(!n&&!t&&!i)console.error("api_url, token and domain are required");this.client=oi({url:n,requestPolicy:"cache-first",exchanges:ei,maskTypename:true,fetchOptions:{headers:{token:t,domain:i}}})}n.prototype.query=function(n,t){return si(this,void 0,void 0,(function(){var i,e,r,o;return ui(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,this.client.query(n,t).toPromise()];case 1:i=s.sent(),e=i.data,r=i.error;if(r)throw new Error(r);return[2,e];case 2:o=s.sent();throw new Error(o);case 3:return[2]}}))}))};n.prototype.mutation=function(n,t){return si(this,void 0,void 0,(function(){var i,e,r,o;return ui(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,this.client.mutation(n,t).toPromise()];case 1:i=s.sent(),e=i.data,r=i.error;if(r)throw new Error(r);return[2,e];case 2:o=s.sent();throw new Error(o);case 3:return[2]}}))}))};return n}();function ci(){return new ai(shop_ctx.api_url,shop_ctx.token,shop_ctx.domain)}var fi=function(){function n(){}n.emit=function(n,t){var i="send".concat(n);var e=new CustomEvent(i,{detail:t});t&&window.dispatchEvent(e)};return n}();function hi(n,t){if(n===void 0){n=1}if(t===void 0){t=12}var i=(n-1)*t+1;return{page:Number(i),first:Number(t)}}var li=undefined&&undefined.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var e=0,r=t.length,o;e<r;e++){if(o||!(e in t)){if(!o)o=Array.prototype.slice.call(t,0,e);o[e]=t[e]}}return n.concat(o||Array.prototype.slice.call(t))};var di=function(){function n(n){this.fields=n||this.defaultFields()}n.prototype.getFields=function(){return this.fields.join()};n.prototype.getReleaseDateFields=function(){return"{releaseDate, now}"};n.prototype.getImageFields=function(){return"{productId, src, alt, colorIds, variationIds, position}"};n.prototype.getComponentGroupsFields=function(){return"{id, name, description, slug, optional}"};n.prototype.getAttributeFields=function(){return"{id, name, slug, attributeId, attributeName, position, isActive}"};n.prototype.getColorFields=function(){return"\n    {\n        id,\n        name,\n        slug,\n        hexadecimal,\n        image ".concat(this.getImageFields(),"\n    }")};n.prototype.getFeatureCommonFields=function(){return["id","name","slug","image ".concat(this.getImageFields())]};n.prototype.getFeatureFields=function(){return"{".concat(this.getFeatureCommonFields().join(),", values {").concat(this.getFeatureCommonFields().join(),"}}")};n.prototype.getBrandFields=function(){return"\n    {\n        id,\n        name,\n        slug,\n        description,\n        shortDescription,\n        image ".concat(this.getImageFields(),",\n        banner ").concat(this.getImageFields(),"\n    }")};n.prototype.getCategoryFields=function(){return"\n    {\n        id, \n        name, \n        slug, \n        description, \n        image ".concat(this.getImageFields(),", \n        breadcrumb, \n        googleTaxonomyId\n    }")};n.prototype.getPaymantInstallmentFields=function(){return"{markup, parcel, discount, interest, total, parcelPrice}"};n.prototype.getPaymentFields=function(){return["id","gatewayId","externalId","name","method","external","maxParcels","parcelsNoInterest","installments ".concat(this.getPaymantInstallmentFields()),"minParcelPrice","minPurchase","maxPurchase","expireDays","softDescriptor","description","isActive","position","billetMinDiscountPrice","markup","instructions","isDefault","showOnlyInstoreShipping","createdAt","updatedAt","installment ".concat(this.getPaymantInstallmentFields())]};n.prototype.getComponentFields=function(){return"\n    {\n      productComponentId\n      productComponentGroupId\n      quantity\n      isDefault\n      isOptional\n      variations {".concat(this.getCommonFields().join(),"}\n    }")};n.prototype.getCommonFields=function(){return["id","name","slug","payments {".concat(this.getPaymentFields().join(),"}"),"gtin","mpn","additionalShippingTime","externalId","categoryDefaultId","hotsiteId","description","shortDescription","relevance","releaseDate ".concat(this.getReleaseDateFields()),"tags","minQuantity","maxQuantity","isSellInKitOnly","metaTitle","metaDescription","metaKeywords","isKit","kitMarkup","isVirtual","isPreSale","images ".concat(this.getImageFields()),"video","weight","depth","width","height","isSellOutOfStock","additionalTimeOutOfStock","balance","price","minPriceRange","maxPriceRange","hasPriceRange","priceCompare","discount","billetDiscount","paymentsReason","warranty","model","gender","ageGroup","productId","brand ".concat(this.getBrandFields()),"category ".concat(this.getCategoryFields()),"categories ".concat(this.getCategoryFields()),"color ".concat(this.getColorFields()),"attribute ".concat(this.getAttributeFields()),"attributeSecondary ".concat(this.getAttributeFields()),"features ".concat(this.getFeatureFields()),"priceOutOfStock","sku"]};n.prototype.getFullVariations=function(){var n=["components ".concat(this.getComponentFields()),"componentGroups ".concat(this.getComponentGroupsFields())];return li([],this.getCommonFields(),true).concat(n)};n.prototype.defaultFields=function(){return["".concat(this.getFullVariations().join()),"variations {".concat(this.getFullVariations().join(),"}")]};n.prototype.listFullQuery=function(){return"query Products($agg: agg!, $filter: filterPaginationFilter) {\n      products(agg: $agg, filter: $filter) {\n            edges {\n              node {\n                ".concat(this.getFields(),"\n              }\n              cursor\n            }\n            pageInfo {\n              hasNextPage\n              hasPreviousPage\n              startCursor\n              endCursor\n              first\n              total\n            }\n          }\n        }")};n.prototype.getOneFullQuery=function(){return"query Product($filter: filterProduct) {\n      product(filter: $filter) {\n          ".concat(this.getFields(),"\n        }\n      }")};return n}();var vi=undefined&&undefined.__assign||function(){vi=Object.assign||function(n){for(var t,i=1,e=arguments.length;i<e;i++){t=arguments[i];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))n[r]=t[r]}return n};return vi.apply(this,arguments)};var pi=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var yi=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var mi=function(){function n(){}n.getList=function(n){var t=n.fields,i=n.agg,e=n.filter;return pi(this,void 0,void 0,(function(){var n,r,o;return yi(this,(function(s){switch(s.label){case 0:n=new di(t);r=n.listFullQuery();return[4,ci().query(r,e&&{agg:i,filter:vi({},e)})];case 1:o=s.sent().products;return[2,o]}}))}))};n.getOne=function(n){var t=n.fields,i=n.filter;return pi(this,void 0,void 0,(function(){var n,e,r;return yi(this,(function(o){switch(o.label){case 0:n=new di(t);e=n.getOneFullQuery();return[4,ci().query(e,i&&{filter:vi({},i)})];case 1:r=o.sent().product;return[2,r]}}))}))};n.getById=function(n,t){return pi(this,void 0,void 0,(function(){return yi(this,(function(i){return[2,this.getOne({fields:t||null,filter:{productId:n}})]}))}))};n.getBySlug=function(n,t){return pi(this,void 0,void 0,(function(){return yi(this,(function(i){return[2,this.getOne({fields:t||null,filter:{slug:n}})]}))}))};return n}();var bi=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var wi=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var gi=function(){function n(){}n.getList=function(n){var t;return bi(this,void 0,void 0,(function(){var n;return wi(this,(function(i){n=(t=shop_ctx.mock)===null||t===void 0?void 0:t.products;return[2,n||{}]}))}))};n.getById=function(n,t){var i,e,r,o;return bi(this,void 0,void 0,(function(){var t;return wi(this,(function(s){t=(o=(r=(e=(i=shop_ctx.mock)===null||i===void 0?void 0:i.products)===null||e===void 0?void 0:e.edges)===null||r===void 0?void 0:r.find((function(t){var i;return((i=t===null||t===void 0?void 0:t.node)===null||i===void 0?void 0:i.product_id)==n})))===null||o===void 0?void 0:o.node;return[2,t]}))}))};n.getBySlug=function(n,t){var i,e,r,o;return bi(this,void 0,void 0,(function(){var t;return wi(this,(function(s){t=(o=(r=(e=(i=shop_ctx.mock)===null||i===void 0?void 0:i.products)===null||e===void 0?void 0:e.edges)===null||r===void 0?void 0:r.find((function(t){var i;return((i=t===null||t===void 0?void 0:t.node)===null||i===void 0?void 0:i.slug)==n})))===null||o===void 0?void 0:o.node;return[2,t]}))}))};return n}();var Oi=undefined&&undefined.__assign||function(){Oi=Object.assign||function(n){for(var t,i=1,e=arguments.length;i<e;i++){t=arguments[i];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))n[r]=t[r]}return n};return Oi.apply(this,arguments)};var Ei=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var Ii=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var ki=undefined&&undefined.__rest||function(n,t){var i={};for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0)i[e]=n[e];if(n!=null&&typeof Object.getOwnPropertySymbols==="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++){if(t.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r]))i[e[r]]=n[e[r]]}return i};var Ti=function(){var n;return((n=shop_ctx.mock)===null||n===void 0?void 0:n.products)?gi:mi};var Si=function(){function n(){}n.getList=function(n){var t=n.filter,i=n.agg,e=i===void 0?{field:["productId"]}:i,r=n.fields;return Ei(this,void 0,void 0,(function(){var n,i,o;return Ii(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);n=ki(t,["items"]);return[4,Ti().getList({fields:r||null,filter:Oi(Oi({},hi((t===null||t===void 0?void 0:t.page)||1,t===null||t===void 0?void 0:t.items)),n),agg:e})];case 1:i=s.sent();fi.emit("Product",i);return[2,i];case 2:o=s.sent();throw new Error(o===null||o===void 0?void 0:o.message);case 3:return[2]}}))}))};n.getById=function(n,t){return Ei(this,void 0,void 0,(function(){var i;return Ii(this,(function(e){switch(e.label){case 0:return[4,Ti().getById(Number(n),t)];case 1:i=e.sent();return[2,i]}}))}))};n.getBySlug=function(n,t){return Ei(this,void 0,void 0,(function(){var i;return Ii(this,(function(e){switch(e.label){case 0:return[4,Ti().getBySlug(n,t)];case 1:i=e.sent();return[2,i]}}))}))};return n}();var Ni=function(){function n(n){this.fields=n}n.prototype.getAllFields=function(n){var t;return(t=this.fields)!==null&&t!==void 0?t:"{\n        id,\n        name,\n        title,\n        buyButtonText,\n        productId,\n        colorId,\n        dateFrom,\n        dateTo,\n        active,\n        product ".concat(n==="restrict"?this.getStrictProductFields():this.getProduct(),",\n        productsPivot ").concat(n==="restrict"?this.getStrictProductFields():this.getProduct(),"\n      }")};n.prototype.getStrictProductFields=function(){var n="\n    {\n      id\n      productId\n      src\n      alt\n      colorIds\n      variationIds\n    }";var t="\n    {\n      id\n      name\n      slug\n      hexadecimal\n    }";var i="\n    {\n      id\n      name\n      slug\n      attributeId\n      attributeName\n      isActive\n    }";var e="\n    {\n      id\n      name\n      method\n      description\n      isActive\n      markup\n      isDefault\n    }";var r="\n    {\n      id\n      name\n      slug\n      values {\n        id\n        name\n        slug\n      }\n    }";var o="\n    {\n      id\n      name\n      slug\n      releaseDate {\n        releaseDate\n        now\n      }\n      description\n      shortDescription\n      isVirtual\n      isPreSale\n      images ".concat(n,"\n      priceOutOfStock\n      isSellOutOfStock\n      additionalTimeOutOfStock\n      balance\n      price\n      priceCompare\n      discount\n      billetDiscount\n      payments ").concat(e,"\n      color ").concat(t,"\n      attribute ").concat(i,"\n      attributeSecondary ").concat(i,"\n      features ").concat(r,"\n      productId\n      colors ").concat(t,"\n    }\n    ");return"{\n      id\n      name\n      slug\n      description\n      shortDescription\n      images ".concat(n,"\n      payments ").concat(e,"\n      priceOutOfStock\n      isSellOutOfStock\n      balance\n      price\n      priceCompare\n      discount\n      billetDiscount\n      color ").concat(t,"\n      attribute ").concat(i,"\n      attributeSecondary ").concat(i,"\n      features ").concat(r,"\n      releaseDate {\n        releaseDate\n        now\n      }\n      productId\n      variations ").concat(o,"\n      sku\n      colors ").concat(t,"\n    }")};n.prototype.getProduct=function(){return"{\n      id\n      name\n      slug\n      payments {\n        id\n        gatewayId\n        externalId\n        name\n        method\n        external\n        maxParcels\n        parcelsNoInterest\n        installments {\n          markup\n          parcel\n          discount\n          interest\n          total\n          parcelPrice\n        }\n        minParcelPrice\n        minPurchase\n        maxPurchase\n        expireDays\n        softDescriptor\n        description\n        isActive\n        position\n        billetMinDiscountPrice\n        markup\n        instructions\n        isDefault\n        showOnlyInstoreShipping\n        createdAt\n        updatedAt\n        installment {\n          markup\n          parcel\n          discount\n          interest\n          total\n          parcelPrice\n        }\n      }\n      gtin\n      mpn\n      additionalShippingTime\n      externalId\n      categoryDefaultId\n      hotsiteId\n      description\n      shortDescription\n      relevance\n      tags\n      minQuantity\n      maxQuantity\n      isSellInKitOnly\n      metaTitle\n      metaDescription\n      metaKeywords\n      isKit\n      kitMarkup\n      isVirtual\n      isPreSale\n      images {\n        id\n        productId\n        src\n        alt\n        colorIds\n        variationIds\n        position\n      }\n      video\n      weight\n      depth\n      width\n      height\n      priceOutOfStock\n      isSellOutOfStock\n      additionalTimeOutOfStock\n      balance\n      price\n      minPriceRange\n      maxPriceRange\n      hasPriceRange\n      priceCompare\n      discount\n      billetDiscount\n      paymentsReason\n      warranty\n      model\n      gender\n      ageGroup\n      brand {\n        id\n        name\n        slug\n        description\n        shortDescription\n        image {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n        banner {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n      }\n      category {\n        id\n        name\n        slug\n        description\n        breadcrumb\n        googleTaxonomyId\n      }\n      categories {\n        id\n        name\n        slug\n        description\n        breadcrumb\n        googleTaxonomyId\n      }\n      reference\n      color {\n        id\n        name\n        slug\n        hexadecimal\n        position\n      }\n      attribute {\n        id\n        name\n        slug\n        attributeId\n        attributeName\n        position\n        isActive\n      }\n      attributeSecondary {\n        id\n        name\n        slug\n        attributeId\n        attributeName\n        position\n        isActive\n      }\n      features {\n        id\n        name\n        slug\n        values {\n          id\n          name\n          slug\n        }\n      }\n      releaseDate {\n        releaseDate\n        now\n      }\n      productId\n      createdAt\n      variations {\n        id\n        name\n        slug\n        releaseDate {\n          releaseDate\n          now\n        }\n        payments {\n          id\n          gatewayId\n          externalId\n          name\n          method\n          external\n          maxParcels\n          parcelsNoInterest\n          installments {\n            markup\n            parcel\n            discount\n            interest\n            total\n            parcelPrice\n          }\n          minParcelPrice\n          minPurchase\n          maxPurchase\n          expireDays\n          softDescriptor\n          description\n          isActive\n          position\n          billetMinDiscountPrice\n          markup\n          instructions\n          isDefault\n          showOnlyInstoreShipping\n          createdAt\n          updatedAt\n          installment {\n            markup\n            parcel\n            discount\n            interest\n            total\n            parcelPrice\n          }\n        }\n        gtin\n        mpn\n        additionalShippingTime\n        externalId\n        categoryDefaultId\n        hotsiteId\n        description\n        shortDescription\n        relevance\n        reference\n        tags\n        minQuantity\n        maxQuantity\n        isSellInKitOnly\n        metaTitle\n        metaDescription\n        metaKeywords\n        isKit\n        kitMarkup\n        isVirtual\n        isPreSale\n        images {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n        video\n        weight\n        depth\n        width\n        height\n        priceOutOfStock\n        isSellOutOfStock\n        additionalTimeOutOfStock\n        balance\n        price\n        minPriceRange\n        maxPriceRange\n        hasPriceRange\n        priceCompare\n        discount\n        billetDiscount\n        paymentsReason\n        warranty\n        model\n        gender\n        ageGroup\n        brand {\n          id\n          name\n          slug\n          description\n          shortDescription\n          image {\n            id\n            productId\n            src\n            alt\n            colorIds\n            variationIds\n            position\n          }\n          banner {\n            id\n            productId\n            src\n            alt\n            colorIds\n            variationIds\n            position\n          }\n        }\n        category {\n          id\n          name\n          slug\n          description\n          breadcrumb\n          googleTaxonomyId\n        }\n        categories {\n          id\n          name\n          slug\n          description\n          breadcrumb\n          googleTaxonomyId\n        }\n        color {\n          id\n          name\n          slug\n          hexadecimal\n          position\n        }\n        attribute {\n          id\n          name\n          slug\n          attributeId\n          attributeName\n          position\n          isActive\n        }\n        attributeSecondary {\n          id\n          name\n          slug\n          attributeId\n          attributeName\n          position\n          isActive\n        }\n        features {\n          id\n          name\n          slug\n          values {\n            id\n            name\n            slug\n          }\n        }\n        productId\n        createdAt\n        components {\n          productComponentId\n          productComponentGroupId\n          quantity\n          isDefault\n          isOptional\n          variations {\n            id\n            name\n            slug\n            gtin\n            mpn\n            additionalShippingTime\n            externalId\n            categoryDefaultId\n            hotsiteId\n            description\n            shortDescription\n            relevance\n            reference\n            tags\n            minQuantity\n            maxQuantity\n            isSellInKitOnly\n            metaTitle\n            metaDescription\n            metaKeywords\n            isKit\n            kitMarkup\n            isVirtual\n            isPreSale\n            video\n            weight\n            depth\n            width\n            height\n            priceOutOfStock\n            isSellOutOfStock\n            additionalTimeOutOfStock\n            balance\n            price\n            minPriceRange\n            maxPriceRange\n            hasPriceRange\n            priceCompare\n            discount\n            billetDiscount\n            paymentsReason\n            warranty\n            model\n            gender\n            ageGroup\n            productId\n            createdAt\n            sku\n            isGift\n          }\n          productComponentGroupName\n        }\n        componentGroups {\n          id\n          name\n          description\n          slug\n          optional\n        }\n        sku\n        colors {\n          id\n          name\n          slug\n          hexadecimal\n          position\n        }\n        isGift\n      }\n      components {\n        productComponentId\n        productComponentGroupId\n        quantity\n        isDefault\n        isOptional\n        productComponentGroupName\n      }\n      componentGroups {\n        id\n        name\n        description\n        slug\n        optional\n      }\n      sku\n      colors {\n        id\n        name\n        slug\n        hexadecimal\n        position\n      }\n      isGift\n    }"};n.prototype.getOneFullQuery=function(n){return"query BuyTogether($filter: filterBuyTogether) {\n      buyTogether(filter: $filter) \n        ".concat(this.getAllFields(n),"\n    }")};n.prototype.getListFullQuery=function(n){return"query BuyTogetherList($filter: filterBuyTogetherList) {\n      buyTogetherList(filter: $filter) \n        ".concat(this.getAllFields(n),"\n    }")};return n}();var xi=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var _i=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Ai=function(){function n(){}n.getByProductId=function(n,t){return xi(this,void 0,void 0,(function(){var i,e,r;return _i(this,(function(o){switch(o.label){case 0:i=new Ni(t);e=i.getOneFullQuery("restrict");return[4,ci().query(e,{filter:{productId:n}})];case 1:r=o.sent().buyTogether;return[2,r]}}))}))};n.getByProductIds=function(n,t){return xi(this,void 0,void 0,(function(){var i,e,r;return _i(this,(function(o){switch(o.label){case 0:i=new Ni(t);e=i.getListFullQuery("restrict");return[4,ci().query(e,{filter:{productsIds:n}})];case 1:r=o.sent();return[2,r.buyTogetherList]}}))}))};return n}();var Di=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var ji=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Pi=function(){function n(){}n.getByProductId=function(n,t){return Di(this,void 0,void 0,(function(){return ji(this,(function(i){switch(i.label){case 0:return[4,Ai.getByProductId(n,t)];case 1:return[2,i.sent()]}}))}))};n.getByProductIdWithValidPromotionDate=function(n,t){return Di(this,void 0,void 0,(function(){var i;return ji(this,(function(e){switch(e.label){case 0:return[4,Ai.getByProductId(n,t)];case 1:i=e.sent();if(i&&this.checkPromotionDateValid(i))return[2,i];return[2,null]}}))}))};n.getByProductIds=function(n,t){return Di(this,void 0,void 0,(function(){var i;var e=this;return ji(this,(function(r){switch(r.label){case 0:return[4,Ai.getByProductIds(n,t)];case 1:i=r.sent();return[2,i.map((function(n){if(e.checkPromotionDateValid(n))return n}))]}}))}))};n.checkPromotionDateValid=function(n){var t=n.dateFrom,i=n.dateTo;var e=Number(new Date);var r=Number(new Date(t+"T00:00:00"));if(!i)return e>=r;var o=Number(new Date(i+"T00:00:00"));return e>=r&&e<=o};return n}();var Ci=function(){function n(n){this.fields=n||this.defaultFields()}n.prototype.getImageFields=function(){return"{alt, src}"};n.prototype.getMessageFields=function(){return"{title, content}"};n.prototype.getDiscountFields=function(){return"{type, value}"};n.prototype.getVariationFields=function(){return"\n      {\n        variationId, \n        discount ".concat(this.getDiscountFields(),"\n      }")};n.prototype.getProductFields=function(){return"\n      {\n        productId, \n        discount ".concat(this.getDiscountFields(),", \n        variations ").concat(this.getVariationFields(),"\n      }")};n.prototype.defaultFields=function(){return["id","name","status","urlLive","title","banner ".concat(this.getImageFields()),"messages ".concat(this.getMessageFields()),"products ".concat(this.getProductFields()),"alertVisible","chatVisible","isActive","createdAt","updatedAt"]};n.prototype.getFields=function(){return this.fields.join()};n.prototype.getOneFullQuery=function(){return"\n    query LiveShop($filter: FilterLiveShop){\n      liveShop(filter: $filter){\n        ".concat(this.getFields(),"\n      }\n    }")};return n}();var Ri=undefined&&undefined.__assign||function(){Ri=Object.assign||function(n){for(var t,i=1,e=arguments.length;i<e;i++){t=arguments[i];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))n[r]=t[r]}return n};return Ri.apply(this,arguments)};var Fi=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var Li=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Bi=function(){function n(){}n.getOne=function(n,t){return Fi(this,void 0,void 0,(function(){var i,e,r;return Li(this,(function(o){switch(o.label){case 0:i=new Ci(t);e=i.getOneFullQuery();return[4,ci().query(e,Ri({},n))];case 1:r=o.sent().liveShop;return[2,r]}}))}))};return n}();var Mi=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var Ui=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Vi=function(){function n(){}n.getOne=function(n,t){var i;var e=n.filter;return Mi(this,void 0,void 0,(function(){var n,t;return Ui(this,(function(r){n=(i=shop_ctx.mock)===null||i===void 0?void 0:i.live_shop;t=n.find((function(n){return e.hashRoom&&n.hashRoom===e.hashRoom||e.id&&n.id===e.id||e.slug&&n.slug===e.slug}));if(!t){throw new Error("Live Shop not found")}return[2,t]}))}))};return n}();var qi=undefined&&undefined.__awaiter||function(n,t,i,e){function r(n){return n instanceof i?n:new i((function(t){t(n)}))}return new(i||(i=Promise))((function(i,o){function s(n){try{a(e.next(n))}catch(n){o(n)}}function u(n){try{a(e["throw"](n))}catch(n){o(n)}}function a(n){n.done?i(n.value):r(n.value).then(s,u)}a((e=e.apply(n,t||[])).next())}))};var Gi=undefined&&undefined.__generator||function(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(n){return function(t){return a([n,t])}}function a(u){if(e)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(i=0)),i)try{if(e=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:i.label++;return{value:u[1],done:false};case 5:i.label++;r=u[1];u=[0];continue;case 7:u=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1];o=u;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(u);break}if(o[2])i.ops.pop();i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n];r=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var $i=function(){var n;return((n=shop_ctx.mock)===null||n===void 0?void 0:n.live_shop)?Vi:Bi};var Qi=function(){function n(){}n.getByHash=function(n,t){return qi(this,void 0,void 0,(function(){var i,e;return Gi(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,$i().getOne({filter:{hashRoom:n}},t)];case 1:i=r.sent();fi.emit("LiveShop",i);return[2,i];case 2:e=r.sent();throw new Error(e===null||e===void 0?void 0:e.message);case 3:return[2]}}))}))};n.getById=function(n,t){return qi(this,void 0,void 0,(function(){var i,e;return Gi(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,$i().getOne({filter:{id:n}},t)];case 1:i=r.sent();fi.emit("LiveShop",i);return[2,i];case 2:e=r.sent();throw new Error(e===null||e===void 0?void 0:e.message);case 3:return[2]}}))}))};return n}();var Ji=function(){function n(){}n.prototype.formatRichText=function(n){var t=n.replace(/(<([^>]+)>)/gi,"");return t};n.prototype.render=function(n){return JSON.stringify(n)};return n}();var Yi=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(n){Yi(t,n);function t(t){var i=n.call(this)||this;i.shop=t;return i}t.prototype.getShop=function(){var n,t,i,e,r,o,s,u,a,c;if(!this.shop)return;var f={"@context":"http://schema.org","@type":"Store",name:this.shop.name,telephone:this.shop.phone,email:this.shop.email,url:"https://".concat((t=(n=this.shop)===null||n===void 0?void 0:n.domain)!==null&&t!==void 0?t:this.shop.domainTemporary),description:this.shop.description,address:{"@type":"PostalAddress",streetAddress:"".concat((i=this.shop)===null||i===void 0?void 0:i.street," ").concat((e=this.shop)===null||e===void 0?void 0:e.number," ").concat((o=(r=this.shop)===null||r===void 0?void 0:r.detail)!==null&&o!==void 0?o:null),addressLocality:"".concat((s=this.shop)===null||s===void 0?void 0:s.district," - ").concat((u=this.shop)===null||u===void 0?void 0:u.city),addressRegion:(a=this.shop)===null||a===void 0?void 0:a.state,addressCountry:"Brasil",postalCode:(c=this.shop)===null||c===void 0?void 0:c.zipcode}};return this.render(f)};return t})(Ji);var Ki=function(){function n(){}n.getBrandLink=function(n){return"/".concat(n,"/b")};n.getBlogCategoryLink=function(n){return"/blog/".concat(n)};n.getBlogPostLink=function(n){return"/blog/".concat(n)};n.getCategoryLink=function(n){return"/".concat(n,"/c")};n.getInstitutionalLink=function(n){return"/".concat(n,"/i")};n.getLandingPageLink=function(n){return"/".concat(n,"/lp")};n.getProductLink=function(n){return"/".concat(n,"/p")};return n}();var Xi=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var Hi=function(n){Xi(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}t.prototype.getProductData=function(n){var t,i,e,r,o,s,u,a,c,f,h,l,d,v,p,y,m,b,w,g;var O="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Ki.getProductLink(n===null||n===void 0?void 0:n.slug));var E="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Ki.getBrandLink((t=n===null||n===void 0?void 0:n.brand)===null||t===void 0?void 0:t.slug));var I={"@type":"Product",url:O,name:n===null||n===void 0?void 0:n.name,sku:String(n===null||n===void 0?void 0:n.id),description:n===null||n===void 0?void 0:n.name,offers:{"@type":"AggregateOffer",url:O,priceCurrency:"BRL",priceValidUntil:new Date((new Date).setMonth((new Date).getMonth()+1)).toISOString(),price:n===null||n===void 0?void 0:n.price,lowPrice:(i=n===null||n===void 0?void 0:n.minPriceRange)!==null&&i!==void 0?i:n===null||n===void 0?void 0:n.price,highPrice:(e=n===null||n===void 0?void 0:n.maxPriceRange)!==null&&e!==void 0?e:n===null||n===void 0?void 0:n.price,offerCount:(o=(r=n===null||n===void 0?void 0:n.variations)===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:1,itemCondition:"http://schema.org/NewCondition",availability:"http://schema.org/".concat((n===null||n===void 0?void 0:n.balance)>1?"InStock":"OutOfStock")}};if((s=n===null||n===void 0?void 0:n.images)===null||s===void 0?void 0:s.length){n===null||n===void 0?void 0:n.images.forEach((function(n){I.image=[];I.image.push(n.src)}))}var k=(u=n===null||n===void 0?void 0:n.payments)===null||u===void 0?void 0:u.find((function(n){return n.method=="billet"}));var T=(c=Number((a=k===null||k===void 0?void 0:k.installment)===null||a===void 0?void 0:a.total))!==null&&c!==void 0?c:null;if(T<(n===null||n===void 0?void 0:n.minPriceRange)){I.offers.price=T;I.offers.lowPrice=T}if(n===null||n===void 0?void 0:n.description)I.description=this.formatRichText(n===null||n===void 0?void 0:n.description);if(n===null||n===void 0?void 0:n.brand){I.brand={"@type":"Brand",name:(f=n===null||n===void 0?void 0:n.brand)===null||f===void 0?void 0:f.name,logo:(l=(h=n===null||n===void 0?void 0:n.brand)===null||h===void 0?void 0:h.image)===null||l===void 0?void 0:l.src,image:(v=(d=n===null||n===void 0?void 0:n.brand)===null||d===void 0?void 0:d.image)===null||v===void 0?void 0:v.src,url:E};if((p=n===null||n===void 0?void 0:n.brand)===null||p===void 0?void 0:p.image)I.brand.image=(m=(y=n===null||n===void 0?void 0:n.brand)===null||y===void 0?void 0:y.image)===null||m===void 0?void 0:m.src}if((b=n===null||n===void 0?void 0:n.category)===null||b===void 0?void 0:b.name)I.category=(w=n===null||n===void 0?void 0:n.category)===null||w===void 0?void 0:w.name;if(n===null||n===void 0?void 0:n.weight)I.weight={"@type":"QuantitativeValue",value:n===null||n===void 0?void 0:n.weight,unitCode:"kg"};if(n===null||n===void 0?void 0:n.width)I.width={"@type":"QuantitativeValue",value:n===null||n===void 0?void 0:n.width,unitCode:"cm"};if(n===null||n===void 0?void 0:n.height)I.height={"@type":"QuantitativeValue",value:n===null||n===void 0?void 0:n.height,unitCode:"cm"};if(n===null||n===void 0?void 0:n.depth)I.depth={"@type":"QuantitativeValue",value:n===null||n===void 0?void 0:n.depth,unitCode:"cm"};if(n===null||n===void 0?void 0:n.gtin)I.gtin13=n===null||n===void 0?void 0:n.gtin;if(n===null||n===void 0?void 0:n.color)I.color=n===null||n===void 0?void 0:n.color.name;I.sku=(g=n===null||n===void 0?void 0:n.sku)!==null&&g!==void 0?g:String(n===null||n===void 0?void 0:n.id);return I};return t}(Ji);var Wi=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var zi=undefined&&undefined.__assign||function(){zi=Object.assign||function(n){for(var t,i=1,e=arguments.length;i<e;i++){t=arguments[i];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))n[r]=t[r]}return n};return zi.apply(this,arguments)};(function(n){Wi(t,n);function t(t){var i=n.call(this)||this;i.product=t;return i}t.prototype.getProductItem=function(){var n=zi({"@context":"https://schema.org"},this.getProductData(this.product));return this.render(n)};return t})(Hi);var Zi=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(n){Zi(t,n);function t(t){var i=n.call(this)||this;i.products=t;return i}t.prototype.getProductList=function(){var n=this;var t={"@context":"https://schema.org","@type":"ItemList",itemListElement:[]};this.products.forEach((function(i,e){var r={"@type":"ListItem",position:e+1,item:n.getProductData(i)};t.itemListElement.push(r)}));return this.render(t)};return t})(Hi);var ne=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(n){ne(t,n);function t(t){var i=n.call(this)||this;i.data=t;return i}t.prototype.getSomeProducts=function(){var n={"@context":"https://schema.org","@type":"SomeProducts"};if(this.data.name)n.name=this.data.name;if(this.data.description)n.description=this.data.description;return this.render(n)};return t})(Ji);var te=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(n){te(t,n);function t(t){var i=n.call(this)||this;i.brand=t;return i}t.prototype.getBrand=function(){var n,t,i,e,r;var o="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Ki.getBrandLink((n=this.brand)===null||n===void 0?void 0:n.slug));var s={"@context":"https://schema.org","@type":"Brand",name:this.brand.name,logo:(i=(t=this.brand)===null||t===void 0?void 0:t.image)===null||i===void 0?void 0:i.src,image:(r=(e=this.brand)===null||e===void 0?void 0:e.image)===null||r===void 0?void 0:r.src,url:o};return this.render(s)};return t})(Ji);var ie=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(n){ie(t,n);function t(t){var i=n.call(this)||this;i.page=t;return i}t.prototype.getPage=function(){var n;if(((n=this.page)===null||n===void 0?void 0:n.template)==="faq")return this.render(this.faqPage());return this.render(this.genericPage())};t.prototype.genericPage=function(){var n,t,i;var e={"@context":"http://schema.org/","@type":"WebPage",url:(n=this.page)===null||n===void 0?void 0:n.slug,name:(t=this.page)===null||t===void 0?void 0:t.name,description:this.formatRichText(((i=this.page)===null||i===void 0?void 0:i.description)||"")};return e};t.prototype.faqPage=function(){var n=this;var t,i,e,r,o,s;var u={"@context":"http://schema.org/","@type":"FAQPage",url:(t=this.page)===null||t===void 0?void 0:t.slug,name:(i=this.page)===null||i===void 0?void 0:i.name,description:this.formatRichText(((e=this.page)===null||e===void 0?void 0:e.description)||""),mainEntity:[]};if((o=(r=this.page)===null||r===void 0?void 0:r.faq)===null||o===void 0?void 0:o.length){(s=this.page)===null||s===void 0?void 0:s.faq.forEach((function(t){var i={"@type":"Question",name:t.question,acceptedAnswer:{"@type":"Answer",text:n.formatRichText(t.answer||"")}};u.mainEntity.push(i)}))}return u};return t})(Ji);var ee=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var re=function(n){ee(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}t.prototype.getPostData=function(n){var t={"@type":"BlogPosting",url:n===null||n===void 0?void 0:n.url,headline:n===null||n===void 0?void 0:n.name,name:n===null||n===void 0?void 0:n.name,dateCreated:n===null||n===void 0?void 0:n.createdAt,datePublished:n===null||n===void 0?void 0:n.createdAt,dateModified:n===null||n===void 0?void 0:n.updatedAt,inLanguage:"pt-BR",articleSection:n===null||n===void 0?void 0:n.category.name,articleBody:this.formatRichText((n===null||n===void 0?void 0:n.description)||"")};if(n===null||n===void 0?void 0:n.image)t.image=n===null||n===void 0?void 0:n.image.src;return t};return t}(Ji);var oe=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();(function(n){oe(t,n);function t(t){var i=n.call(this)||this;i.posts=t;return i}t.prototype.getBlogCategory=function(){var n=this;var t={"@context":"https://schema.org","@type":"ItemList",itemListElement:[]};this.posts.forEach((function(i,e){var r={"@type":"ListItem",position:e+1,item:n.getPostData(i)};t.itemListElement.push(r)}));return this.render(t)};return t})(re);var se=undefined&&undefined.__extends||function(){var n=function(t,i){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))n[i]=t[i]};return n(t,i)};return function(t,i){if(typeof i!=="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();var ue=undefined&&undefined.__assign||function(){ue=Object.assign||function(n){for(var t,i=1,e=arguments.length;i<e;i++){t=arguments[i];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))n[r]=t[r]}return n};return ue.apply(this,arguments)};(function(n){se(t,n);function t(t){var i=n.call(this)||this;i.post=t;return i}t.prototype.getBlogPost=function(){var n=ue({"@context":"https://schema.org"},this.getPostData(this.post));return this.render(n)};return t})(re);const ae=Object.create(null);ae["open"]="0";ae["close"]="1";ae["ping"]="2";ae["pong"]="3";ae["message"]="4";ae["upgrade"]="5";ae["noop"]="6";const ce=Object.create(null);Object.keys(ae).forEach((n=>{ce[ae[n]]=n}));const fe={type:"error",data:"parser error"};const he=typeof Blob==="function"||typeof Blob!=="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]";const le=typeof ArrayBuffer==="function";const de=n=>typeof ArrayBuffer.isView==="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer;const ve=({type:n,data:t},i,e)=>{if(he&&t instanceof Blob){if(i){return e(t)}else{return pe(t,e)}}else if(le&&(t instanceof ArrayBuffer||de(t))){if(i){return e(t)}else{return pe(new Blob([t]),e)}}return e(ae[n]+(t||""))};const pe=(n,t)=>{const i=new FileReader;i.onload=function(){const n=i.result.split(",")[1];t("b"+(n||""))};return i.readAsDataURL(n)};function ye(n){if(n instanceof Uint8Array){return n}else if(n instanceof ArrayBuffer){return new Uint8Array(n)}else{return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}}let me;function be(n,t){if(he&&n.data instanceof Blob){return n.data.arrayBuffer().then(ye).then(t)}else if(le&&(n.data instanceof ArrayBuffer||de(n.data))){return t(ye(n.data))}ve(n,false,(n=>{if(!me){me=new TextEncoder}t(me.encode(n))}))}const we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";const ge=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(let n=0;n<we.length;n++){ge[we.charCodeAt(n)]=n}const Oe=n=>{let t=n.length*.75,i=n.length,e,r=0,o,s,u,a;if(n[n.length-1]==="="){t--;if(n[n.length-2]==="="){t--}}const c=new ArrayBuffer(t),f=new Uint8Array(c);for(e=0;e<i;e+=4){o=ge[n.charCodeAt(e)];s=ge[n.charCodeAt(e+1)];u=ge[n.charCodeAt(e+2)];a=ge[n.charCodeAt(e+3)];f[r++]=o<<2|s>>4;f[r++]=(s&15)<<4|u>>2;f[r++]=(u&3)<<6|a&63}return c};const Ee=typeof ArrayBuffer==="function";const Ie=(n,t)=>{if(typeof n!=="string"){return{type:"message",data:Te(n,t)}}const i=n.charAt(0);if(i==="b"){return{type:"message",data:ke(n.substring(1),t)}}const e=ce[i];if(!e){return fe}return n.length>1?{type:ce[i],data:n.substring(1)}:{type:ce[i]}};const ke=(n,t)=>{if(Ee){const i=Oe(n);return Te(i,t)}else{return{base64:true,data:n}}};const Te=(n,t)=>{switch(t){case"blob":if(n instanceof Blob){return n}else{return new Blob([n])}case"arraybuffer":default:if(n instanceof ArrayBuffer){return n}else{return n.buffer}}};const Se=String.fromCharCode(30);const Ne=(n,t)=>{const i=n.length;const e=new Array(i);let r=0;n.forEach(((n,o)=>{ve(n,false,(n=>{e[o]=n;if(++r===i){t(e.join(Se))}}))}))};const xe=(n,t)=>{const i=n.split(Se);const e=[];for(let n=0;n<i.length;n++){const r=Ie(i[n],t);e.push(r);if(r.type==="error"){break}}return e};function _e(){return new TransformStream({transform(n,t){be(n,(i=>{const e=i.length;let r;if(e<126){r=new Uint8Array(1);new DataView(r.buffer).setUint8(0,e)}else if(e<65536){r=new Uint8Array(3);const n=new DataView(r.buffer);n.setUint8(0,126);n.setUint16(1,e)}else{r=new Uint8Array(9);const n=new DataView(r.buffer);n.setUint8(0,127);n.setBigUint64(1,BigInt(e))}if(n.data&&typeof n.data!=="string"){r[0]|=128}t.enqueue(r);t.enqueue(i)}))}})}let Ae;function De(n){return n.reduce(((n,t)=>n+t.length),0)}function je(n,t){if(n[0].length===t){return n.shift()}const i=new Uint8Array(t);let e=0;for(let r=0;r<t;r++){i[r]=n[0][e++];if(e===n[0].length){n.shift();e=0}}if(n.length&&e<n[0].length){n[0]=n[0].slice(e)}return i}function Pe(n,t){if(!Ae){Ae=new TextDecoder}const i=[];let e=0;let r=-1;let o=false;return new TransformStream({transform(s,u){i.push(s);while(true){if(e===0){if(De(i)<1){break}const n=je(i,1);o=(n[0]&128)===128;r=n[0]&127;if(r<126){e=3}else if(r===126){e=1}else{e=2}}else if(e===1){if(De(i)<2){break}const n=je(i,2);r=new DataView(n.buffer,n.byteOffset,n.length).getUint16(0);e=3}else if(e===2){if(De(i)<8){break}const n=je(i,8);const t=new DataView(n.buffer,n.byteOffset,n.length);const o=t.getUint32(0);if(o>Math.pow(2,53-32)-1){u.enqueue(fe);break}r=o*Math.pow(2,32)+t.getUint32(4);e=3}else{if(De(i)<r){break}const n=je(i,r);u.enqueue(Ie(o?n:Ae.decode(n),t));e=0}if(r===0||r>n){u.enqueue(fe);break}}}})}const Ce=4;function Re(n){if(n)return Fe(n)}function Fe(n){for(var t in Re.prototype){n[t]=Re.prototype[t]}return n}Re.prototype.on=Re.prototype.addEventListener=function(n,t){this._callbacks=this._callbacks||{};(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t);return this};Re.prototype.once=function(n,t){function i(){this.off(n,i);t.apply(this,arguments)}i.fn=t;this.on(n,i);return this};Re.prototype.off=Re.prototype.removeListener=Re.prototype.removeAllListeners=Re.prototype.removeEventListener=function(n,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var i=this._callbacks["$"+n];if(!i)return this;if(1==arguments.length){delete this._callbacks["$"+n];return this}var e;for(var r=0;r<i.length;r++){e=i[r];if(e===t||e.fn===t){i.splice(r,1);break}}if(i.length===0){delete this._callbacks["$"+n]}return this};Re.prototype.emit=function(n){this._callbacks=this._callbacks||{};var t=new Array(arguments.length-1),i=this._callbacks["$"+n];for(var e=1;e<arguments.length;e++){t[e-1]=arguments[e]}if(i){i=i.slice(0);for(var e=0,r=i.length;e<r;++e){i[e].apply(this,t)}}return this};Re.prototype.emitReserved=Re.prototype.emit;Re.prototype.listeners=function(n){this._callbacks=this._callbacks||{};return this._callbacks["$"+n]||[]};Re.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Le=(()=>{const n=typeof Promise==="function"&&typeof Promise.resolve==="function";if(n){return n=>Promise.resolve().then(n)}else{return(n,t)=>t(n,0)}})();const Be=(()=>{if(typeof self!=="undefined"){return self}else if(typeof window!=="undefined"){return window}else{return Function("return this")()}})();const Me="arraybuffer";function Ue(){}function Ve(n,...t){return t.reduce(((t,i)=>{if(n.hasOwnProperty(i)){t[i]=n[i]}return t}),{})}const qe=Be.setTimeout;const Ge=Be.clearTimeout;function $e(n,t){if(t.useNativeTimers){n.setTimeoutFn=qe.bind(Be);n.clearTimeoutFn=Ge.bind(Be)}else{n.setTimeoutFn=Be.setTimeout.bind(Be);n.clearTimeoutFn=Be.clearTimeout.bind(Be)}}const Qe=1.33;function Je(n){if(typeof n==="string"){return Ye(n)}return Math.ceil((n.byteLength||n.size)*Qe)}function Ye(n){let t=0,i=0;for(let e=0,r=n.length;e<r;e++){t=n.charCodeAt(e);if(t<128){i+=1}else if(t<2048){i+=2}else if(t<55296||t>=57344){i+=3}else{e++;i+=4}}return i}function Ke(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xe(n){let t="";for(let i in n){if(n.hasOwnProperty(i)){if(t.length)t+="&";t+=encodeURIComponent(i)+"="+encodeURIComponent(n[i])}}return t}function He(n){let t={};let i=n.split("&");for(let n=0,e=i.length;n<e;n++){let e=i[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}class We extends Error{constructor(n,t,i){super(n);this.description=t;this.context=i;this.type="TransportError"}}class ze extends Re{constructor(n){super();this.writable=false;$e(this,n);this.opts=n;this.query=n.query;this.socket=n.socket;this.supportsBinary=!n.forceBase64}onError(n,t,i){super.emitReserved("error",new We(n,t,i));return this}open(){this.readyState="opening";this.doOpen();return this}close(){if(this.readyState==="opening"||this.readyState==="open"){this.doClose();this.onClose()}return this}send(n){if(this.readyState==="open"){this.write(n)}}onOpen(){this.readyState="open";this.writable=true;super.emitReserved("open")}onData(n){const t=Ie(n,this.socket.binaryType);this.onPacket(t)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed";super.emitReserved("close",n)}pause(n){}createUri(n,t={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){if(this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)){return":"+this.opts.port}else{return""}}_query(n){const t=Xe(n);return t.length?"?"+t:""}}class Ze extends ze{constructor(){super(...arguments);this._polling=false}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const t=()=>{this.readyState="paused";n()};if(this._polling||!this.writable){let n=0;if(this._polling){n++;this.once("pollComplete",(function(){--n||t()}))}if(!this.writable){n++;this.once("drain",(function(){--n||t()}))}}else{t()}}_poll(){this._polling=true;this.doPoll();this.emitReserved("poll")}onData(n){const t=n=>{if("opening"===this.readyState&&n.type==="open"){this.onOpen()}if("close"===n.type){this.onClose({description:"transport closed by the server"});return false}this.onPacket(n)};xe(n,this.socket.binaryType).forEach(t);if("closed"!==this.readyState){this._polling=false;this.emitReserved("pollComplete");if("open"===this.readyState){this._poll()}}}doClose(){const n=()=>{this.write([{type:"close"}])};if("open"===this.readyState){n()}else{this.once("open",n)}}write(n){this.writable=false;Ne(n,(n=>{this.doWrite(n,(()=>{this.writable=true;this.emitReserved("drain")}))}))}uri(){const n=this.opts.secure?"https":"http";const t=this.query||{};if(false!==this.opts.timestampRequests){t[this.opts.timestampParam]=Ke()}if(!this.supportsBinary&&!t.sid){t.b64=1}return this.createUri(n,t)}}let nr=false;try{nr=typeof XMLHttpRequest!=="undefined"&&"withCredentials"in new XMLHttpRequest}catch(n){}const tr=nr;function ir(){}class er extends Ze{constructor(n){super(n);if(typeof location!=="undefined"){const t="https:"===location.protocol;let i=location.port;if(!i){i=t?"443":"80"}this.xd=typeof location!=="undefined"&&n.hostname!==location.hostname||i!==n.port}}doWrite(n,t){const i=this.request({method:"POST",data:n});i.on("success",t);i.on("error",((n,t)=>{this.onError("xhr post error",n,t)}))}doPoll(){const n=this.request();n.on("data",this.onData.bind(this));n.on("error",((n,t)=>{this.onError("xhr poll error",n,t)}));this.pollXhr=n}}class rr extends Re{constructor(n,t,i){super();this.createRequest=n;$e(this,i);this._opts=i;this._method=i.method||"GET";this._uri=t;this._data=undefined!==i.data?i.data:null;this._create()}_create(){var n;const t=Ve(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(t);try{i.open(this._method,this._uri,true);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(true);for(let n in this._opts.extraHeaders){if(this._opts.extraHeaders.hasOwnProperty(n)){i.setRequestHeader(n,this._opts.extraHeaders[n])}}}}catch(n){}if("POST"===this._method){try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}}try{i.setRequestHeader("Accept","*/*")}catch(n){}(n=this._opts.cookieJar)===null||n===void 0?void 0:n.addCookies(i);if("withCredentials"in i){i.withCredentials=this._opts.withCredentials}if(this._opts.requestTimeout){i.timeout=this._opts.requestTimeout}i.onreadystatechange=()=>{var n;if(i.readyState===3){(n=this._opts.cookieJar)===null||n===void 0?void 0:n.parseCookies(i.getResponseHeader("set-cookie"))}if(4!==i.readyState)return;if(200===i.status||1223===i.status){this._onLoad()}else{this.setTimeoutFn((()=>{this._onError(typeof i.status==="number"?i.status:0)}),0)}};i.send(this._data)}catch(n){this.setTimeoutFn((()=>{this._onError(n)}),0);return}if(typeof document!=="undefined"){this._index=rr.requestsCount++;rr.requests[this._index]=this}}_onError(n){this.emitReserved("error",n,this._xhr);this._cleanup(true)}_cleanup(n){if("undefined"===typeof this._xhr||null===this._xhr){return}this._xhr.onreadystatechange=ir;if(n){try{this._xhr.abort()}catch(n){}}if(typeof document!=="undefined"){delete rr.requests[this._index]}this._xhr=null}_onLoad(){const n=this._xhr.responseText;if(n!==null){this.emitReserved("data",n);this.emitReserved("success");this._cleanup()}}abort(){this._cleanup()}}rr.requestsCount=0;rr.requests={};if(typeof document!=="undefined"){if(typeof attachEvent==="function"){attachEvent("onunload",or)}else if(typeof addEventListener==="function"){const n="onpagehide"in Be?"pagehide":"unload";addEventListener(n,or,false)}}function or(){for(let n in rr.requests){if(rr.requests.hasOwnProperty(n)){rr.requests[n].abort()}}}const sr=function(){const n=ar({xdomain:false});return n&&n.responseType!==null}();class ur extends er{constructor(n){super(n);const t=n&&n.forceBase64;this.supportsBinary=sr&&!t}request(n={}){Object.assign(n,{xd:this.xd},this.opts);return new rr(ar,this.uri(),n)}}function ar(n){const t=n.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||tr)){return new XMLHttpRequest}}catch(n){}if(!t){try{return new(Be[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}}const cr=typeof navigator!=="undefined"&&typeof navigator.product==="string"&&navigator.product.toLowerCase()==="reactnative";class fr extends ze{get name(){return"websocket"}doOpen(){const n=this.uri();const t=this.opts.protocols;const i=cr?{}:Ve(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");if(this.opts.extraHeaders){i.headers=this.opts.extraHeaders}try{this.ws=this.createSocket(n,t,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType;this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{if(this.opts.autoUnref){this.ws._socket.unref()}this.onOpen()};this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n});this.ws.onmessage=n=>this.onData(n.data);this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=false;for(let t=0;t<n.length;t++){const i=n[t];const e=t===n.length-1;ve(i,this.supportsBinary,(n=>{try{this.doWrite(i,n)}catch(n){}if(e){Le((()=>{this.writable=true;this.emitReserved("drain")}),this.setTimeoutFn)}}))}}doClose(){if(typeof this.ws!=="undefined"){this.ws.onerror=()=>{};this.ws.close();this.ws=null}}uri(){const n=this.opts.secure?"wss":"ws";const t=this.query||{};if(this.opts.timestampRequests){t[this.opts.timestampParam]=Ke()}if(!this.supportsBinary){t.b64=1}return this.createUri(n,t)}}const hr=Be.WebSocket||Be.MozWebSocket;class lr extends fr{createSocket(n,t,i){return!cr?t?new hr(n,t):new hr(n):new hr(n,t,i)}doWrite(n,t){this.ws.send(t)}}class dr extends ze{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then((()=>{this.onClose()})).catch((n=>{this.onError("webtransport error",n)}));this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((n=>{const t=Pe(Number.MAX_SAFE_INTEGER,this.socket.binaryType);const i=n.readable.pipeThrough(t).getReader();const e=_e();e.readable.pipeTo(n.writable);this._writer=e.writable.getWriter();const r=()=>{i.read().then((({done:n,value:t})=>{if(n){return}this.onPacket(t);r()})).catch((n=>{}))};r();const o={type:"open"};if(this.query.sid){o.data=`{"sid":"${this.query.sid}"}`}this._writer.write(o).then((()=>this.onOpen()))}))}))}write(n){this.writable=false;for(let t=0;t<n.length;t++){const i=n[t];const e=t===n.length-1;this._writer.write(i).then((()=>{if(e){Le((()=>{this.writable=true;this.emitReserved("drain")}),this.setTimeoutFn)}}))}}doClose(){var n;(n=this._transport)===null||n===void 0?void 0:n.close()}}const vr={websocket:lr,webtransport:dr,polling:ur};const pr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;const yr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mr(n){if(n.length>8e3){throw"URI too long"}const t=n,i=n.indexOf("["),e=n.indexOf("]");if(i!=-1&&e!=-1){n=n.substring(0,i)+n.substring(i,e).replace(/:/g,";")+n.substring(e,n.length)}let r=pr.exec(n||""),o={},s=14;while(s--){o[yr[s]]=r[s]||""}if(i!=-1&&e!=-1){o.source=t;o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":");o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":");o.ipv6uri=true}o.pathNames=br(o,o["path"]);o.queryKey=wr(o,o["query"]);return o}function br(n,t){const i=/\/{2,9}/g,e=t.replace(i,"/").split("/");if(t.slice(0,1)=="/"||t.length===0){e.splice(0,1)}if(t.slice(-1)=="/"){e.splice(e.length-1,1)}return e}function wr(n,t){const i={};t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(n,t,e){if(t){i[t]=e}}));return i}const gr=typeof addEventListener==="function"&&typeof removeEventListener==="function";const Or=[];if(gr){addEventListener("offline",(()=>{Or.forEach((n=>n()))}),false)}class Er extends Re{constructor(n,t){super();this.binaryType=Me;this.writeBuffer=[];this._prevBufferLen=0;this._pingInterval=-1;this._pingTimeout=-1;this._maxPayload=-1;this._pingTimeoutTime=Infinity;if(n&&"object"===typeof n){t=n;n=null}if(n){const i=mr(n);t.hostname=i.host;t.secure=i.protocol==="https"||i.protocol==="wss";t.port=i.port;if(i.query)t.query=i.query}else if(t.host){t.hostname=mr(t.host).host}$e(this,t);this.secure=null!=t.secure?t.secure:typeof location!=="undefined"&&"https:"===location.protocol;if(t.hostname&&!t.port){t.port=this.secure?"443":"80"}this.hostname=t.hostname||(typeof location!=="undefined"?location.hostname:"localhost");this.port=t.port||(typeof location!=="undefined"&&location.port?location.port:this.secure?"443":"80");this.transports=[];this._transportsByName={};t.transports.forEach((n=>{const t=n.prototype.name;this.transports.push(t);this._transportsByName[t]=n}));this.opts=Object.assign({path:"/engine.io",agent:false,withCredentials:false,upgrade:true,timestampParam:"t",rememberUpgrade:false,addTrailingSlash:true,rejectUnauthorized:true,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:false},t);this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":"");if(typeof this.opts.query==="string"){this.opts.query=He(this.opts.query)}if(gr){if(this.opts.closeOnBeforeunload){this._beforeunloadEventListener=()=>{if(this.transport){this.transport.removeAllListeners();this.transport.close()}};addEventListener("beforeunload",this._beforeunloadEventListener,false)}if(this.hostname!=="localhost"){this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})};Or.push(this._offlineEventListener)}}if(this.opts.withCredentials){this._cookieJar=Ue()}this._open()}createTransport(n){const t=Object.assign({},this.opts.query);t.EIO=Ce;t.transport=n;if(this.id)t.sid=this.id;const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](i)}_open(){if(this.transports.length===0){this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);return}const n=this.opts.rememberUpgrade&&Er.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(n);t.open();this.setTransport(t)}setTransport(n){if(this.transport){this.transport.removeAllListeners()}this.transport=n;n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(n=>this._onClose("transport close",n)))}onOpen(){this.readyState="open";Er.priorWebsocketSuccess="websocket"===this.transport.name;this.emitReserved("open");this.flush()}_onPacket(n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){this.emitReserved("packet",n);this.emitReserved("heartbeat");switch(n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong");this.emitReserved("ping");this.emitReserved("pong");this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=n.data;this._onError(t);break;case"message":this.emitReserved("data",n.data);this.emitReserved("message",n.data);break}}}onHandshake(n){this.emitReserved("handshake",n);this.id=n.sid;this.transport.query.sid=n.sid;this._pingInterval=n.pingInterval;this._pingTimeout=n.pingTimeout;this._maxPayload=n.maxPayload;this.onOpen();if("closed"===this.readyState)return;this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n;this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),n);if(this.opts.autoUnref){this._pingTimeoutTimer.unref()}}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen);this._prevBufferLen=0;if(0===this.writeBuffer.length){this.emitReserved("drain")}else{this.flush()}}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n);this._prevBufferLen=n.length;this.emitReserved("flush")}}_getWritablePackets(){const n=this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1;if(!n){return this.writeBuffer}let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i){t+=Je(i)}if(n>0&&t>this._maxPayload){return this.writeBuffer.slice(0,n)}t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return true;const n=Date.now()>this._pingTimeoutTime;if(n){this._pingTimeoutTime=0;Le((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)}return n}write(n,t,i){this._sendPacket("message",n,t,i);return this}send(n,t,i){this._sendPacket("message",n,t,i);return this}_sendPacket(n,t,i,e){if("function"===typeof t){e=t;t=undefined}if("function"===typeof i){e=i;i=null}if("closing"===this.readyState||"closed"===this.readyState){return}i=i||{};i.compress=false!==i.compress;const r={type:n,data:t,options:i};this.emitReserved("packetCreate",r);this.writeBuffer.push(r);if(e)this.once("flush",e);this.flush()}close(){const n=()=>{this._onClose("forced close");this.transport.close()};const t=()=>{this.off("upgrade",t);this.off("upgradeError",t);n()};const i=()=>{this.once("upgrade",t);this.once("upgradeError",t)};if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";if(this.writeBuffer.length){this.once("drain",(()=>{if(this.upgrading){i()}else{n()}}))}else if(this.upgrading){i()}else{n()}}return this}_onError(n){Er.priorWebsocketSuccess=false;if(this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening"){this.transports.shift();return this._open()}this.emitReserved("error",n);this._onClose("transport error",n)}_onClose(n,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){this.clearTimeoutFn(this._pingTimeoutTimer);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();if(gr){if(this._beforeunloadEventListener){removeEventListener("beforeunload",this._beforeunloadEventListener,false)}if(this._offlineEventListener){const n=Or.indexOf(this._offlineEventListener);if(n!==-1){Or.splice(n,1)}}}this.readyState="closed";this.id=null;this.emitReserved("close",n,t);this.writeBuffer=[];this._prevBufferLen=0}}}Er.protocol=Ce;class Ir extends Er{constructor(){super(...arguments);this._upgrades=[]}onOpen(){super.onOpen();if("open"===this.readyState&&this.opts.upgrade){for(let n=0;n<this._upgrades.length;n++){this._probe(this._upgrades[n])}}}_probe(n){let t=this.createTransport(n);let i=false;Er.priorWebsocketSuccess=false;const e=()=>{if(i)return;t.send([{type:"ping",data:"probe"}]);t.once("packet",(n=>{if(i)return;if("pong"===n.type&&"probe"===n.data){this.upgrading=true;this.emitReserved("upgrading",t);if(!t)return;Er.priorWebsocketSuccess="websocket"===t.name;this.transport.pause((()=>{if(i)return;if("closed"===this.readyState)return;c();this.setTransport(t);t.send([{type:"upgrade"}]);this.emitReserved("upgrade",t);t=null;this.upgrading=false;this.flush()}))}else{const n=new Error("probe error");n.transport=t.name;this.emitReserved("upgradeError",n)}}))};function r(){if(i)return;i=true;c();t.close();t=null}const o=n=>{const i=new Error("probe error: "+n);i.transport=t.name;r();this.emitReserved("upgradeError",i)};function s(){o("transport closed")}function u(){o("socket closed")}function a(n){if(t&&n.name!==t.name){r()}}const c=()=>{t.removeListener("open",e);t.removeListener("error",o);t.removeListener("close",s);this.off("close",u);this.off("upgrading",a)};t.once("open",e);t.once("error",o);t.once("close",s);this.once("close",u);this.once("upgrading",a);if(this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"){this.setTimeoutFn((()=>{if(!i){t.open()}}),200)}else{t.open()}}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades);super.onHandshake(n)}_filterUpgrades(n){const t=[];for(let i=0;i<n.length;i++){if(~this.transports.indexOf(n[i]))t.push(n[i])}return t}}class kr extends Ir{constructor(n,t={}){const i=typeof n==="object"?n:t;if(!i.transports||i.transports&&typeof i.transports[0]==="string"){i.transports=(i.transports||["polling","websocket","webtransport"]).map((n=>vr[n])).filter((n=>!!n))}super(n,i)}}function Tr(n,t="",i){let e=n;i=i||typeof location!=="undefined"&&location;if(null==n)n=i.protocol+"//"+i.host;if(typeof n==="string"){if("/"===n.charAt(0)){if("/"===n.charAt(1)){n=i.protocol+n}else{n=i.host+n}}if(!/^(https?|wss?):\/\//.test(n)){if("undefined"!==typeof i){n=i.protocol+"//"+n}else{n="https://"+n}}e=mr(n)}if(!e.port){if(/^(http|ws)$/.test(e.protocol)){e.port="80"}else if(/^(http|ws)s$/.test(e.protocol)){e.port="443"}}e.path=e.path||"/";const r=e.host.indexOf(":")!==-1;const o=r?"["+e.host+"]":e.host;e.id=e.protocol+"://"+o+":"+e.port+t;e.href=e.protocol+"://"+o+(i&&i.port===e.port?"":":"+e.port);return e}const Sr=typeof ArrayBuffer==="function";const Nr=n=>typeof ArrayBuffer.isView==="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer;const xr=Object.prototype.toString;const _r=typeof Blob==="function"||typeof Blob!=="undefined"&&xr.call(Blob)==="[object BlobConstructor]";const Ar=typeof File==="function"||typeof File!=="undefined"&&xr.call(File)==="[object FileConstructor]";function Dr(n){return Sr&&(n instanceof ArrayBuffer||Nr(n))||_r&&n instanceof Blob||Ar&&n instanceof File}function jr(n,t){if(!n||typeof n!=="object"){return false}if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++){if(jr(n[t])){return true}}return false}if(Dr(n)){return true}if(n.toJSON&&typeof n.toJSON==="function"&&arguments.length===1){return jr(n.toJSON(),true)}for(const t in n){if(Object.prototype.hasOwnProperty.call(n,t)&&jr(n[t])){return true}}return false}function Pr(n){const t=[];const i=n.data;const e=n;e.data=Cr(i,t);e.attachments=t.length;return{packet:e,buffers:t}}function Cr(n,t){if(!n)return n;if(Dr(n)){const i={_placeholder:true,num:t.length};t.push(n);return i}else if(Array.isArray(n)){const i=new Array(n.length);for(let e=0;e<n.length;e++){i[e]=Cr(n[e],t)}return i}else if(typeof n==="object"&&!(n instanceof Date)){const i={};for(const e in n){if(Object.prototype.hasOwnProperty.call(n,e)){i[e]=Cr(n[e],t)}}return i}return n}function Rr(n,t){n.data=Fr(n.data,t);delete n.attachments;return n}function Fr(n,t){if(!n)return n;if(n&&n._placeholder===true){const i=typeof n.num==="number"&&n.num>=0&&n.num<t.length;if(i){return t[n.num]}else{throw new Error("illegal attachments")}}else if(Array.isArray(n)){for(let i=0;i<n.length;i++){n[i]=Fr(n[i],t)}}else if(typeof n==="object"){for(const i in n){if(Object.prototype.hasOwnProperty.call(n,i)){n[i]=Fr(n[i],t)}}}return n}const Lr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];const Br=5;var Mr;(function(n){n[n["CONNECT"]=0]="CONNECT";n[n["DISCONNECT"]=1]="DISCONNECT";n[n["EVENT"]=2]="EVENT";n[n["ACK"]=3]="ACK";n[n["CONNECT_ERROR"]=4]="CONNECT_ERROR";n[n["BINARY_EVENT"]=5]="BINARY_EVENT";n[n["BINARY_ACK"]=6]="BINARY_ACK"})(Mr||(Mr={}));class Ur{constructor(n){this.replacer=n}encode(n){if(n.type===Mr.EVENT||n.type===Mr.ACK){if(jr(n)){return this.encodeAsBinary({type:n.type===Mr.EVENT?Mr.BINARY_EVENT:Mr.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id})}}return[this.encodeAsString(n)]}encodeAsString(n){let t=""+n.type;if(n.type===Mr.BINARY_EVENT||n.type===Mr.BINARY_ACK){t+=n.attachments+"-"}if(n.nsp&&"/"!==n.nsp){t+=n.nsp+","}if(null!=n.id){t+=n.id}if(null!=n.data){t+=JSON.stringify(n.data,this.replacer)}return t}encodeAsBinary(n){const t=Pr(n);const i=this.encodeAsString(t.packet);const e=t.buffers;e.unshift(i);return e}}function Vr(n){return Object.prototype.toString.call(n)==="[object Object]"}class qr extends Re{constructor(n){super();this.reviver=n}add(n){let t;if(typeof n==="string"){if(this.reconstructor){throw new Error("got plaintext data when reconstructing a packet")}t=this.decodeString(n);const i=t.type===Mr.BINARY_EVENT;if(i||t.type===Mr.BINARY_ACK){t.type=i?Mr.EVENT:Mr.ACK;this.reconstructor=new Gr(t);if(t.attachments===0){super.emitReserved("decoded",t)}}else{super.emitReserved("decoded",t)}}else if(Dr(n)||n.base64){if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}else{t=this.reconstructor.takeBinaryData(n);if(t){this.reconstructor=null;super.emitReserved("decoded",t)}}}else{throw new Error("Unknown type: "+n)}}decodeString(n){let t=0;const i={type:Number(n.charAt(0))};if(Mr[i.type]===undefined){throw new Error("unknown packet type "+i.type)}if(i.type===Mr.BINARY_EVENT||i.type===Mr.BINARY_ACK){const e=t+1;while(n.charAt(++t)!=="-"&&t!=n.length){}const r=n.substring(e,t);if(r!=Number(r)||n.charAt(t)!=="-"){throw new Error("Illegal attachments")}i.attachments=Number(r)}if("/"===n.charAt(t+1)){const e=t+1;while(++t){const i=n.charAt(t);if(","===i)break;if(t===n.length)break}i.nsp=n.substring(e,t)}else{i.nsp="/"}const e=n.charAt(t+1);if(""!==e&&Number(e)==e){const e=t+1;while(++t){const i=n.charAt(t);if(null==i||Number(i)!=i){--t;break}if(t===n.length)break}i.id=Number(n.substring(e,t+1))}if(n.charAt(++t)){const e=this.tryParse(n.substr(t));if(qr.isPayloadValid(i.type,e)){i.data=e}else{throw new Error("invalid payload")}}return i}tryParse(n){try{return JSON.parse(n,this.reviver)}catch(n){return false}}static isPayloadValid(n,t){switch(n){case Mr.CONNECT:return Vr(t);case Mr.DISCONNECT:return t===undefined;case Mr.CONNECT_ERROR:return typeof t==="string"||Vr(t);case Mr.EVENT:case Mr.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]==="number"||typeof t[0]==="string"&&Lr.indexOf(t[0])===-1);case Mr.ACK:case Mr.BINARY_ACK:return Array.isArray(t)}}destroy(){if(this.reconstructor){this.reconstructor.finishedReconstruction();this.reconstructor=null}}}class Gr{constructor(n){this.packet=n;this.buffers=[];this.reconPack=n}takeBinaryData(n){this.buffers.push(n);if(this.buffers.length===this.reconPack.attachments){const n=Rr(this.reconPack,this.buffers);this.finishedReconstruction();return n}return null}finishedReconstruction(){this.reconPack=null;this.buffers=[]}}const $r=Object.freeze({__proto__:null,protocol:Br,get PacketType(){return Mr},Encoder:Ur,Decoder:qr});function Qr(n,t,i){n.on(t,i);return function e(){n.off(t,i)}}const Jr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yr extends Re{constructor(n,t,i){super();this.connected=false;this.recovered=false;this.receiveBuffer=[];this.sendBuffer=[];this._queue=[];this._queueSeq=0;this.ids=0;this.acks={};this.flags={};this.io=n;this.nsp=t;if(i&&i.auth){this.auth=i.auth}this._opts=Object.assign({},i);if(this.io._autoConnect)this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Qr(n,"open",this.onopen.bind(this)),Qr(n,"packet",this.onpacket.bind(this)),Qr(n,"error",this.onerror.bind(this)),Qr(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){if(this.connected)return this;this.subEvents();if(!this.io["_reconnecting"])this.io.open();if("open"===this.io._readyState)this.onopen();return this}open(){return this.connect()}send(...n){n.unshift("message");this.emit.apply(this,n);return this}emit(n,...t){var i,e,r;if(Jr.hasOwnProperty(n)){throw new Error('"'+n.toString()+'" is a reserved event name')}t.unshift(n);if(this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile){this._addToQueue(t);return this}const o={type:Mr.EVENT,data:t};o.options={};o.options.compress=this.flags.compress!==false;if("function"===typeof t[t.length-1]){const n=this.ids++;const i=t.pop();this._registerAckCallback(n,i);o.id=n}const s=(e=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||e===void 0?void 0:e.writable;const u=this.connected&&!((r=this.io.engine)===null||r===void 0?void 0:r._hasPingExpired());const a=this.flags.volatile&&!s;if(a);else if(u){this.notifyOutgoingListeners(o);this.packet(o)}else{this.sendBuffer.push(o)}this.flags={};return this}_registerAckCallback(n,t){var i;const e=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(e===undefined){this.acks[n]=t;return}const r=this.io.setTimeoutFn((()=>{delete this.acks[n];for(let t=0;t<this.sendBuffer.length;t++){if(this.sendBuffer[t].id===n){this.sendBuffer.splice(t,1)}}t.call(this,new Error("operation has timed out"))}),e);const o=(...n)=>{this.io.clearTimeoutFn(r);t.apply(this,n)};o.withError=true;this.acks[n]=o}emitWithAck(n,...t){return new Promise(((i,e)=>{const r=(n,t)=>n?e(n):i(t);r.withError=true;t.push(r);this.emit(n,...t)}))}_addToQueue(n){let t;if(typeof n[n.length-1]==="function"){t=n.pop()}const i={id:this._queueSeq++,tryCount:0,pending:false,args:n,flags:Object.assign({fromQueue:true},this.flags)};n.push(((n,...e)=>{if(i!==this._queue[0]){return}const r=n!==null;if(r){if(i.tryCount>this._opts.retries){this._queue.shift();if(t){t(n)}}}else{this._queue.shift();if(t){t(null,...e)}}i.pending=false;return this._drainQueue()}));this._queue.push(i);this._drainQueue()}_drainQueue(n=false){if(!this.connected||this._queue.length===0){return}const t=this._queue[0];if(t.pending&&!n){return}t.pending=true;t.tryCount++;this.flags=t.flags;this.emit.apply(this,t.args)}packet(n){n.nsp=this.nsp;this.io._packet(n)}onopen(){if(typeof this.auth=="function"){this.auth((n=>{this._sendConnectPacket(n)}))}else{this._sendConnectPacket(this.auth)}}_sendConnectPacket(n){this.packet({type:Mr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){if(!this.connected){this.emitReserved("connect_error",n)}}onclose(n,t){this.connected=false;delete this.id;this.emitReserved("disconnect",n,t);this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((n=>{const t=this.sendBuffer.some((t=>String(t.id)===n));if(!t){const t=this.acks[n];delete this.acks[n];if(t.withError){t.call(this,new Error("socket has been disconnected"))}}}))}onpacket(n){const t=n.nsp===this.nsp;if(!t)return;switch(n.type){case Mr.CONNECT:if(n.data&&n.data.sid){this.onconnect(n.data.sid,n.data.pid)}else{this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"))}break;case Mr.EVENT:case Mr.BINARY_EVENT:this.onevent(n);break;case Mr.ACK:case Mr.BINARY_ACK:this.onack(n);break;case Mr.DISCONNECT:this.ondisconnect();break;case Mr.CONNECT_ERROR:this.destroy();const t=new Error(n.data.message);t.data=n.data.data;this.emitReserved("connect_error",t);break}}onevent(n){const t=n.data||[];if(null!=n.id){t.push(this.ack(n.id))}if(this.connected){this.emitEvent(t)}else{this.receiveBuffer.push(Object.freeze(t))}}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t){i.apply(this,n)}}super.emit.apply(this,n);if(this._pid&&n.length&&typeof n[n.length-1]==="string"){this._lastOffset=n[n.length-1]}}ack(n){const t=this;let i=false;return function(...e){if(i)return;i=true;t.packet({type:Mr.ACK,id:n,data:e})}}onack(n){const t=this.acks[n.id];if(typeof t!=="function"){return}delete this.acks[n.id];if(t.withError){n.data.unshift(null)}t.apply(this,n.data)}onconnect(n,t){this.id=n;this.recovered=t&&this._pid===t;this._pid=t;this.connected=true;this.emitBuffered();this.emitReserved("connect");this._drainQueue(true)}emitBuffered(){this.receiveBuffer.forEach((n=>this.emitEvent(n)));this.receiveBuffer=[];this.sendBuffer.forEach((n=>{this.notifyOutgoingListeners(n);this.packet(n)}));this.sendBuffer=[]}ondisconnect(){this.destroy();this.onclose("io server disconnect")}destroy(){if(this.subs){this.subs.forEach((n=>n()));this.subs=undefined}this.io["_destroy"](this)}disconnect(){if(this.connected){this.packet({type:Mr.DISCONNECT})}this.destroy();if(this.connected){this.onclose("io client disconnect")}return this}close(){return this.disconnect()}compress(n){this.flags.compress=n;return this}get volatile(){this.flags.volatile=true;return this}timeout(n){this.flags.timeout=n;return this}onAny(n){this._anyListeners=this._anyListeners||[];this._anyListeners.push(n);return this}prependAny(n){this._anyListeners=this._anyListeners||[];this._anyListeners.unshift(n);return this}offAny(n){if(!this._anyListeners){return this}if(n){const t=this._anyListeners;for(let i=0;i<t.length;i++){if(n===t[i]){t.splice(i,1);return this}}}else{this._anyListeners=[]}return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){this._anyOutgoingListeners=this._anyOutgoingListeners||[];this._anyOutgoingListeners.push(n);return this}prependAnyOutgoing(n){this._anyOutgoingListeners=this._anyOutgoingListeners||[];this._anyOutgoingListeners.unshift(n);return this}offAnyOutgoing(n){if(!this._anyOutgoingListeners){return this}if(n){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++){if(n===t[i]){t.splice(i,1);return this}}}else{this._anyOutgoingListeners=[]}return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t){i.apply(this,n.data)}}}}function Kr(n){n=n||{};this.ms=n.min||100;this.max=n.max||1e4;this.factor=n.factor||2;this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0;this.attempts=0}Kr.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random();var i=Math.floor(t*this.jitter*n);n=(Math.floor(t*10)&1)==0?n-i:n+i}return Math.min(n,this.max)|0};Kr.prototype.reset=function(){this.attempts=0};Kr.prototype.setMin=function(n){this.ms=n};Kr.prototype.setMax=function(n){this.max=n};Kr.prototype.setJitter=function(n){this.jitter=n};class Xr extends Re{constructor(n,t){var i;super();this.nsps={};this.subs=[];if(n&&"object"===typeof n){t=n;n=undefined}t=t||{};t.path=t.path||"/socket.io";this.opts=t;$e(this,t);this.reconnection(t.reconnection!==false);this.reconnectionAttempts(t.reconnectionAttempts||Infinity);this.reconnectionDelay(t.reconnectionDelay||1e3);this.reconnectionDelayMax(t.reconnectionDelayMax||5e3);this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5);this.backoff=new Kr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==t.timeout?2e4:t.timeout);this._readyState="closed";this.uri=n;const e=t.parser||$r;this.encoder=new e.Encoder;this.decoder=new e.Decoder;this._autoConnect=t.autoConnect!==false;if(this._autoConnect)this.open()}reconnection(n){if(!arguments.length)return this._reconnection;this._reconnection=!!n;if(!n){this.skipReconnect=true}return this}reconnectionAttempts(n){if(n===undefined)return this._reconnectionAttempts;this._reconnectionAttempts=n;return this}reconnectionDelay(n){var t;if(n===undefined)return this._reconnectionDelay;this._reconnectionDelay=n;(t=this.backoff)===null||t===void 0?void 0:t.setMin(n);return this}randomizationFactor(n){var t;if(n===undefined)return this._randomizationFactor;this._randomizationFactor=n;(t=this.backoff)===null||t===void 0?void 0:t.setJitter(n);return this}reconnectionDelayMax(n){var t;if(n===undefined)return this._reconnectionDelayMax;this._reconnectionDelayMax=n;(t=this.backoff)===null||t===void 0?void 0:t.setMax(n);return this}timeout(n){if(!arguments.length)return this._timeout;this._timeout=n;return this}maybeReconnectOnOpen(){if(!this._reconnecting&&this._reconnection&&this.backoff.attempts===0){this.reconnect()}}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new kr(this.uri,this.opts);const t=this.engine;const i=this;this._readyState="opening";this.skipReconnect=false;const e=Qr(t,"open",(function(){i.onopen();n&&n()}));const r=t=>{this.cleanup();this._readyState="closed";this.emitReserved("error",t);if(n){n(t)}else{this.maybeReconnectOnOpen()}};const o=Qr(t,"error",r);if(false!==this._timeout){const n=this._timeout;const i=this.setTimeoutFn((()=>{e();r(new Error("timeout"));t.close()}),n);if(this.opts.autoUnref){i.unref()}this.subs.push((()=>{this.clearTimeoutFn(i)}))}this.subs.push(e);this.subs.push(o);return this}connect(n){return this.open(n)}onopen(){this.cleanup();this._readyState="open";this.emitReserved("open");const n=this.engine;this.subs.push(Qr(n,"ping",this.onping.bind(this)),Qr(n,"data",this.ondata.bind(this)),Qr(n,"error",this.onerror.bind(this)),Qr(n,"close",this.onclose.bind(this)),Qr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(n){this.onclose("parse error",n)}}ondecoded(n){Le((()=>{this.emitReserved("packet",n)}),this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,t){let i=this.nsps[n];if(!i){i=new Yr(this,n,t);this.nsps[n]=i}else if(this._autoConnect&&!i.active){i.connect()}return i}_destroy(n){const t=Object.keys(this.nsps);for(const n of t){const t=this.nsps[n];if(t.active){return}}this._close()}_packet(n){const t=this.encoder.encode(n);for(let i=0;i<t.length;i++){this.engine.write(t[i],n.options)}}cleanup(){this.subs.forEach((n=>n()));this.subs.length=0;this.decoder.destroy()}_close(){this.skipReconnect=true;this._reconnecting=false;this.onclose("forced close")}disconnect(){return this._close()}onclose(n,t){var i;this.cleanup();(i=this.engine)===null||i===void 0?void 0:i.close();this.backoff.reset();this._readyState="closed";this.emitReserved("close",n,t);if(this._reconnection&&!this.skipReconnect){this.reconnect()}}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts){this.backoff.reset();this.emitReserved("reconnect_failed");this._reconnecting=false}else{const t=this.backoff.duration();this._reconnecting=true;const i=this.setTimeoutFn((()=>{if(n.skipReconnect)return;this.emitReserved("reconnect_attempt",n.backoff.attempts);if(n.skipReconnect)return;n.open((t=>{if(t){n._reconnecting=false;n.reconnect();this.emitReserved("reconnect_error",t)}else{n.onreconnect()}}))}),t);if(this.opts.autoUnref){i.unref()}this.subs.push((()=>{this.clearTimeoutFn(i)}))}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=false;this.backoff.reset();this.emitReserved("reconnect",n)}}const Hr={};function Wr(n,t){if(typeof n==="object"){t=n;n=undefined}t=t||{};const i=Tr(n,t.path||"/socket.io");const e=i.source;const r=i.id;const o=i.path;const s=Hr[r]&&o in Hr[r]["nsps"];const u=t.forceNew||t["force new connection"]||false===t.multiplex||s;let a;if(u){a=new Xr(e,t)}else{if(!Hr[r]){Hr[r]=new Xr(e,t)}a=Hr[r]}if(i.query&&!t.query){t.query=i.queryKey}return a.socket(i.path,t)}Object.assign(Wr,{Manager:Xr,Socket:Yr,io:Wr,connect:Wr});export{Pi as B,Qi as L,Si as P};
//# sourceMappingURL=p-8fc5b0d2.js.map