var t=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var n={exports:{}};(function(t){(function(){function n(t,n,e){return t.call.apply(t.bind,arguments)}function e(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,i);return t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function i(t,r,o){i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:e;return i.apply(null,arguments)}var r=Date.now||function(){return+new Date};function o(t,n){this.a=t;this.o=n||t;this.c=this.o.document}var s=!!window.FontFace;function u(t,n,e,i){n=t.c.createElement(n);if(e)for(var r in e)e.hasOwnProperty(r)&&("style"==r?n.style.cssText=e[r]:n.setAttribute(r,e[r]));i&&n.appendChild(t.c.createTextNode(i));return n}function a(t,n,e){t=t.c.getElementsByTagName(n)[0];t||(t=document.documentElement);t.insertBefore(e,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,n,e){n=n||[];e=e||[];for(var i=t.className.split(/\s+/),r=0;r<n.length;r+=1){for(var o=!1,s=0;s<i.length;s+=1)if(n[r]===i[s]){o=!0;break}o||i.push(n[r])}n=[];for(r=0;r<i.length;r+=1){o=!1;for(s=0;s<e.length;s+=1)if(i[r]===e[s]){o=!0;break}o||n.push(i[r])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,n){for(var e=t.className.split(/\s+/),i=0,r=e.length;i<r;i++)if(e[i]==n)return!0;return!1}function h(t){return t.o.location.hostname||t.a.location.hostname}function d(t,n,e){function i(){f&&r&&o&&(f(c),f=null)}n=u(t,"link",{rel:"stylesheet",href:n,media:"all"});var r=!1,o=!0,c=null,f=e||null;s?(n.onload=function(){r=!0;i()},n.onerror=function(){r=!0;c=Error("Stylesheet failed to load");i()}):setTimeout((function(){r=!0;i()}),0);a(t,"head",n)}function v(t,n,e,i){var r=t.c.getElementsByTagName("head")[0];if(r){var o=u(t,"script",{src:n}),s=!1;o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,e&&e(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))};r.appendChild(o);setTimeout((function(){s||(s=!0,e&&e(Error("Script load timeout")))}),i||5e3);return o}return null}function p(){this.a=0;this.c=null}function y(t){t.a++;return function(){t.a--;b(t)}}function m(t,n){t.c=n;b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}w.prototype.c=function(t){for(var n=[],e=0;e<arguments.length;e++)n.push(arguments[e].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)};function g(t,n){this.c=t;this.f=4;this.a="n";var e=(n||"n4").match(/^([nio])([1-9])$/i);e&&(this.a=e[1],this.f=parseInt(e[2],10))}function O(t){return k(t)+" "+(t.f+"00")+" 300px "+E(t.c)}function E(t){var n=[];t=t.split(/,\s*/);for(var e=0;e<t.length;e++){var i=t[e].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?n.push("'"+i+"'"):n.push(i)}return n.join(",")}function I(t){return t.a+t.f}function k(t){var n="normal";"o"===t.a?n="oblique":"i"===t.a&&(n="italic");return n}function T(t){var n=4,e="n",i=null;t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(e=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?n=7:/[1-9]00/.test(i[1])&&(n=parseInt(i[1].substr(0,1),10))));return e+n}function S(t,n){this.c=t;this.f=t.o.document.documentElement;this.h=n;this.a=new w("-");this.j=!1!==n.events;this.g=!1!==n.classes}function N(t){t.g&&f(t.f,[t.a.c("wf","loading")]);j(t,"loading")}function x(t){if(t.g){var n=l(t.f,t.a.c("wf","active")),e=[],i=[t.a.c("wf","loading")];n||e.push(t.a.c("wf","inactive"));f(t.f,e,i)}j(t,"inactive")}function j(t,n,e){if(t.j&&t.h[n])if(e)t.h[n](e.c,I(e));else t.h[n]()}function _(){this.c={}}function A(t,n,e){var i=[],r;for(r in n)if(n.hasOwnProperty(r)){var o=t.c[r];o&&i.push(o(n[r],e))}return i}function D(t,n){this.c=t;this.f=n;this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function P(t){a(t.c,"body",t.a)}function C(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+E(t.c)+";"+("font-style:"+k(t)+";font-weight:"+(t.f+"00")+";")}function F(t,n,e,i,r,o){this.g=t;this.j=n;this.a=i;this.c=e;this.f=r||3e3;this.h=o||void 0}F.prototype.start=function(){var t=this.c.o.document,n=this,e=r(),i=new Promise((function(i,o){function s(){r()-e>=n.f?o():t.fonts.load(O(n.a),n.h).then((function(t){1<=t.length?i():setTimeout(s,25)}),(function(){o()}))}s()})),o=null,s=new Promise((function(t,e){o=setTimeout(e,n.f)}));Promise.race([s,i]).then((function(){o&&(clearTimeout(o),o=null);n.g(n.a)}),(function(){n.j(n.a)}))};function R(t,n,e,i,r,o,s){this.v=t;this.B=n;this.c=e;this.a=i;this.s=s||"BESbswy";this.f={};this.w=r||3e3;this.u=o||null;this.m=this.j=this.h=this.g=null;this.g=new D(this.c,this.s);this.h=new D(this.c,this.s);this.j=new D(this.c,this.s);this.m=new D(this.c,this.s);t=new g(this.a.c+",serif",I(this.a));t=C(t);this.g.a.style.cssText=t;t=new g(this.a.c+",sans-serif",I(this.a));t=C(t);this.h.a.style.cssText=t;t=new g("serif",I(this.a));t=C(t);this.j.a.style.cssText=t;t=new g("sans-serif",I(this.a));t=C(t);this.m.a.style.cssText=t;P(this.g);P(this.h);P(this.j);P(this.m)}var B={D:"serif",C:"sans-serif"},L=null;function U(){if(null===L){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);L=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return L}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.m.a.offsetWidth;this.A=r();V(this)};function M(t,n,e){for(var i in B)if(B.hasOwnProperty(i)&&n===t.f[B[i]]&&e===t.f[B[i]])return!0;return!1}function V(t){var n=t.g.a.offsetWidth,e=t.h.a.offsetWidth,i;(i=n===t.f.serif&&e===t.f["sans-serif"])||(i=U()&&M(t,n,e));i?r()-t.A>=t.w?U()&&M(t,n,e)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?G(t,t.v):G(t,t.B):q(t):G(t,t.v)}function q(t){setTimeout(i((function(){V(this)}),t),50)}function G(t,n){setTimeout(i((function(){c(this.g.a);c(this.h.a);c(this.j.a);c(this.m.a);n(this.a)}),t),0)}function $(t,n,e){this.c=t;this.a=n;this.f=0;this.m=this.j=!1;this.s=e}var Q=null;$.prototype.g=function(t){var n=this.a;n.g&&f(n.f,[n.a.c("wf",t.c,I(t).toString(),"active")],[n.a.c("wf",t.c,I(t).toString(),"loading"),n.a.c("wf",t.c,I(t).toString(),"inactive")]);j(n,"fontactive",t);this.m=!0;J(this)};$.prototype.h=function(t){var n=this.a;if(n.g){var e=l(n.f,n.a.c("wf",t.c,I(t).toString(),"active")),i=[],r=[n.a.c("wf",t.c,I(t).toString(),"loading")];e||i.push(n.a.c("wf",t.c,I(t).toString(),"inactive"));f(n.f,i,r)}j(n,"fontinactive",t);J(this)};function J(t){0==--t.f&&t.j&&(t.m?(t=t.a,t.g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),j(t,"active")):x(t.a))}function Y(t){this.j=t;this.a=new _;this.h=0;this.f=this.g=!0}Y.prototype.load=function(t){this.c=new o(this.j,t.context||this.j);this.g=!1!==t.events;this.f=!1!==t.classes;X(this,new S(this.c,t),t)};function K(t,n,e,r,o){var s=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=o||null,u=r||null||{};if(0===e.length&&s)x(n.a);else{n.f+=e.length;s&&(n.j=s);var a,c=[];for(a=0;a<e.length;a++){var l=e[a],h=u[l.c],d=n.a,v=l;d.g&&f(d.f,[d.a.c("wf",v.c,I(v).toString(),"loading")]);j(d,"fontloading",v);d=null;if(null===Q)if(window.FontFace){var v=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);Q=v?42<parseInt(v[1],10):p?!1:!0}else Q=!1;Q?d=new F(i(n.g,n),i(n.h,n),n.c,l,n.s,h):d=new R(i(n.g,n),i(n.h,n),n.c,l,n.s,t,h);c.push(d)}for(a=0;a<c.length;a++)c[a].start()}}),0)}function X(t,n,e){var i=[],r=e.timeout;N(n);var i=A(t.a,e,t.c),o=new $(t.c,n,r);t.h=i.length;n=0;for(e=i.length;n<e;n++)i[n].load((function(n,e,i){K(t,o,n,e,i)}))}function H(t,n){this.c=t;this.a=n}H.prototype.load=function(t){function n(){if(o["__mti_fntLst"+i]){var e=o["__mti_fntLst"+i](),r=[],s;if(e)for(var u=0;u<e.length;u++){var a=e[u].fontfamily;void 0!=e[u].fontStyle&&void 0!=e[u].fontWeight?(s=e[u].fontStyle+e[u].fontWeight,r.push(new g(a,s))):r.push(new g(a))}t(r)}else setTimeout((function(){n()}),50)}var e=this,i=e.a.projectId,r=e.a.version;if(i){var o=e.c.o;v(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(r?"?v="+r:""),(function(r){r?t([]):(o["__MonotypeConfiguration__"+i]=function(){return e.a},n())})).id="__MonotypeAPIScript__"+i}else t([])};function W(t,n){this.c=t;this.a=n}W.prototype.load=function(t){var n,e,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new p;n=0;for(e=i.length;n<e;n++)d(this.c,i[n],y(s));var u=[];n=0;for(e=r.length;n<e;n++)if(i=r[n].split(":"),i[1])for(var a=i[1].split(","),c=0;c<a.length;c+=1)u.push(new g(i[0],a[c]));else u.push(new g(i[0]));m(s,(function(){t(u,o)}))};function z(t,n){t?this.c=t:this.c=Z;this.a=[];this.f=[];this.g=n||""}var Z="https://fonts.googleapis.com/css";function tt(t,n){for(var e=n.length,i=0;i<e;i++){var r=n[i].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":");t.a.push(r.join(o))}}function nt(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,e=[],i=0;i<n;i++)e.push(t.a[i].replace(/ /g,"+"));n=t.c+"?family="+e.join("%7C");0<t.f.length&&(n+="&subset="+t.f.join(","));0<t.g.length&&(n+="&text="+encodeURIComponent(t.g));return n}function et(t){this.f=t;this.a=[];this.c={}}var it={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},rt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ot={i:"i",italic:"i",n:"n",normal:"n"},st=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ut(t){for(var n=t.f.length,e=0;e<n;e++){var i=t.f[e].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var s;var u=i[1];s=[];if(u)for(var u=u.split(","),a=u.length,c=0;c<a;c++){var f;f=u[c];if(f.match(/^[\w-]+$/)){var l=st.exec(f.toLowerCase());if(null==l)f="";else{f=l[2];f=null==f||""==f?"n":ot[f];l=l[1];if(null==l||""==l)l="4";else var h=rt[l],l=h?h:isNaN(l)?"4":l.substr(0,1);f=[f,l].join("")}}else f="";f&&s.push(f)}0<s.length&&(o=s);3==i.length&&(i=i[2],s=[],i=i?i.split(","):s,0<i.length&&(i=it[i[0]])&&(t.c[r]=i))}t.c[r]||(i=it[r])&&(t.c[r]=i);for(i=0;i<o.length;i+=1)t.a.push(new g(r,o[i]))}}function at(t,n){this.c=t;this.a=n}var ct={Arimo:!0,Cousine:!0,Tinos:!0};at.prototype.load=function(t){var n=new p,e=this.c,i=new z(this.a.api,this.a.text),r=this.a.families;tt(i,r);var o=new et(r);ut(o);d(e,nt(i),y(n));m(n,(function(){t(o.a,o.c,ct)}))};function ft(t,n){this.c=t;this.a=n}ft.prototype.load=function(t){var n=this.a.id,e=this.c.o;n?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",(function(n){if(n)t([]);else if(e.Typekit&&e.Typekit.config&&e.Typekit.config.fn){n=e.Typekit.config.fn;for(var i=[],r=0;r<n.length;r+=2)for(var o=n[r],s=n[r+1],u=0;u<s.length;u++)i.push(new g(o,s[u]));try{e.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}}),2e3):t([])};function lt(t,n){this.c=t;this.f=n;this.a=[]}lt.prototype.load=function(t){var n=this.f.id,e=this.c.o,i=this;n?(e.__webfontfontdeckmodule__||(e.__webfontfontdeckmodule__={}),e.__webfontfontdeckmodule__[n]=function(n,e){for(var r=0,o=e.fonts.length;r<o;++r){var s=e.fonts[r];i.a.push(new g(s.name,T("font-weight:"+s.weight+";font-style:"+s.style)))}t(i.a)},v(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+h(this.c)+"/"+n+".js",(function(n){n&&t([])}))):t([])};var ht=new Y(window);ht.a.c.custom=function(t,n){return new W(n,t)};ht.a.c.fontdeck=function(t,n){return new lt(n,t)};ht.a.c.monotype=function(t,n){return new H(n,t)};ht.a.c.typekit=function(t,n){return new ft(n,t)};ht.a.c.google=function(t,n){return new at(n,t)};var dt={load:i(ht.load,ht)};t.exports?t.exports=dt:(window.WebFont=dt,window.WebFontConfig&&ht.load(window.WebFontConfig))})()})(n);var e=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):undefined;const i=e;function r(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){r=function t(n){return typeof n}}else{r=function t(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n}}return r(t)}var o=10;var s=2;function u(t){return a(t,[])}function a(t,n){switch(r(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":if(t===null){return"null"}return c(t,n);default:return String(t)}}function c(t,n){if(n.indexOf(t)!==-1){return"[Circular]"}var e=[].concat(n,[t]);var i=h(t);if(i!==undefined){var r=i.call(t);if(r!==t){return typeof r==="string"?r:a(r,e)}}else if(Array.isArray(t)){return l(t,e)}return f(t,e)}function f(t,n){var e=Object.keys(t);if(e.length===0){return"{}"}if(n.length>s){return"["+d(t)+"]"}var i=e.map((function(e){var i=a(t[e],n);return e+": "+i}));return"{ "+i.join(", ")+" }"}function l(t,n){if(t.length===0){return"[]"}if(n.length>s){return"[Array]"}var e=Math.min(o,t.length);var i=t.length-e;var r=[];for(var u=0;u<e;++u){r.push(a(t[u],n))}if(i===1){r.push("... 1 more item")}else if(i>1){r.push("... ".concat(i," more items"))}return"["+r.join(", ")+"]"}function h(t){var n=t[String(i)];if(typeof n==="function"){return n}if(typeof t.inspect==="function"){return t.inspect}}function d(t){var n=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(n==="Object"&&typeof t.constructor==="function"){var e=t.constructor.name;if(typeof e==="string"&&e!==""){return e}}return n}function v(t,n){var e=Boolean(t);if(!e){throw new Error(n!=null?n:"Unexpected invariant triggered.")}}function p(t){var n=t.prototype.toJSON;typeof n==="function"||v(0);t.prototype.inspect=n;if(i){t.prototype[i]=n}}var y=function(){function t(t,n,e){this.start=t.start;this.end=n.end;this.startToken=t;this.endToken=n;this.source=e}var n=t.prototype;n.toJSON=function t(){return{start:this.start,end:this.end}};return t}();p(y);var m=function(){function t(t,n,e,i,r,o,s){this.kind=t;this.start=n;this.end=e;this.line=i;this.column=r;this.value=s;this.prev=o;this.next=null}var n=t.prototype;n.toJSON=function t(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}};return t}();p(m);function b(t){return t!=null&&typeof t.kind==="string"}var w={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var g=Object.freeze({});function O(t,n){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:w;var i=undefined;var r=Array.isArray(t);var o=[t];var s=-1;var a=[];var c=undefined;var f=undefined;var l=undefined;var h=[];var d=[];var v=t;do{s++;var p=s===o.length;var y=p&&a.length!==0;if(p){f=d.length===0?undefined:h[h.length-1];c=l;l=d.pop();if(y){if(r){c=c.slice()}else{var m={};for(var O=0,I=Object.keys(c);O<I.length;O++){var k=I[O];m[k]=c[k]}c=m}var T=0;for(var S=0;S<a.length;S++){var N=a[S][0];var x=a[S][1];if(r){N-=T}if(r&&x===null){c.splice(N,1);T++}else{c[N]=x}}}s=i.index;o=i.keys;a=i.edits;r=i.inArray;i=i.prev}else{f=l?r?s:o[s]:undefined;c=l?l[f]:v;if(c===null||c===undefined){continue}if(l){h.push(f)}}var j=void 0;if(!Array.isArray(c)){if(!b(c)){throw new Error("Invalid AST Node: ".concat(u(c),"."))}var _=E(n,c.kind,p);if(_){j=_.call(n,c,f,l,h,d);if(j===g){break}if(j===false){if(!p){h.pop();continue}}else if(j!==undefined){a.push([f,j]);if(!p){if(b(j)){c=j}else{h.pop();continue}}}}}if(j===undefined&&y){a.push([f,c])}if(p){h.pop()}else{var A;i={inArray:r,index:s,keys:o,edits:a,prev:i};r=Array.isArray(c);o=r?c:(A=e[c.kind])!==null&&A!==void 0?A:[];s=-1;a=[];if(l){d.push(l)}l=c}}while(i!==undefined);if(a.length!==0){v=a[a.length-1][1]}return v}function E(t,n,e){var i=t[n];if(i){if(!e&&typeof i==="function"){return i}var r=e?i.leave:i.enter;if(typeof r==="function"){return r}}else{var o=e?t.leave:t.enter;if(o){if(typeof o==="function"){return o}var s=o[n];if(typeof s==="function"){return s}}}}var I=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function k(t){var n=t.split(/\r\n|[\n\r]/g);var e=S(t);if(e!==0){for(var i=1;i<n.length;i++){n[i]=n[i].slice(e)}}var r=0;while(r<n.length&&T(n[r])){++r}var o=n.length;while(o>r&&T(n[o-1])){--o}return n.slice(r,o).join("\n")}function T(t){for(var n=0;n<t.length;++n){if(t[n]!==" "&&t[n]!=="\t"){return false}}return true}function S(t){var n;var e=true;var i=true;var r=0;var o=null;for(var s=0;s<t.length;++s){switch(t.charCodeAt(s)){case 13:if(t.charCodeAt(s+1)===10){++s}case 10:e=false;i=true;r=0;break;case 9:case 32:++r;break;default:if(i&&!e&&(o===null||r<o)){o=r}i=false}}return(n=o)!==null&&n!==void 0?n:0}function N(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=t.indexOf("\n")===-1;var r=t[0]===" "||t[0]==="\t";var o=t[t.length-1]==='"';var s=t[t.length-1]==="\\";var u=!i||o||s||e;var a="";if(u&&!(i&&r)){a+="\n"+n}a+=n?t.replace(/\n/g,"\n"+n):t;if(u){a+="\n"}return'"""'+a.replace(/"""/g,'\\"""')+'"""'}function x(t){return O(t,{leave:_})}var j=80;var _={Name:function t(n){return n.value},Variable:function t(n){return"$"+n.name},Document:function t(n){return D(n.definitions,"\n\n")+"\n"},OperationDefinition:function t(n){var e=n.operation;var i=n.name;var r=C("(",D(n.variableDefinitions,", "),")");var o=D(n.directives," ");var s=n.selectionSet;return!i&&!o&&!r&&e==="query"?s:D([e,D([i,r]),o,s]," ")},VariableDefinition:function t(n){var e=n.variable,i=n.type,r=n.defaultValue,o=n.directives;return e+": "+i+C(" = ",r)+C(" ",D(o," "))},SelectionSet:function t(n){var e=n.selections;return P(e)},Field:function t(n){var e=n.alias,i=n.name,r=n.arguments,o=n.directives,s=n.selectionSet;var u=C("",e,": ")+i;var a=u+C("(",D(r,", "),")");if(a.length>j){a=u+C("(\n",F(D(r,"\n")),"\n)")}return D([a,D(o," "),s]," ")},Argument:function t(n){var e=n.name,i=n.value;return e+": "+i},FragmentSpread:function t(n){var e=n.name,i=n.directives;return"..."+e+C(" ",D(i," "))},InlineFragment:function t(n){var e=n.typeCondition,i=n.directives,r=n.selectionSet;return D(["...",C("on ",e),D(i," "),r]," ")},FragmentDefinition:function t(n){var e=n.name,i=n.typeCondition,r=n.variableDefinitions,o=n.directives,s=n.selectionSet;return"fragment ".concat(e).concat(C("(",D(r,", "),")")," ")+"on ".concat(i," ").concat(C("",D(o," ")," "))+s},IntValue:function t(n){var e=n.value;return e},FloatValue:function t(n){var e=n.value;return e},StringValue:function t(n,e){var i=n.value,r=n.block;return r?N(i,e==="description"?"":"  "):JSON.stringify(i)},BooleanValue:function t(n){var e=n.value;return e?"true":"false"},NullValue:function t(){return"null"},EnumValue:function t(n){var e=n.value;return e},ListValue:function t(n){var e=n.values;return"["+D(e,", ")+"]"},ObjectValue:function t(n){var e=n.fields;return"{"+D(e,", ")+"}"},ObjectField:function t(n){var e=n.name,i=n.value;return e+": "+i},Directive:function t(n){var e=n.name,i=n.arguments;return"@"+e+C("(",D(i,", "),")")},NamedType:function t(n){var e=n.name;return e},ListType:function t(n){var e=n.type;return"["+e+"]"},NonNullType:function t(n){var e=n.type;return e+"!"},SchemaDefinition:A((function(t){var n=t.directives,e=t.operationTypes;return D(["schema",D(n," "),P(e)]," ")})),OperationTypeDefinition:function t(n){var e=n.operation,i=n.type;return e+": "+i},ScalarTypeDefinition:A((function(t){var n=t.name,e=t.directives;return D(["scalar",n,D(e," ")]," ")})),ObjectTypeDefinition:A((function(t){var n=t.name,e=t.interfaces,i=t.directives,r=t.fields;return D(["type",n,C("implements ",D(e," & ")),D(i," "),P(r)]," ")})),FieldDefinition:A((function(t){var n=t.name,e=t.arguments,i=t.type,r=t.directives;return n+(B(e)?C("(\n",F(D(e,"\n")),"\n)"):C("(",D(e,", "),")"))+": "+i+C(" ",D(r," "))})),InputValueDefinition:A((function(t){var n=t.name,e=t.type,i=t.defaultValue,r=t.directives;return D([n+": "+e,C("= ",i),D(r," ")]," ")})),InterfaceTypeDefinition:A((function(t){var n=t.name,e=t.interfaces,i=t.directives,r=t.fields;return D(["interface",n,C("implements ",D(e," & ")),D(i," "),P(r)]," ")})),UnionTypeDefinition:A((function(t){var n=t.name,e=t.directives,i=t.types;return D(["union",n,D(e," "),i&&i.length!==0?"= "+D(i," | "):""]," ")})),EnumTypeDefinition:A((function(t){var n=t.name,e=t.directives,i=t.values;return D(["enum",n,D(e," "),P(i)]," ")})),EnumValueDefinition:A((function(t){var n=t.name,e=t.directives;return D([n,D(e," ")]," ")})),InputObjectTypeDefinition:A((function(t){var n=t.name,e=t.directives,i=t.fields;return D(["input",n,D(e," "),P(i)]," ")})),DirectiveDefinition:A((function(t){var n=t.name,e=t.arguments,i=t.repeatable,r=t.locations;return"directive @"+n+(B(e)?C("(\n",F(D(e,"\n")),"\n)"):C("(",D(e,", "),")"))+(i?" repeatable":"")+" on "+D(r," | ")})),SchemaExtension:function t(n){var e=n.directives,i=n.operationTypes;return D(["extend schema",D(e," "),P(i)]," ")},ScalarTypeExtension:function t(n){var e=n.name,i=n.directives;return D(["extend scalar",e,D(i," ")]," ")},ObjectTypeExtension:function t(n){var e=n.name,i=n.interfaces,r=n.directives,o=n.fields;return D(["extend type",e,C("implements ",D(i," & ")),D(r," "),P(o)]," ")},InterfaceTypeExtension:function t(n){var e=n.name,i=n.interfaces,r=n.directives,o=n.fields;return D(["extend interface",e,C("implements ",D(i," & ")),D(r," "),P(o)]," ")},UnionTypeExtension:function t(n){var e=n.name,i=n.directives,r=n.types;return D(["extend union",e,D(i," "),r&&r.length!==0?"= "+D(r," | "):""]," ")},EnumTypeExtension:function t(n){var e=n.name,i=n.directives,r=n.values;return D(["extend enum",e,D(i," "),P(r)]," ")},InputObjectTypeExtension:function t(n){var e=n.name,i=n.directives,r=n.fields;return D(["extend input",e,D(i," "),P(r)]," ")}};function A(t){return function(n){return D([n.description,t(n)],"\n")}}function D(t){var n;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return(n=t===null||t===void 0?void 0:t.filter((function(t){return t})).join(e))!==null&&n!==void 0?n:""}function P(t){return C("{\n",F(D(t,"\n")),"\n}")}function C(t,n){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return n!=null&&n!==""?t+n+e:""}function F(t){return C("  ",t.replace(/\n/g,"\n  "))}function R(t){return t.indexOf("\n")!==-1}function B(t){return t!=null&&t.some(R)}function L(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){L=function t(n){return typeof n}}else{L=function t(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n}}return L(t)}function U(t){return L(t)=="object"&&t!==null}var M=typeof Symbol==="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function V(t,n){var e=/\r\n|[\n\r]/g;var i=1;var r=n+1;var o;while((o=e.exec(t.body))&&o.index<n){i+=1;r=n+1-(o.index+o[0].length)}return{line:i,column:r}}function q(t){return G(t.source,V(t.source,t.start))}function G(t,n){var e=t.locationOffset.column-1;var i=Q(e)+t.body;var r=n.line-1;var o=t.locationOffset.line-1;var s=n.line+o;var u=n.line===1?e:0;var a=n.column+u;var c="".concat(t.name,":").concat(s,":").concat(a,"\n");var f=i.split(/\r\n|[\n\r]/g);var l=f[r];if(l.length>120){var h=Math.floor(a/80);var d=a%80;var v=[];for(var p=0;p<l.length;p+=80){v.push(l.slice(p,p+80))}return c+$([["".concat(s),v[0]]].concat(v.slice(1,h+1).map((function(t){return["",t]})),[[" ",Q(d-1)+"^"],["",v[h+1]]]))}return c+$([["".concat(s-1),f[r-1]],["".concat(s),l],["",Q(a-1)+"^"],["".concat(s+1),f[r+1]]])}function $(t){var n=t.filter((function(t){var n=t[1];return n!==undefined}));var e=Math.max.apply(Math,n.map((function(t){var n=t[0];return n.length})));return n.map((function(t){var n=t[0],i=t[1];return J(e,n)+(i?" | "+i:" |")})).join("\n")}function Q(t){return Array(t+1).join(" ")}function J(t,n){return Q(t-n.length)+n}function Y(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){Y=function t(n){return typeof n}}else{Y=function t(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n}}return Y(t)}function K(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);if(n)i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}));e.push.apply(e,i)}return e}function X(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};if(n%2){K(Object(e),true).forEach((function(n){H(t,n,e[n])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}else{K(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}}return t}function H(t,n,e){if(n in t){Object.defineProperty(t,n,{value:e,enumerable:true,configurable:true,writable:true})}else{t[n]=e}return t}function W(t,n){if(!(t instanceof n)){throw new TypeError("Cannot call a class as a function")}}function z(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function Z(t,n,e){if(n)z(t.prototype,n);if(e)z(t,e);return t}function tt(t,n){if(typeof n!=="function"&&n!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:true,configurable:true}});if(n)at(t,n)}function nt(t){var n=st();return function e(){var i=ct(t),r;if(n){var o=ct(this).constructor;r=Reflect.construct(i,arguments,o)}else{r=i.apply(this,arguments)}return et(this,r)}}function et(t,n){if(n&&(Y(n)==="object"||typeof n==="function")){return n}return it(t)}function it(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function rt(t){var n=typeof Map==="function"?new Map:undefined;rt=function t(e){if(e===null||!ut(e))return e;if(typeof e!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof n!=="undefined"){if(n.has(e))return n.get(e);n.set(e,i)}function i(){return ot(e,arguments,ct(this).constructor)}i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:false,writable:true,configurable:true}});return at(i,e)};return rt(t)}function ot(t,n,e){if(st()){ot=Reflect.construct}else{ot=function t(n,e,i){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(n,r);var s=new o;if(i)at(s,i.prototype);return s}}return ot.apply(null,arguments)}function st(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(t){return false}}function ut(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function at(t,n){at=Object.setPrototypeOf||function t(n,e){n.__proto__=e;return n};return at(t,n)}function ct(t){ct=Object.setPrototypeOf?Object.getPrototypeOf:function t(n){return n.__proto__||Object.getPrototypeOf(n)};return ct(t)}var ft=function(t){tt(e,t);var n=nt(e);function e(t,i,r,o,s,u,a){var c,f,l;var h;W(this,e);h=n.call(this,t);h.name="GraphQLError";h.originalError=u!==null&&u!==void 0?u:undefined;h.nodes=lt(Array.isArray(i)?i:i?[i]:undefined);var d=[];for(var v=0,p=(y=h.nodes)!==null&&y!==void 0?y:[];v<p.length;v++){var y;var m=p[v];var b=m.loc;if(b!=null){d.push(b)}}d=lt(d);h.source=r!==null&&r!==void 0?r:(c=d)===null||c===void 0?void 0:c[0].source;h.positions=o!==null&&o!==void 0?o:(f=d)===null||f===void 0?void 0:f.map((function(t){return t.start}));h.locations=o&&r?o.map((function(t){return V(r,t)})):(l=d)===null||l===void 0?void 0:l.map((function(t){return V(t.source,t.start)}));h.path=s!==null&&s!==void 0?s:undefined;var w=u===null||u===void 0?void 0:u.extensions;if(a==null&&U(w)){h.extensions=X({},w)}else{h.extensions=a!==null&&a!==void 0?a:{}}Object.defineProperties(it(h),{message:{enumerable:true},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:false},nodes:{enumerable:false},source:{enumerable:false},positions:{enumerable:false},originalError:{enumerable:false}});if(u!==null&&u!==void 0&&u.stack){Object.defineProperty(it(h),"stack",{value:u.stack,writable:true,configurable:true});return et(h)}if(Error.captureStackTrace){Error.captureStackTrace(it(h),e)}else{Object.defineProperty(it(h),"stack",{value:Error().stack,writable:true,configurable:true})}return h}Z(e,[{key:"toString",value:function t(){return ht(this)}},{key:M,get:function t(){return"Object"}}]);return e}(rt(Error));function lt(t){return t===undefined||t.length===0?undefined:t}function ht(t){var n=t.message;if(t.nodes){for(var e=0,i=t.nodes;e<i.length;e++){var r=i[e];if(r.loc){n+="\n\n"+q(r.loc)}}}else if(t.source&&t.locations){for(var o=0,s=t.locations;o<s.length;o++){var u=s[o];n+="\n\n"+G(t.source,u)}}return n}function dt(t,n,e){return new ft("Syntax Error: ".concat(e),undefined,t,[n])}var vt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function pt(t,n){var e=Boolean(t);if(!e){throw new Error(n)}}const yt=function t(n,e){return n instanceof e};function mt(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function bt(t,n,e){if(n)mt(t.prototype,n);if(e)mt(t,e);return t}var wt=function(){function t(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"GraphQL request";var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{line:1,column:1};typeof t==="string"||pt(0,"Body must be a string. Received: ".concat(u(t),"."));this.body=t;this.name=n;this.locationOffset=e;this.locationOffset.line>0||pt(0,"line in locationOffset is 1-indexed and must be positive.");this.locationOffset.column>0||pt(0,"column in locationOffset is 1-indexed and must be positive.")}bt(t,[{key:M,get:function t(){return"Source"}}]);return t}();function gt(t){return yt(t,wt)}var Ot=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});var Et=function(){function t(t){var n=new m(vt.SOF,0,0,0,0,null);this.source=t;this.lastToken=n;this.token=n;this.line=1;this.lineStart=0}var n=t.prototype;n.advance=function t(){this.lastToken=this.token;var n=this.token=this.lookahead();return n};n.lookahead=function t(){var n=this.token;if(n.kind!==vt.EOF){do{var e;n=(e=n.next)!==null&&e!==void 0?e:n.next=Tt(this,n)}while(n.kind===vt.COMMENT)}return n};return t}();function It(t){return t===vt.BANG||t===vt.DOLLAR||t===vt.AMP||t===vt.PAREN_L||t===vt.PAREN_R||t===vt.SPREAD||t===vt.COLON||t===vt.EQUALS||t===vt.AT||t===vt.BRACKET_L||t===vt.BRACKET_R||t===vt.BRACE_L||t===vt.PIPE||t===vt.BRACE_R}function kt(t){return isNaN(t)?vt.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function Tt(t,n){var e=t.source;var i=e.body;var r=i.length;var o=n.end;while(o<r){var s=i.charCodeAt(o);var u=t.line;var a=1+o-t.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o;++t.line;t.lineStart=o;continue;case 13:if(i.charCodeAt(o+1)===10){o+=2}else{++o}++t.line;t.lineStart=o;continue;case 33:return new m(vt.BANG,o,o+1,u,a,n);case 35:return Nt(e,o,u,a,n);case 36:return new m(vt.DOLLAR,o,o+1,u,a,n);case 38:return new m(vt.AMP,o,o+1,u,a,n);case 40:return new m(vt.PAREN_L,o,o+1,u,a,n);case 41:return new m(vt.PAREN_R,o,o+1,u,a,n);case 46:if(i.charCodeAt(o+1)===46&&i.charCodeAt(o+2)===46){return new m(vt.SPREAD,o,o+3,u,a,n)}break;case 58:return new m(vt.COLON,o,o+1,u,a,n);case 61:return new m(vt.EQUALS,o,o+1,u,a,n);case 64:return new m(vt.AT,o,o+1,u,a,n);case 91:return new m(vt.BRACKET_L,o,o+1,u,a,n);case 93:return new m(vt.BRACKET_R,o,o+1,u,a,n);case 123:return new m(vt.BRACE_L,o,o+1,u,a,n);case 124:return new m(vt.PIPE,o,o+1,u,a,n);case 125:return new m(vt.BRACE_R,o,o+1,u,a,n);case 34:if(i.charCodeAt(o+1)===34&&i.charCodeAt(o+2)===34){return At(e,o,u,a,n,t)}return _t(e,o,u,a,n);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return xt(e,o,s,u,a,n);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ct(e,o,u,a,n)}throw dt(e,o,St(s))}var c=t.line;var f=1+o-t.lineStart;return new m(vt.EOF,r,r,c,f,n)}function St(t){if(t<32&&t!==9&&t!==10&&t!==13){return"Cannot contain the invalid character ".concat(kt(t),".")}if(t===39){return"Unexpected single quote character ('), did you mean to use a double quote (\")?"}return"Cannot parse the unexpected character ".concat(kt(t),".")}function Nt(t,n,e,i,r){var o=t.body;var s;var u=n;do{s=o.charCodeAt(++u)}while(!isNaN(s)&&(s>31||s===9));return new m(vt.COMMENT,n,u,e,i,r,o.slice(n+1,u))}function xt(t,n,e,i,r,o){var s=t.body;var u=e;var a=n;var c=false;if(u===45){u=s.charCodeAt(++a)}if(u===48){u=s.charCodeAt(++a);if(u>=48&&u<=57){throw dt(t,a,"Invalid number, unexpected digit after 0: ".concat(kt(u),"."))}}else{a=jt(t,a,u);u=s.charCodeAt(a)}if(u===46){c=true;u=s.charCodeAt(++a);a=jt(t,a,u);u=s.charCodeAt(a)}if(u===69||u===101){c=true;u=s.charCodeAt(++a);if(u===43||u===45){u=s.charCodeAt(++a)}a=jt(t,a,u);u=s.charCodeAt(a)}if(u===46||Ft(u)){throw dt(t,a,"Invalid number, expected digit but got: ".concat(kt(u),"."))}return new m(c?vt.FLOAT:vt.INT,n,a,i,r,o,s.slice(n,a))}function jt(t,n,e){var i=t.body;var r=n;var o=e;if(o>=48&&o<=57){do{o=i.charCodeAt(++r)}while(o>=48&&o<=57);return r}throw dt(t,r,"Invalid number, expected digit but got: ".concat(kt(o),"."))}function _t(t,n,e,i,r){var o=t.body;var s=n+1;var u=s;var a=0;var c="";while(s<o.length&&!isNaN(a=o.charCodeAt(s))&&a!==10&&a!==13){if(a===34){c+=o.slice(u,s);return new m(vt.STRING,n,s+1,e,i,r,c)}if(a<32&&a!==9){throw dt(t,s,"Invalid character within String: ".concat(kt(a),"."))}++s;if(a===92){c+=o.slice(u,s-1);a=o.charCodeAt(s);switch(a){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:{var f=Dt(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(f<0){var l=o.slice(s+1,s+5);throw dt(t,s,"Invalid character escape sequence: \\u".concat(l,"."))}c+=String.fromCharCode(f);s+=4;break}default:throw dt(t,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(a),"."))}++s;u=s}}throw dt(t,s,"Unterminated string.")}function At(t,n,e,i,r,o){var s=t.body;var u=n+3;var a=u;var c=0;var f="";while(u<s.length&&!isNaN(c=s.charCodeAt(u))){if(c===34&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34){f+=s.slice(a,u);return new m(vt.BLOCK_STRING,n,u+3,e,i,r,k(f))}if(c<32&&c!==9&&c!==10&&c!==13){throw dt(t,u,"Invalid character within String: ".concat(kt(c),"."))}if(c===10){++u;++o.line;o.lineStart=u}else if(c===13){if(s.charCodeAt(u+1)===10){u+=2}else{++u}++o.line;o.lineStart=u}else if(c===92&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34&&s.charCodeAt(u+3)===34){f+=s.slice(a,u)+'"""';u+=4;a=u}else{++u}}throw dt(t,u,"Unterminated string.")}function Dt(t,n,e,i){return Pt(t)<<12|Pt(n)<<8|Pt(e)<<4|Pt(i)}function Pt(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Ct(t,n,e,i,r){var o=t.body;var s=o.length;var u=n+1;var a=0;while(u!==s&&!isNaN(a=o.charCodeAt(u))&&(a===95||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122)){++u}return new m(vt.NAME,n,u,e,i,r,o.slice(n,u))}function Ft(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function Rt(t,n){var e=new Bt(t,n);return e.parseDocument()}var Bt=function(){function t(t,n){var e=gt(t)?t:new wt(t);this._lexer=new Et(e);this._options=n}var n=t.prototype;n.parseName=function t(){var n=this.expectToken(vt.NAME);return{kind:I.NAME,value:n.value,loc:this.loc(n)}};n.parseDocument=function t(){var n=this._lexer.token;return{kind:I.DOCUMENT,definitions:this.many(vt.SOF,this.parseDefinition,vt.EOF),loc:this.loc(n)}};n.parseDefinition=function t(){if(this.peek(vt.NAME)){switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}}else if(this.peek(vt.BRACE_L)){return this.parseOperationDefinition()}else if(this.peekDescription()){return this.parseTypeSystemDefinition()}throw this.unexpected()};n.parseOperationDefinition=function t(){var n=this._lexer.token;if(this.peek(vt.BRACE_L)){return{kind:I.OPERATION_DEFINITION,operation:"query",name:undefined,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)}}var e=this.parseOperationType();var i;if(this.peek(vt.NAME)){i=this.parseName()}return{kind:I.OPERATION_DEFINITION,operation:e,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}};n.parseOperationType=function t(){var n=this.expectToken(vt.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)};n.parseVariableDefinitions=function t(){return this.optionalMany(vt.PAREN_L,this.parseVariableDefinition,vt.PAREN_R)};n.parseVariableDefinition=function t(){var n=this._lexer.token;return{kind:I.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(vt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(vt.EQUALS)?this.parseValueLiteral(true):undefined,directives:this.parseDirectives(true),loc:this.loc(n)}};n.parseVariable=function t(){var n=this._lexer.token;this.expectToken(vt.DOLLAR);return{kind:I.VARIABLE,name:this.parseName(),loc:this.loc(n)}};n.parseSelectionSet=function t(){var n=this._lexer.token;return{kind:I.SELECTION_SET,selections:this.many(vt.BRACE_L,this.parseSelection,vt.BRACE_R),loc:this.loc(n)}};n.parseSelection=function t(){return this.peek(vt.SPREAD)?this.parseFragment():this.parseField()};n.parseField=function t(){var n=this._lexer.token;var e=this.parseName();var i;var r;if(this.expectOptionalToken(vt.COLON)){i=e;r=this.parseName()}else{r=e}return{kind:I.FIELD,alias:i,name:r,arguments:this.parseArguments(false),directives:this.parseDirectives(false),selectionSet:this.peek(vt.BRACE_L)?this.parseSelectionSet():undefined,loc:this.loc(n)}};n.parseArguments=function t(n){var e=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(vt.PAREN_L,e,vt.PAREN_R)};n.parseArgument=function t(){var n=this._lexer.token;var e=this.parseName();this.expectToken(vt.COLON);return{kind:I.ARGUMENT,name:e,value:this.parseValueLiteral(false),loc:this.loc(n)}};n.parseConstArgument=function t(){var n=this._lexer.token;return{kind:I.ARGUMENT,name:this.parseName(),value:(this.expectToken(vt.COLON),this.parseValueLiteral(true)),loc:this.loc(n)}};n.parseFragment=function t(){var n=this._lexer.token;this.expectToken(vt.SPREAD);var e=this.expectOptionalKeyword("on");if(!e&&this.peek(vt.NAME)){return{kind:I.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(false),loc:this.loc(n)}}return{kind:I.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():undefined,directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}};n.parseFragmentDefinition=function t(){var n;var e=this._lexer.token;this.expectKeyword("fragment");if(((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===true){return{kind:I.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}}return{kind:I.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(false),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}};n.parseFragmentName=function t(){if(this._lexer.token.value==="on"){throw this.unexpected()}return this.parseName()};n.parseValueLiteral=function t(n){var e=this._lexer.token;switch(e.kind){case vt.BRACKET_L:return this.parseList(n);case vt.BRACE_L:return this.parseObject(n);case vt.INT:this._lexer.advance();return{kind:I.INT,value:e.value,loc:this.loc(e)};case vt.FLOAT:this._lexer.advance();return{kind:I.FLOAT,value:e.value,loc:this.loc(e)};case vt.STRING:case vt.BLOCK_STRING:return this.parseStringLiteral();case vt.NAME:this._lexer.advance();switch(e.value){case"true":return{kind:I.BOOLEAN,value:true,loc:this.loc(e)};case"false":return{kind:I.BOOLEAN,value:false,loc:this.loc(e)};case"null":return{kind:I.NULL,loc:this.loc(e)};default:return{kind:I.ENUM,value:e.value,loc:this.loc(e)}}case vt.DOLLAR:if(!n){return this.parseVariable()}break}throw this.unexpected()};n.parseStringLiteral=function t(){var n=this._lexer.token;this._lexer.advance();return{kind:I.STRING,value:n.value,block:n.kind===vt.BLOCK_STRING,loc:this.loc(n)}};n.parseList=function t(n){var e=this;var i=this._lexer.token;var r=function t(){return e.parseValueLiteral(n)};return{kind:I.LIST,values:this.any(vt.BRACKET_L,r,vt.BRACKET_R),loc:this.loc(i)}};n.parseObject=function t(n){var e=this;var i=this._lexer.token;var r=function t(){return e.parseObjectField(n)};return{kind:I.OBJECT,fields:this.any(vt.BRACE_L,r,vt.BRACE_R),loc:this.loc(i)}};n.parseObjectField=function t(n){var e=this._lexer.token;var i=this.parseName();this.expectToken(vt.COLON);return{kind:I.OBJECT_FIELD,name:i,value:this.parseValueLiteral(n),loc:this.loc(e)}};n.parseDirectives=function t(n){var e=[];while(this.peek(vt.AT)){e.push(this.parseDirective(n))}return e};n.parseDirective=function t(n){var e=this._lexer.token;this.expectToken(vt.AT);return{kind:I.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(e)}};n.parseTypeReference=function t(){var n=this._lexer.token;var e;if(this.expectOptionalToken(vt.BRACKET_L)){e=this.parseTypeReference();this.expectToken(vt.BRACKET_R);e={kind:I.LIST_TYPE,type:e,loc:this.loc(n)}}else{e=this.parseNamedType()}if(this.expectOptionalToken(vt.BANG)){return{kind:I.NON_NULL_TYPE,type:e,loc:this.loc(n)}}return e};n.parseNamedType=function t(){var n=this._lexer.token;return{kind:I.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}};n.parseTypeSystemDefinition=function t(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===vt.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}}throw this.unexpected(n)};n.peekDescription=function t(){return this.peek(vt.STRING)||this.peek(vt.BLOCK_STRING)};n.parseDescription=function t(){if(this.peekDescription()){return this.parseStringLiteral()}};n.parseSchemaDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("schema");var i=this.parseDirectives(true);var r=this.many(vt.BRACE_L,this.parseOperationTypeDefinition,vt.BRACE_R);return{kind:I.SCHEMA_DEFINITION,description:e,directives:i,operationTypes:r,loc:this.loc(n)}};n.parseOperationTypeDefinition=function t(){var n=this._lexer.token;var e=this.parseOperationType();this.expectToken(vt.COLON);var i=this.parseNamedType();return{kind:I.OPERATION_TYPE_DEFINITION,operation:e,type:i,loc:this.loc(n)}};n.parseScalarTypeDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("scalar");var i=this.parseName();var r=this.parseDirectives(true);return{kind:I.SCALAR_TYPE_DEFINITION,description:e,name:i,directives:r,loc:this.loc(n)}};n.parseObjectTypeDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("type");var i=this.parseName();var r=this.parseImplementsInterfaces();var o=this.parseDirectives(true);var s=this.parseFieldsDefinition();return{kind:I.OBJECT_TYPE_DEFINITION,description:e,name:i,interfaces:r,directives:o,fields:s,loc:this.loc(n)}};n.parseImplementsInterfaces=function t(){var n;if(!this.expectOptionalKeyword("implements")){return[]}if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===true){var e=[];this.expectOptionalToken(vt.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(vt.AMP)||this.peek(vt.NAME));return e}return this.delimitedMany(vt.AMP,this.parseNamedType)};n.parseFieldsDefinition=function t(){var n;if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===true&&this.peek(vt.BRACE_L)&&this._lexer.lookahead().kind===vt.BRACE_R){this._lexer.advance();this._lexer.advance();return[]}return this.optionalMany(vt.BRACE_L,this.parseFieldDefinition,vt.BRACE_R)};n.parseFieldDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();var i=this.parseName();var r=this.parseArgumentDefs();this.expectToken(vt.COLON);var o=this.parseTypeReference();var s=this.parseDirectives(true);return{kind:I.FIELD_DEFINITION,description:e,name:i,arguments:r,type:o,directives:s,loc:this.loc(n)}};n.parseArgumentDefs=function t(){return this.optionalMany(vt.PAREN_L,this.parseInputValueDef,vt.PAREN_R)};n.parseInputValueDef=function t(){var n=this._lexer.token;var e=this.parseDescription();var i=this.parseName();this.expectToken(vt.COLON);var r=this.parseTypeReference();var o;if(this.expectOptionalToken(vt.EQUALS)){o=this.parseValueLiteral(true)}var s=this.parseDirectives(true);return{kind:I.INPUT_VALUE_DEFINITION,description:e,name:i,type:r,defaultValue:o,directives:s,loc:this.loc(n)}};n.parseInterfaceTypeDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("interface");var i=this.parseName();var r=this.parseImplementsInterfaces();var o=this.parseDirectives(true);var s=this.parseFieldsDefinition();return{kind:I.INTERFACE_TYPE_DEFINITION,description:e,name:i,interfaces:r,directives:o,fields:s,loc:this.loc(n)}};n.parseUnionTypeDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("union");var i=this.parseName();var r=this.parseDirectives(true);var o=this.parseUnionMemberTypes();return{kind:I.UNION_TYPE_DEFINITION,description:e,name:i,directives:r,types:o,loc:this.loc(n)}};n.parseUnionMemberTypes=function t(){return this.expectOptionalToken(vt.EQUALS)?this.delimitedMany(vt.PIPE,this.parseNamedType):[]};n.parseEnumTypeDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("enum");var i=this.parseName();var r=this.parseDirectives(true);var o=this.parseEnumValuesDefinition();return{kind:I.ENUM_TYPE_DEFINITION,description:e,name:i,directives:r,values:o,loc:this.loc(n)}};n.parseEnumValuesDefinition=function t(){return this.optionalMany(vt.BRACE_L,this.parseEnumValueDefinition,vt.BRACE_R)};n.parseEnumValueDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();var i=this.parseName();var r=this.parseDirectives(true);return{kind:I.ENUM_VALUE_DEFINITION,description:e,name:i,directives:r,loc:this.loc(n)}};n.parseInputObjectTypeDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("input");var i=this.parseName();var r=this.parseDirectives(true);var o=this.parseInputFieldsDefinition();return{kind:I.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:i,directives:r,fields:o,loc:this.loc(n)}};n.parseInputFieldsDefinition=function t(){return this.optionalMany(vt.BRACE_L,this.parseInputValueDef,vt.BRACE_R)};n.parseTypeSystemExtension=function t(){var n=this._lexer.lookahead();if(n.kind===vt.NAME){switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}}throw this.unexpected(n)};n.parseSchemaExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("schema");var e=this.parseDirectives(true);var i=this.optionalMany(vt.BRACE_L,this.parseOperationTypeDefinition,vt.BRACE_R);if(e.length===0&&i.length===0){throw this.unexpected()}return{kind:I.SCHEMA_EXTENSION,directives:e,operationTypes:i,loc:this.loc(n)}};n.parseScalarTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("scalar");var e=this.parseName();var i=this.parseDirectives(true);if(i.length===0){throw this.unexpected()}return{kind:I.SCALAR_TYPE_EXTENSION,name:e,directives:i,loc:this.loc(n)}};n.parseObjectTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("type");var e=this.parseName();var i=this.parseImplementsInterfaces();var r=this.parseDirectives(true);var o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0){throw this.unexpected()}return{kind:I.OBJECT_TYPE_EXTENSION,name:e,interfaces:i,directives:r,fields:o,loc:this.loc(n)}};n.parseInterfaceTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("interface");var e=this.parseName();var i=this.parseImplementsInterfaces();var r=this.parseDirectives(true);var o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0){throw this.unexpected()}return{kind:I.INTERFACE_TYPE_EXTENSION,name:e,interfaces:i,directives:r,fields:o,loc:this.loc(n)}};n.parseUnionTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("union");var e=this.parseName();var i=this.parseDirectives(true);var r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0){throw this.unexpected()}return{kind:I.UNION_TYPE_EXTENSION,name:e,directives:i,types:r,loc:this.loc(n)}};n.parseEnumTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("enum");var e=this.parseName();var i=this.parseDirectives(true);var r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0){throw this.unexpected()}return{kind:I.ENUM_TYPE_EXTENSION,name:e,directives:i,values:r,loc:this.loc(n)}};n.parseInputObjectTypeExtension=function t(){var n=this._lexer.token;this.expectKeyword("extend");this.expectKeyword("input");var e=this.parseName();var i=this.parseDirectives(true);var r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0){throw this.unexpected()}return{kind:I.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:i,fields:r,loc:this.loc(n)}};n.parseDirectiveDefinition=function t(){var n=this._lexer.token;var e=this.parseDescription();this.expectKeyword("directive");this.expectToken(vt.AT);var i=this.parseName();var r=this.parseArgumentDefs();var o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var s=this.parseDirectiveLocations();return{kind:I.DIRECTIVE_DEFINITION,description:e,name:i,arguments:r,repeatable:o,locations:s,loc:this.loc(n)}};n.parseDirectiveLocations=function t(){return this.delimitedMany(vt.PIPE,this.parseDirectiveLocation)};n.parseDirectiveLocation=function t(){var n=this._lexer.token;var e=this.parseName();if(Ot[e.value]!==undefined){return e}throw this.unexpected(n)};n.loc=function t(n){var e;if(((e=this._options)===null||e===void 0?void 0:e.noLocation)!==true){return new y(n,this._lexer.lastToken,this._lexer.source)}};n.peek=function t(n){return this._lexer.token.kind===n};n.expectToken=function t(n){var e=this._lexer.token;if(e.kind===n){this._lexer.advance();return e}throw dt(this._lexer.source,e.start,"Expected ".concat(Ut(n),", found ").concat(Lt(e),"."))};n.expectOptionalToken=function t(n){var e=this._lexer.token;if(e.kind===n){this._lexer.advance();return e}return undefined};n.expectKeyword=function t(n){var e=this._lexer.token;if(e.kind===vt.NAME&&e.value===n){this._lexer.advance()}else{throw dt(this._lexer.source,e.start,'Expected "'.concat(n,'", found ').concat(Lt(e),"."))}};n.expectOptionalKeyword=function t(n){var e=this._lexer.token;if(e.kind===vt.NAME&&e.value===n){this._lexer.advance();return true}return false};n.unexpected=function t(n){var e=n!==null&&n!==void 0?n:this._lexer.token;return dt(this._lexer.source,e.start,"Unexpected ".concat(Lt(e),"."))};n.any=function t(n,e,i){this.expectToken(n);var r=[];while(!this.expectOptionalToken(i)){r.push(e.call(this))}return r};n.optionalMany=function t(n,e,i){if(this.expectOptionalToken(n)){var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(i));return r}return[]};n.many=function t(n,e,i){this.expectToken(n);var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(i));return r};n.delimitedMany=function t(n,e){this.expectOptionalToken(n);var i=[];do{i.push(e.call(this))}while(this.expectOptionalToken(n));return i};return t}();function Lt(t){var n=t.value;return Ut(t.kind)+(n!=null?' "'.concat(n,'"'):"")}function Ut(t){return It(t)?'"'.concat(t,'"'):t}function Mt(t,n){n.tag=t;return n}function Vt(){}function qt(t){return function(n){var e=t.length;let i=!1,r=!1,o=!1,s=0;n(Mt(0,[function(u){if(u){i=!0}else if(r){o=!0}else{for(r=o=!0;o&&!i;){s<e?(u=t[s],s=s+1|0,o=!1,n(Mt(1,[u]))):(i=!0,n(0))}r=!1}}]))}}function Gt(){}function $t(t){t(0)}function Qt(t){return t(0)}function Jt(t){return function(n){return function(e){let i=Vt,r=!1,o=[],s=!1;n((function(n){"number"==typeof n?s||(s=!0,0===o.length&&e(0)):n.tag?s||(r=!1,function(t){function n(t){"number"==typeof t?0!==o.length&&(o=o.filter(u),t=0===o.length,s&&t?e(0):!r&&t&&(r=!0,i(0))):t.tag?0!==o.length&&(e(Mt(1,[t[0]])),a(0)):(a=t=t[0],o=o.concat(t),t(0))}function u(t){return t!==a}let a=Vt;1===t.length?t(n):t.bind(null,n)}(t(n[0])),r||(r=!0,i(0))):i=n[0]}));e(Mt(0,[function(t){t?(s||(s=!0,i(t)),o.forEach((function(n){return n(t)})),o=[]):(r||s?r=!1:(r=!0,i(0)),o.forEach(Qt))}]))}}}function Yt(t){return t}function Kt(t){return function(n){return function(e){let i=!1;return n((function(n){if("number"==typeof n){i||(i=!0,e(n))}else if(n.tag){i||(t(n[0]),e(n))}else{var r=n[0];e(Mt(0,[function(t){if(!i){return t&&(i=!0),r(t)}}]))}}))}}}function Xt(t){t(0)}function Ht(t){return function(n){return function(e){function i(t){u&&("number"==typeof t?(u=!1,c?e(t):o||(o=!0,r(0))):t.tag?(e(t),a?a=!1:s(0)):(s=t=t[0],a=!1,t(0)))}let r=Vt,o=!1,s=Vt,u=!1,a=!1,c=!1;n((function(n){"number"==typeof n?c||(c=!0,u||e(0)):n.tag?c||(u&&(s(1),s=Vt),o?o=!1:(o=!0,r(0)),n=t(n[0]),u=!0,n(i)):r=n[0]}));e(Mt(0,[function(t){if(t){if(c||(c=!0,r(1)),u){return u=!1,s(1)}}else{c||o||(o=!0,r(0)),u&&!a&&(a=!0,s(0))}}]))}}}function Wt(t){return function(n){let e=Vt,i=!1;n((function(n){"number"==typeof n?i=!0:n.tag?i||(t(n[0]),e(0)):(e=n=n[0],n(0))}));return{unsubscribe:function(){if(!i){return i=!0,e(1)}}}}}function zt(){}function Zt(t){return function(n){return function(e){let i=Vt;return n((function(n){"number"==typeof n?e(n):n.tag?t(n[0])?e(n):i(0):(i=n[0],e(n))}))}}}function tn(t){return function(n){let e=!1;n(Mt(0,[function(i){i?e=!0:e||(e=!0,n(Mt(1,[t])),n(0))}]))}}function nn(t){return function(n){let e=Gt,i=!1;e=t({next:function(t){i||n(Mt(1,[t]))},complete:function(){i||(i=!0,n(0))}});n(Mt(0,[function(t){if(t&&!i){return i=!0,e()}}]))}}function en(){let t=[],n=!1;return{source:function(n){function e(t){return t!==n}t=t.concat(n);n(Mt(0,[function(n){n&&(t=t.filter(e))}]))},next:function(e){n||t.forEach((function(t){t(Mt(1,[e]))}))},complete:function(){n||(n=!0,t.forEach($t))}}}function rn(t){return function(n){return function(e){return n((function(n){n="number"==typeof n?0:n.tag?Mt(1,[t(n[0])]):Mt(0,[n[0]]);e(n)}))}}}function on(t){return Jt(Yt)(qt(t))}function sn(t){return function(n){return function(e){let i=!1;return n((function(n){if("number"==typeof n){if(i){return}i=!0;e(n);return t()}if(n.tag){i||e(n)}else{var r=n[0];e(Mt(0,[function(n){if(!i){return n?(i=!0,r(n),t()):r(n)}}]))}}))}}}function un(t){return function(n){return function(e){return n((function(n){"number"==typeof n?e(n):n.tag?e(n):(e(n),t())}))}}}function an(t){return Wt(zt)(t)}function cn(t){function n(t){"number"==typeof t?(e.forEach(Xt),e=[]):t.tag?(r=!1,e.forEach((function(n){n(t)}))):i=t[0]}let e=[],i=Vt,r=!1;return function(o){function s(t){return t!==o}e=e.concat(o);1===e.length&&t(n);o(Mt(0,[function(t){if(t){if(e=e.filter(s),0===e.length){return i(1)}}else{r||(r=!0,i(t))}}]))}}function fn(t){return function(n){return function(e){let i=!1,r=0,o=Vt;n((function(n){"number"==typeof n?i||(i=!0,e(0)):n.tag?r<t&&!i&&(r=r+1|0,e(n),!i&&r>=t&&(i=!0,e(0),o(1))):(n=n[0],0>=t?(i=!0,e(0),n(1)):o=n)}));e(Mt(0,[function(n){if(!i){if(n){return i=!0,o(1)}if(r<t){return o(0)}}}]))}}}function ln(t){return function(n){return function(e){function i(t){"number"!=typeof t&&(t.tag?(r=!0,o(1),e(0)):(s=t=t[0],t(0)))}let r=!1,o=Vt,s=Vt;n((function(n){"number"==typeof n?r||(r=!0,s(1),e(0)):n.tag?r||e(n):(o=n[0],t(i))}));e(Mt(0,[function(t){if(!r){return t?(r=!0,o(1),s(1)):o(0)}}]))}}}"function"==typeof Symbol?Symbol.observable||(Symbol.observable=Symbol("observable")):"@@observable";function hn(t){if("string"==typeof t){return new ft(t)}else if("object"==typeof t&&t.message){return new ft(t.message,t.nodes,t.source,t.positions,t.path,t,t.extensions||{})}else{return t}}var dn=function(t){function n(n){var e=n.networkError;var i=n.response;var r=(n.graphQLErrors||[]).map(hn);var o=function t(n,e){var i="";if(void 0!==n){return i="[Network] "+n.message}if(void 0!==e){e.forEach((function(t){i+="[GraphQL] "+t.message+"\n"}))}return i.trim()}(e,r);t.call(this,o);this.name="CombinedError";this.message=o;this.graphQLErrors=r;this.networkError=e;this.response=i}if(t){n.__proto__=t}(n.prototype=Object.create(t&&t.prototype)).constructor=n;n.prototype.toString=function t(){return this.message};return n}(Error);function vn(t,n){t|=0;for(var e=0,i=0|n.length;e<i;e++){t=(t<<5)+t+n.charCodeAt(e)}return t}function pn(t){return vn(5381,t)>>>0}var yn=new Set;var mn=new WeakMap;function bn(t){if(null===t||yn.has(t)){return"null"}else if("object"!=typeof t){return JSON.stringify(t)||""}else if(t.toJSON){return bn(t.toJSON())}else if(Array.isArray(t)){var n="[";for(var e=0,i=t.length;e<i;e++){if(e>0){n+=","}var r=bn(t[e]);n+=r.length>0?r:"null"}return n+="]"}var o=Object.keys(t).sort();if(!o.length&&t.constructor&&t.constructor!==Object){var s=mn.get(t)||Math.random().toString(36).slice(2);mn.set(t,s);return'{"__key":"'+s+'"}'}yn.add(t);var u="{";for(var a=0,c=o.length;a<c;a++){var f=o[a];var l=bn(t[f]);if(l){if(u.length>1){u+=","}u+=bn(f)+":"+l}}yn.delete(t);return u+="}"}function wn(t){yn.clear();return bn(t)}var gn=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g;var On=/([\s,]|#[^\n\r]+)+/g;function En(t,n){return n%2==0?t.replace(On," ").trim():t}function In(t){var n=("string"!=typeof t?t.loc&&t.loc.source.body||x(t):t).split(gn).map(En).join("");if("string"!=typeof t){var e="definitions"in t&&Nn(t);if(e){n="# "+e+"\n"+n}if(!t.loc){t.loc={start:0,end:n.length,source:{body:n,name:"gql",locationOffset:{line:1,column:1}}}}}return n}var kn=new Map;function Tn(t){var n;var e;if("string"==typeof t){n=pn(In(t));e=kn.get(n)||Rt(t,{noLocation:!0})}else{n=t.__key||pn(In(t));e=kn.get(n)||t}if(!e.loc){In(e)}e.__key=n;kn.set(n,e);return e}function Sn(t,n){if(!n){n={}}var e=Tn(t);return{key:vn(e.__key,wn(n))>>>0,query:e,variables:n}}function Nn(t){for(var n=0,e=t.definitions.length;n<e;n++){var i=t.definitions[n];if(i.kind===I.OPERATION_DEFINITION&&i.name){return i.name.value}}}function xn(){xn=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t[i]=e[i]}}}return t};return xn.apply(this,arguments)}function jn(t,n,e){if(!("data"in n)&&!("errors"in n)||"path"in n){throw new Error("No Content")}return{operation:t,data:n.data,error:Array.isArray(n.errors)?new dn({graphQLErrors:n.errors,response:e}):void 0,extensions:"object"==typeof n.extensions&&n.extensions||void 0,hasNext:!!n.hasNext}}function _n(t,n,e){var i=xn({},t);i.hasNext=!!n.hasNext;if(!("path"in n)){if("data"in n){i.data=n.data}return i}if(Array.isArray(n.errors)){i.error=new dn({graphQLErrors:i.error?i.error.graphQLErrors.concat(n.errors):n.errors,response:e})}var r=i.data=xn({},i.data);var o=0;var s;while(o<n.path.length){r=r[s=n.path[o++]]=Array.isArray(r[s])?[].concat(r[s]):xn({},r[s])}xn(r,n.data);return i}function An(t,n,e){return{operation:t,data:void 0,error:new dn({networkError:n,response:e}),extensions:void 0}}function Dn(t){return"query"===t.kind&&!!t.context.preferGetMethod}function Pn(t){return{query:x(t.query),operationName:Nn(t.query),variables:t.variables||void 0,extensions:void 0}}function Cn(t,n){var e=Dn(t);var i=t.context.url;if(!e||!n){return i}var r=[];if(n.operationName){r.push("operationName="+encodeURIComponent(n.operationName))}if(n.query){r.push("query="+encodeURIComponent(n.query.replace(/#[^\n\r]+/g," ").trim()))}if(n.variables){r.push("variables="+encodeURIComponent(wn(n.variables)))}if(n.extensions){r.push("extensions="+encodeURIComponent(wn(n.extensions)))}var o=i+"?"+r.join("&");if(o.length>2047){t.context.preferGetMethod=!1;return i}return o}function Fn(t,n){var e=Dn(t);var i={accept:"application/graphql+json, application/json"};if(!e){i["content-type"]="application/json"}var r=("function"==typeof t.context.fetchOptions?t.context.fetchOptions():t.context.fetchOptions)||{};if(r.headers){for(var o in r.headers){i[o.toLowerCase()]=r.headers[o]}}return xn({},r,{body:!e&&n?JSON.stringify(n):void 0,method:e?"GET":"POST",headers:i})}var Rn="undefined"!=typeof Symbol?Symbol.asyncIterator:null;var Bn="undefined"!=typeof TextDecoder?new TextDecoder:null;var Ln=/content-type:[^\r\n]*application\/json/i;var Un=/boundary="?([^=";]+)"?/i;function Mn(t,n,e){var i="manual"===e.redirect?400:300;var r=t.context.fetch;return nn((function(o){var s=o.next;var u=o.complete;var a="undefined"!=typeof AbortController?new AbortController:null;if(a){e.signal=a.signal}var c=!1;function f(t,n,e){var i=e.headers&&e.headers.get("Content-Type")||"";if(/text\//i.test(i)){return e.text().then((function(i){t(An(n,new Error(i),e))}))}else if(!/multipart\/mixed/i.test(i)){return e.text().then((function(i){t(jn(n,JSON.parse(i),e))}))}var r="---";var o=i.match(Un);if(o){r="--"+o[1]}var s;var u=function(){};if(Rn&&e[Rn]){var a=e[Rn]();s=a.next.bind(a)}else if("body"in e&&e.body){var f=e.body.getReader();u=f.cancel.bind(f);s=f.read.bind(f)}else{throw new TypeError("Streaming requests unsupported")}var l="";var h=!0;var d=null;var v=null;return s().then((function i(o){if(!o.done){var u=function t(n){return"Buffer"===n.constructor.name?n.toString():Bn.decode(n)}(o.value);var a=u.indexOf(r);if(a>-1){a+=l.length}else{a=l.indexOf(r)}l+=u;while(a>-1){var f=l.slice(0,a);var p=l.slice(a+r.length);if(h){h=!1}else{var y=f.indexOf("\r\n\r\n")+4;var m=f.slice(0,y);var b=f.slice(y,f.lastIndexOf("\r\n"));var w=void 0;if(Ln.test(m)){try{w=JSON.parse(b);d=v=v?_n(v,w,e):jn(n,w,e)}catch(t){}}if("--"===p.slice(0,2)||w&&!w.hasNext){if(!v){return t(jn(n,{},e))}break}}a=(l=p).indexOf(r)}}else{c=!0}if(d){t(d);d=null}if(!o.done&&(!v||v.hasNext)){return s().then(i)}})).finally(u)}var l=!1;var h=!1;var d;Promise.resolve().then((function(){if(l){return}return(r||fetch)(n,e)})).then((function(n){if(!n){return}h=(d=n).status<200||d.status>=i;return f(s,t,d)})).then(u).catch((function(n){if(c){throw n}var e=An(t,h?d.statusText?new Error(d.statusText):n:n,d);s(e);u()}));return function(){l=!0;if(a){a.abort()}}}))}function Vn(t,n){if(Array.isArray(t)){for(var e=0;e<t.length;e++){Vn(t[e],n)}}else if("object"==typeof t&&null!==t){for(var i in t){if("__typename"===i&&"string"==typeof t[i]){n[t[i]]=0}else{Vn(t[i],n)}}}return n}function qn(t){return Object.keys(Vn(t,{}))}var Gn=function(t){if(t.selectionSet&&!t.selectionSet.selections.some((function(t){return t.kind===I.FIELD&&"__typename"===t.name.value&&!t.alias}))){return xn({},t,{selectionSet:xn({},t.selectionSet,{selections:t.selectionSet.selections.concat([{kind:I.FIELD,name:{kind:I.NAME,value:"__typename"}}])})})}};var $n=new Map;function Qn(t){var n=Tn(t);var e=$n.get(n.__key);if(!e){e=O(n,{Field:Gn,InlineFragment:Gn});Object.defineProperty(e,"__key",{value:n.__key,enumerable:!1});$n.set(n.__key,e)}return e}function Jn(t){if(!t||"object"!=typeof t){return t}return Object.keys(t).reduce((function(n,e){var i=t[e];if("__typename"===e){Object.defineProperty(n,"__typename",{enumerable:!1,value:i})}else if(Array.isArray(i)){n[e]=i.map(Jn)}else if(i&&"object"==typeof i&&"__typename"in i){n[e]=Jn(i)}else{n[e]=i}return n}),Array.isArray(t)?[]:{})}function Yn(t){t.toPromise=function(){return new Promise((function(n){var e=Wt((function(t){if(!t.stale&&!t.hasNext){Promise.resolve().then((function(){e.unsubscribe();n(t)}))}}))(t)}))};return t}function Kn(t,n,e){if(!e){e=n.context}return{key:n.key,query:n.query,variables:n.variables,kind:t,context:e}}function Xn(t,n){return Kn(t.kind,t,xn({},t.context,{meta:xn({},t.context.meta,n)}))}function Hn(){}function Wn(t){var n=t.kind;return"mutation"!==n&&"query"!==n}function zn(t){var n=t.forward;var e=t.client;var i=new Map;var r=Object.create(null);function o(t){var n=Kn(t.kind,t);n.query=Qn(t.query);return n}function s(t){var n=t.context.requestPolicy;return"query"===t.kind&&"network-only"!==n&&("cache-only"===n||i.has(t.key))}return function(t){var u=cn(t);var a=rn((function(t){var n=i.get(t.key);var r=xn({},n,{operation:Xn(t,{cacheOutcome:n?"hit":"miss"})});if("cache-and-network"===t.context.requestPolicy){r.stale=!0;Zn(e,t)}return r}))(Zt((function(t){return!Wn(t)&&s(t)}))(u));var c=Kt((function(t){var n=t.operation;if(!n){return}var o=qn(t.data).concat(n.context.additionalTypenames||[]);if("mutation"===t.operation.kind){var s=new Set;for(var u=0;u<o.length;u++){var a=o[u];var c=r[a]||(r[a]=new Set);c.forEach((function(t){s.add(t)}));c.clear()}s.forEach((function(t){if(i.has(t)){n=i.get(t).operation;i.delete(t);Zn(e,n)}}))}else if("query"===n.kind&&t.data){i.set(n.key,t);for(var f=0;f<o.length;f++){var l=o[f];(r[l]||(r[l]=new Set)).add(n.key)}}}))(n(Zt((function(t){return"query"!==t.kind||"cache-only"!==t.context.requestPolicy}))(rn((function(t){return Xn(t,{cacheOutcome:"miss"})}))(on([rn(o)(Zt((function(t){return!Wn(t)&&!s(t)}))(u)),Zt((function(t){return Wn(t)}))(u)])))));return on([a,c])}}function Zn(t,n){return t.reexecuteOperation(Kn(n.kind,n,xn({},n.context,{requestPolicy:"network-only"})))}function te(t){var n=t.forward;var e=new Set;function i(t){var n=t.key;var i=t.kind;if("teardown"===i){e.delete(n);return!0}if("query"!==i&&"subscription"!==i){return!0}var r=e.has(n);e.add(n);return!r}function r(t){if(!t.hasNext){e.delete(t.operation.key)}}return function(t){var e=Zt(i)(t);return Kt(r)(n(e))}}function ne(t){var n=t.forward;return function(t){var e=cn(t);var i=Jt((function(t){var n=t.key;var i=Zt((function(t){return"teardown"===t.kind&&t.key===n}))(e);var r=Pn(t);var o=Cn(t,r);var s=Fn(t,r);return Kt((function(t){}))(ln(i)(Mn(t,o,s)))}))(Zt((function(t){return"query"===t.kind||"mutation"===t.kind}))(e));var r=n(Zt((function(t){return"query"!==t.kind&&"mutation"!==t.kind}))(e));return on([i,r])}}function ee(t){return function(t){return Zt((function(){return!1}))(Kt((function(t){if("teardown"!==t.kind&&"production"!=="production"){var n='No exchange has handled operations of kind "'+t.kind+"\". Check whether you've added an exchange responsible for these operations.";console.warn(n)}}))(t))}}function ie(t){return function(n){var e=n.client;return t.reduceRight((function(t,n){return n({client:e,forward:t,dispatchDebug:function t(n){}})}),n.forward)}}var re=[te,zn,ne];var oe=function t(n){var e=new Map;var i=new Map;var r=[];var o=en();var s=o.source;var u=o.next;var a=!1;function c(t){if(t){u(t)}if(!a){a=!0;while(a&&(t=r.shift())){u(t)}a=!1}}function f(t){var n=Zt((function(n){return n.operation.kind===t.kind&&n.operation.key===t.key&&(!n.operation.context._instance||n.operation.context._instance===t.context._instance)}))(p);if(h.maskTypename){n=rn((function(t){return xn({},t,{data:Jn(t.data)})}))(n)}if("mutation"===t.kind){return fn(1)(un((function(){return u(t)}))(n))}return cn(sn((function(){e.delete(t.key);i.delete(t.key);for(var n=r.length-1;n>=0;n--){if(r[n].key===t.key){r.splice(n,1)}}u(Kn("teardown",t,t.context))}))(Kt((function(n){e.set(t.key,n)}))(Ht((function(n){if("query"!==t.kind||n.stale){return tn(n)}return on([tn(n),rn((function(){return xn({},n,{stale:!0})}))(fn(1)(Zt((function(n){return"query"===n.kind&&n.key===t.key&&"cache-only"!==n.context.requestPolicy}))(s)))])}))(ln(Zt((function(n){return"teardown"===n.kind&&n.key===t.key}))(s))(n)))))}var l=this instanceof t?this:Object.create(t.prototype);var h=xn(l,{url:n.url,fetchOptions:n.fetchOptions,fetch:n.fetch,suspense:!!n.suspense,requestPolicy:n.requestPolicy||"cache-first",preferGetMethod:!!n.preferGetMethod,maskTypename:!!n.maskTypename,operations$:s,reexecuteOperation:function t(n){if("mutation"===n.kind||i.has(n.key)){r.push(n);Promise.resolve().then(c)}},createOperationContext:function t(n){if(!n){n={}}return xn({},{_instance:void 0,url:h.url,fetchOptions:h.fetchOptions,fetch:h.fetch,preferGetMethod:h.preferGetMethod},n,{suspense:n.suspense||!1!==n.suspense&&h.suspense,requestPolicy:n.requestPolicy||h.requestPolicy})},createRequestOperation:function t(n,e,i){var r=h.createOperationContext(i);if("mutation"===n){r._instance=[]}return Kn(n,e,r)},executeRequestOperation:function t(n){if("mutation"===n.kind){return f(n)}return nn((function(t){var r=i.get(n.key);if(!r){i.set(n.key,r=f(n))}var o="cache-and-network"===n.context.requestPolicy||"network-only"===n.context.requestPolicy;return Wt(t.next)(sn((function(){a=!1;t.complete()}))(un((function(){var i=e.get(n.key);if("subscription"===n.kind){return c(n)}else if(o){c(n)}if(null!=i&&i===e.get(n.key)){t.next(o?xn({},i,{stale:!0}):i)}else if(!o){c(n)}}))(r))).unsubscribe}))},executeQuery:function t(n,e){var i=h.createRequestOperation("query",n,e);return h.executeRequestOperation(i)},executeSubscription:function t(n,e){var i=h.createRequestOperation("subscription",n,e);return h.executeRequestOperation(i)},executeMutation:function t(n,e){var i=h.createRequestOperation("mutation",n,e);return h.executeRequestOperation(i)},query:function t(n,e,i){if(!i||"boolean"!=typeof i.suspense){i=xn({},i,{suspense:!1})}return Yn(h.executeQuery(Sn(n,e),i))},readQuery:function t(n,e,i){var r=null;Wt((function(t){r=t}))(h.query(n,e,i)).unsubscribe();return r},subscription:function t(n,e,i){return h.executeSubscription(Sn(n,e),i)},mutation:function t(n,e,i){return Yn(h.executeMutation(Sn(n,e),i))}});var d=Hn;var v=ie(void 0!==n.exchanges?n.exchanges:re);var p=cn(v({client:h,dispatchDebug:d,forward:ee()})(s));an(p);return h};var se=oe;var ue=undefined&&undefined.__awaiter||function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function u(t){try{a(i["throw"](t))}catch(t){o(t)}}function a(t){t.done?e(t.value):r(t.value).then(s,u)}a((i=i.apply(t,n||[])).next())}))};var ae=undefined&&undefined.__generator||function(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(e=0)),e)try{if(i=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;r=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(o=e.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1];o=u;break}if(o&&e.label<o[2]){e.label=o[2];e.ops.push(u);break}if(o[2])e.ops.pop();e.trys.pop();continue}u=n.call(t,e)}catch(t){u=[6,t];r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var ce=function(){function t(t,n,e){if(!t&&!n&&!e)console.error("api_url, token and domain are required");this.client=se({url:t,requestPolicy:"cache-first",exchanges:re,maskTypename:true,fetchOptions:{headers:{token:n,domain:e}}})}t.prototype.query=function(t,n){return ue(this,void 0,void 0,(function(){var e,i,r,o;return ae(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,this.client.query(t,n).toPromise()];case 1:e=s.sent(),i=e.data,r=e.error;if(r)throw new Error(r);return[2,i];case 2:o=s.sent();throw new Error(o);case 3:return[2]}}))}))};t.prototype.mutation=function(t,n){return ue(this,void 0,void 0,(function(){var e,i,r,o;return ae(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,this.client.mutation(t,n).toPromise()];case 1:e=s.sent(),i=e.data,r=e.error;if(r)throw new Error(r);return[2,i];case 2:o=s.sent();throw new Error(o);case 3:return[2]}}))}))};return t}();function fe(){return new ce(shop_ctx.api_url,shop_ctx.token,shop_ctx.domain)}var le=function(){function t(){}t.emit=function(t,n){var e="send".concat(t);var i=new CustomEvent(e,{detail:n});n&&window.dispatchEvent(i)};return t}();function he(t,n){if(t===void 0){t=1}if(n===void 0){n=12}var e=(t-1)*n+1;return{page:Number(e),first:Number(n)}}var de=undefined&&undefined.__spreadArray||function(t,n,e){if(e||arguments.length===2)for(var i=0,r=n.length,o;i<r;i++){if(o||!(i in n)){if(!o)o=Array.prototype.slice.call(n,0,i);o[i]=n[i]}}return t.concat(o||Array.prototype.slice.call(n))};var ve=function(){function t(t){this.fields=t||this.defaultFields()}t.prototype.getFields=function(){return this.fields.join()};t.prototype.getReleaseDateFields=function(){return"{releaseDate, now}"};t.prototype.getImageFields=function(){return"{productId, src, alt, colorIds, variationIds, position}"};t.prototype.getComponentGroupsFields=function(){return"{id, name, description, slug, optional}"};t.prototype.getAttributeFields=function(){return"{id, name, slug, attributeId, attributeName, position, isActive}"};t.prototype.getColorFields=function(){return"\n    {\n        id,\n        name,\n        slug,\n        hexadecimal,\n        image ".concat(this.getImageFields(),"\n    }")};t.prototype.getFeatureCommonFields=function(){return["id","name","slug","image ".concat(this.getImageFields())]};t.prototype.getFeatureFields=function(){return"{".concat(this.getFeatureCommonFields().join(),", values {").concat(this.getFeatureCommonFields().join(),"}}")};t.prototype.getBrandFields=function(){return"\n    {\n        id,\n        name,\n        slug,\n        description,\n        shortDescription,\n        image ".concat(this.getImageFields(),",\n        banner ").concat(this.getImageFields(),"\n    }")};t.prototype.getCategoryFields=function(){return"\n    {\n        id, \n        name, \n        slug, \n        description, \n        image ".concat(this.getImageFields(),", \n        breadcrumb, \n        googleTaxonomyId\n    }")};t.prototype.getPaymantInstallmentFields=function(){return"{markup, parcel, discount, interest, total, parcelPrice}"};t.prototype.getPaymentFields=function(){return["id","gatewayId","externalId","name","method","external","maxParcels","parcelsNoInterest","installments ".concat(this.getPaymantInstallmentFields()),"minParcelPrice","minPurchase","maxPurchase","expireDays","softDescriptor","description","isActive","position","billetMinDiscountPrice","markup","instructions","isDefault","showOnlyInstoreShipping","createdAt","updatedAt","installment ".concat(this.getPaymantInstallmentFields())]};t.prototype.getComponentFields=function(){return"\n    {\n      productComponentId\n      productComponentGroupId\n      quantity\n      isDefault\n      isOptional\n      variations {".concat(this.getCommonFields().join(),"}\n    }")};t.prototype.getCommonFields=function(){return["id","name","slug","payments {".concat(this.getPaymentFields().join(),"}"),"gtin","mpn","additionalShippingTime","externalId","categoryDefaultId","hotsiteId","description","shortDescription","relevance","releaseDate ".concat(this.getReleaseDateFields()),"tags","minQuantity","maxQuantity","isSellInKitOnly","metaTitle","metaDescription","metaKeywords","isKit","kitMarkup","isVirtual","isPreSale","images ".concat(this.getImageFields()),"video","weight","depth","width","height","isSellOutOfStock","additionalTimeOutOfStock","balance","price","minPriceRange","maxPriceRange","hasPriceRange","priceCompare","discount","billetDiscount","paymentsReason","warranty","model","gender","ageGroup","productId","brand ".concat(this.getBrandFields()),"category ".concat(this.getCategoryFields()),"categories ".concat(this.getCategoryFields()),"color ".concat(this.getColorFields()),"attribute ".concat(this.getAttributeFields()),"attributeSecondary ".concat(this.getAttributeFields()),"features ".concat(this.getFeatureFields()),"priceOutOfStock","sku"]};t.prototype.getFullVariations=function(){var t=["components ".concat(this.getComponentFields()),"componentGroups ".concat(this.getComponentGroupsFields())];return de([],this.getCommonFields(),true).concat(t)};t.prototype.defaultFields=function(){return["".concat(this.getFullVariations().join()),"variations {".concat(this.getFullVariations().join(),"}")]};t.prototype.listFullQuery=function(){return"query Products($agg: agg!, $filter: filterPaginationFilter) {\n      products(agg: $agg, filter: $filter) {\n            edges {\n              node {\n                ".concat(this.getFields(),"\n              }\n              cursor\n            }\n            pageInfo {\n              hasNextPage\n              hasPreviousPage\n              startCursor\n              endCursor\n              first\n              total\n            }\n          }\n        }")};t.prototype.getOneFullQuery=function(){return"query Product($filter: filterProduct) {\n      product(filter: $filter) {\n          ".concat(this.getFields(),"\n        }\n      }")};return t}();var pe=undefined&&undefined.__assign||function(){pe=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return pe.apply(this,arguments)};var ye=undefined&&undefined.__awaiter||function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function u(t){try{a(i["throw"](t))}catch(t){o(t)}}function a(t){t.done?e(t.value):r(t.value).then(s,u)}a((i=i.apply(t,n||[])).next())}))};var me=undefined&&undefined.__generator||function(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(e=0)),e)try{if(i=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;r=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(o=e.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1];o=u;break}if(o&&e.label<o[2]){e.label=o[2];e.ops.push(u);break}if(o[2])e.ops.pop();e.trys.pop();continue}u=n.call(t,e)}catch(t){u=[6,t];r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var be=function(){function t(){}t.getList=function(t){var n=t.fields,e=t.agg,i=t.filter;return ye(this,void 0,void 0,(function(){var t,r,o;return me(this,(function(s){switch(s.label){case 0:t=new ve(n);r=t.listFullQuery();return[4,fe().query(r,i&&{agg:e,filter:pe({},i)})];case 1:o=s.sent().products;return[2,o]}}))}))};t.getOne=function(t){var n=t.fields,e=t.filter;return ye(this,void 0,void 0,(function(){var t,i,r;return me(this,(function(o){switch(o.label){case 0:t=new ve(n);i=t.getOneFullQuery();return[4,fe().query(i,e&&{filter:pe({},e)})];case 1:r=o.sent().product;return[2,r]}}))}))};t.getById=function(t,n){return ye(this,void 0,void 0,(function(){return me(this,(function(e){return[2,this.getOne({fields:n||null,filter:{productId:t}})]}))}))};t.getBySlug=function(t,n){return ye(this,void 0,void 0,(function(){return me(this,(function(e){return[2,this.getOne({fields:n||null,filter:{slug:t}})]}))}))};return t}();var we=undefined&&undefined.__awaiter||function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function u(t){try{a(i["throw"](t))}catch(t){o(t)}}function a(t){t.done?e(t.value):r(t.value).then(s,u)}a((i=i.apply(t,n||[])).next())}))};var ge=undefined&&undefined.__generator||function(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(e=0)),e)try{if(i=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;r=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(o=e.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1];o=u;break}if(o&&e.label<o[2]){e.label=o[2];e.ops.push(u);break}if(o[2])e.ops.pop();e.trys.pop();continue}u=n.call(t,e)}catch(t){u=[6,t];r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Oe=function(){function t(){}t.getList=function(t){var n;return we(this,void 0,void 0,(function(){var t;return ge(this,(function(e){t=(n=shop_ctx.mock)===null||n===void 0?void 0:n.products;return[2,t||{}]}))}))};t.getById=function(t,n){var e,i,r,o;return we(this,void 0,void 0,(function(){var n;return ge(this,(function(s){n=(o=(r=(i=(e=shop_ctx.mock)===null||e===void 0?void 0:e.products)===null||i===void 0?void 0:i.edges)===null||r===void 0?void 0:r.find((function(n){var e;return((e=n===null||n===void 0?void 0:n.node)===null||e===void 0?void 0:e.product_id)==t})))===null||o===void 0?void 0:o.node;return[2,n]}))}))};t.getBySlug=function(t,n){var e,i,r,o;return we(this,void 0,void 0,(function(){var n;return ge(this,(function(s){n=(o=(r=(i=(e=shop_ctx.mock)===null||e===void 0?void 0:e.products)===null||i===void 0?void 0:i.edges)===null||r===void 0?void 0:r.find((function(n){var e;return((e=n===null||n===void 0?void 0:n.node)===null||e===void 0?void 0:e.slug)==t})))===null||o===void 0?void 0:o.node;return[2,n]}))}))};return t}();var Ee=undefined&&undefined.__assign||function(){Ee=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return Ee.apply(this,arguments)};var Ie=undefined&&undefined.__awaiter||function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function u(t){try{a(i["throw"](t))}catch(t){o(t)}}function a(t){t.done?e(t.value):r(t.value).then(s,u)}a((i=i.apply(t,n||[])).next())}))};var ke=undefined&&undefined.__generator||function(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(e=0)),e)try{if(i=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;r=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(o=e.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1];o=u;break}if(o&&e.label<o[2]){e.label=o[2];e.ops.push(u);break}if(o[2])e.ops.pop();e.trys.pop();continue}u=n.call(t,e)}catch(t){u=[6,t];r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Te=undefined&&undefined.__rest||function(t,n){var e={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0)e[i]=t[i];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++){if(n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r]))e[i[r]]=t[i[r]]}return e};var Se=function(){var t;return((t=shop_ctx.mock)===null||t===void 0?void 0:t.products)?Oe:be};var Ne=function(){function t(){}t.getList=function(t){var n=t.filter,e=t.agg,i=e===void 0?{field:["productId"]}:e,r=t.fields;return Ie(this,void 0,void 0,(function(){var t,e,o;return ke(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);t=Te(n,["items"]);return[4,Se().getList({fields:r||null,filter:Ee(Ee({},he((n===null||n===void 0?void 0:n.page)||1,n===null||n===void 0?void 0:n.items)),t),agg:i})];case 1:e=s.sent();le.emit("Product",e);return[2,e];case 2:o=s.sent();throw new Error(o===null||o===void 0?void 0:o.message);case 3:return[2]}}))}))};t.getById=function(t,n){return Ie(this,void 0,void 0,(function(){var e;return ke(this,(function(i){switch(i.label){case 0:return[4,Se().getById(Number(t),n)];case 1:e=i.sent();return[2,e]}}))}))};t.getBySlug=function(t,n){return Ie(this,void 0,void 0,(function(){var e;return ke(this,(function(i){switch(i.label){case 0:return[4,Se().getBySlug(t,n)];case 1:e=i.sent();return[2,e]}}))}))};return t}();var xe=function(){function t(t){this.fields=t}t.prototype.getAllFields=function(t){var n;return(n=this.fields)!==null&&n!==void 0?n:"{\n        id,\n        name,\n        title,\n        buyButtonText,\n        productId,\n        colorId,\n        dateFrom,\n        dateTo,\n        active,\n        product ".concat(t==="restrict"?this.getStrictProductFields():this.getProduct(),",\n        productsPivot ").concat(t==="restrict"?this.getStrictProductFields():this.getProduct(),"\n      }")};t.prototype.getStrictProductFields=function(){var t="\n    {\n      id\n      productId\n      src\n      alt\n      colorIds\n      variationIds\n    }";var n="\n    {\n      id\n      name\n      slug\n      hexadecimal\n    }";var e="\n    {\n      id\n      name\n      slug\n      attributeId\n      attributeName\n      isActive\n    }";var i="\n    {\n      id\n      name\n      method\n      description\n      isActive\n      markup\n      isDefault\n    }";var r="\n    {\n      id\n      name\n      slug\n      values {\n        id\n        name\n        slug\n      }\n    }";var o="\n    {\n      id\n      name\n      slug\n      releaseDate {\n        releaseDate\n        now\n      }\n      description\n      shortDescription\n      isVirtual\n      isPreSale\n      images ".concat(t,"\n      priceOutOfStock\n      isSellOutOfStock\n      additionalTimeOutOfStock\n      balance\n      price\n      priceCompare\n      discount\n      billetDiscount\n      payments ").concat(i,"\n      color ").concat(n,"\n      attribute ").concat(e,"\n      attributeSecondary ").concat(e,"\n      features ").concat(r,"\n      productId\n      colors ").concat(n,"\n    }\n    ");return"{\n      id\n      name\n      slug\n      description\n      shortDescription\n      images ".concat(t,"\n      payments ").concat(i,"\n      priceOutOfStock\n      isSellOutOfStock\n      balance\n      price\n      priceCompare\n      discount\n      billetDiscount\n      color ").concat(n,"\n      attribute ").concat(e,"\n      attributeSecondary ").concat(e,"\n      features ").concat(r,"\n      releaseDate {\n        releaseDate\n        now\n      }\n      productId\n      variations ").concat(o,"\n      sku\n      colors ").concat(n,"\n    }")};t.prototype.getProduct=function(){return"{\n      id\n      name\n      slug\n      payments {\n        id\n        gatewayId\n        externalId\n        name\n        method\n        external\n        maxParcels\n        parcelsNoInterest\n        installments {\n          markup\n          parcel\n          discount\n          interest\n          total\n          parcelPrice\n        }\n        minParcelPrice\n        minPurchase\n        maxPurchase\n        expireDays\n        softDescriptor\n        description\n        isActive\n        position\n        billetMinDiscountPrice\n        markup\n        instructions\n        isDefault\n        showOnlyInstoreShipping\n        createdAt\n        updatedAt\n        installment {\n          markup\n          parcel\n          discount\n          interest\n          total\n          parcelPrice\n        }\n      }\n      gtin\n      mpn\n      additionalShippingTime\n      externalId\n      categoryDefaultId\n      hotsiteId\n      description\n      shortDescription\n      relevance\n      tags\n      minQuantity\n      maxQuantity\n      isSellInKitOnly\n      metaTitle\n      metaDescription\n      metaKeywords\n      isKit\n      kitMarkup\n      isVirtual\n      isPreSale\n      images {\n        id\n        productId\n        src\n        alt\n        colorIds\n        variationIds\n        position\n      }\n      video\n      weight\n      depth\n      width\n      height\n      priceOutOfStock\n      isSellOutOfStock\n      additionalTimeOutOfStock\n      balance\n      price\n      minPriceRange\n      maxPriceRange\n      hasPriceRange\n      priceCompare\n      discount\n      billetDiscount\n      paymentsReason\n      warranty\n      model\n      gender\n      ageGroup\n      brand {\n        id\n        name\n        slug\n        description\n        shortDescription\n        image {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n        banner {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n      }\n      category {\n        id\n        name\n        slug\n        description\n        breadcrumb\n        googleTaxonomyId\n      }\n      categories {\n        id\n        name\n        slug\n        description\n        breadcrumb\n        googleTaxonomyId\n      }\n      reference\n      color {\n        id\n        name\n        slug\n        hexadecimal\n        position\n      }\n      attribute {\n        id\n        name\n        slug\n        attributeId\n        attributeName\n        position\n        isActive\n      }\n      attributeSecondary {\n        id\n        name\n        slug\n        attributeId\n        attributeName\n        position\n        isActive\n      }\n      features {\n        id\n        name\n        slug\n        values {\n          id\n          name\n          slug\n        }\n      }\n      releaseDate {\n        releaseDate\n        now\n      }\n      productId\n      createdAt\n      variations {\n        id\n        name\n        slug\n        releaseDate {\n          releaseDate\n          now\n        }\n        payments {\n          id\n          gatewayId\n          externalId\n          name\n          method\n          external\n          maxParcels\n          parcelsNoInterest\n          installments {\n            markup\n            parcel\n            discount\n            interest\n            total\n            parcelPrice\n          }\n          minParcelPrice\n          minPurchase\n          maxPurchase\n          expireDays\n          softDescriptor\n          description\n          isActive\n          position\n          billetMinDiscountPrice\n          markup\n          instructions\n          isDefault\n          showOnlyInstoreShipping\n          createdAt\n          updatedAt\n          installment {\n            markup\n            parcel\n            discount\n            interest\n            total\n            parcelPrice\n          }\n        }\n        gtin\n        mpn\n        additionalShippingTime\n        externalId\n        categoryDefaultId\n        hotsiteId\n        description\n        shortDescription\n        relevance\n        reference\n        tags\n        minQuantity\n        maxQuantity\n        isSellInKitOnly\n        metaTitle\n        metaDescription\n        metaKeywords\n        isKit\n        kitMarkup\n        isVirtual\n        isPreSale\n        images {\n          id\n          productId\n          src\n          alt\n          colorIds\n          variationIds\n          position\n        }\n        video\n        weight\n        depth\n        width\n        height\n        priceOutOfStock\n        isSellOutOfStock\n        additionalTimeOutOfStock\n        balance\n        price\n        minPriceRange\n        maxPriceRange\n        hasPriceRange\n        priceCompare\n        discount\n        billetDiscount\n        paymentsReason\n        warranty\n        model\n        gender\n        ageGroup\n        brand {\n          id\n          name\n          slug\n          description\n          shortDescription\n          image {\n            id\n            productId\n            src\n            alt\n            colorIds\n            variationIds\n            position\n          }\n          banner {\n            id\n            productId\n            src\n            alt\n            colorIds\n            variationIds\n            position\n          }\n        }\n        category {\n          id\n          name\n          slug\n          description\n          breadcrumb\n          googleTaxonomyId\n        }\n        categories {\n          id\n          name\n          slug\n          description\n          breadcrumb\n          googleTaxonomyId\n        }\n        color {\n          id\n          name\n          slug\n          hexadecimal\n          position\n        }\n        attribute {\n          id\n          name\n          slug\n          attributeId\n          attributeName\n          position\n          isActive\n        }\n        attributeSecondary {\n          id\n          name\n          slug\n          attributeId\n          attributeName\n          position\n          isActive\n        }\n        features {\n          id\n          name\n          slug\n          values {\n            id\n            name\n            slug\n          }\n        }\n        productId\n        createdAt\n        components {\n          productComponentId\n          productComponentGroupId\n          quantity\n          isDefault\n          isOptional\n          variations {\n            id\n            name\n            slug\n            gtin\n            mpn\n            additionalShippingTime\n            externalId\n            categoryDefaultId\n            hotsiteId\n            description\n            shortDescription\n            relevance\n            reference\n            tags\n            minQuantity\n            maxQuantity\n            isSellInKitOnly\n            metaTitle\n            metaDescription\n            metaKeywords\n            isKit\n            kitMarkup\n            isVirtual\n            isPreSale\n            video\n            weight\n            depth\n            width\n            height\n            priceOutOfStock\n            isSellOutOfStock\n            additionalTimeOutOfStock\n            balance\n            price\n            minPriceRange\n            maxPriceRange\n            hasPriceRange\n            priceCompare\n            discount\n            billetDiscount\n            paymentsReason\n            warranty\n            model\n            gender\n            ageGroup\n            productId\n            createdAt\n            sku\n            isGift\n          }\n          productComponentGroupName\n        }\n        componentGroups {\n          id\n          name\n          description\n          slug\n          optional\n        }\n        sku\n        colors {\n          id\n          name\n          slug\n          hexadecimal\n          position\n        }\n        isGift\n      }\n      components {\n        productComponentId\n        productComponentGroupId\n        quantity\n        isDefault\n        isOptional\n        productComponentGroupName\n      }\n      componentGroups {\n        id\n        name\n        description\n        slug\n        optional\n      }\n      sku\n      colors {\n        id\n        name\n        slug\n        hexadecimal\n        position\n      }\n      isGift\n    }"};t.prototype.getOneFullQuery=function(t){return"query BuyTogether($filter: filterBuyTogether) {\n      buyTogether(filter: $filter) \n        ".concat(this.getAllFields(t),"\n    }")};t.prototype.getListFullQuery=function(t){return"query BuyTogetherList($filter: filterBuyTogetherList) {\n      buyTogetherList(filter: $filter) \n        ".concat(this.getAllFields(t),"\n    }")};return t}();var je=undefined&&undefined.__awaiter||function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function u(t){try{a(i["throw"](t))}catch(t){o(t)}}function a(t){t.done?e(t.value):r(t.value).then(s,u)}a((i=i.apply(t,n||[])).next())}))};var _e=undefined&&undefined.__generator||function(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(e=0)),e)try{if(i=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;r=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(o=e.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1];o=u;break}if(o&&e.label<o[2]){e.label=o[2];e.ops.push(u);break}if(o[2])e.ops.pop();e.trys.pop();continue}u=n.call(t,e)}catch(t){u=[6,t];r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Ae=function(){function t(){}t.getByProductId=function(t,n){return je(this,void 0,void 0,(function(){var e,i,r;return _e(this,(function(o){switch(o.label){case 0:e=new xe(n);i=e.getOneFullQuery("restrict");return[4,fe().query(i,{filter:{productId:t}})];case 1:r=o.sent().buyTogether;console.log("buytogether",r);return[2,r]}}))}))};t.getByProductIds=function(t,n){return je(this,void 0,void 0,(function(){var e,i,r;return _e(this,(function(o){switch(o.label){case 0:e=new xe(n);i=e.getListFullQuery("restrict");return[4,fe().query(i,{filter:{productsIds:t}})];case 1:r=o.sent();return[2,r.buyTogetherList]}}))}))};return t}();var De=undefined&&undefined.__awaiter||function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function u(t){try{a(i["throw"](t))}catch(t){o(t)}}function a(t){t.done?e(t.value):r(t.value).then(s,u)}a((i=i.apply(t,n||[])).next())}))};var Pe=undefined&&undefined.__generator||function(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(n){return a([t,n])}}function a(u){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,u[0]&&(e=0)),e)try{if(i=1,r&&(o=u[0]&2?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;if(r=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;r=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(o=e.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1];o=u;break}if(o&&e.label<o[2]){e.label=o[2];e.ops.push(u);break}if(o[2])e.ops.pop();e.trys.pop();continue}u=n.call(t,e)}catch(t){u=[6,t];r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var Ce=function(){function t(){}t.getByProductId=function(t,n){return De(this,void 0,void 0,(function(){return Pe(this,(function(e){switch(e.label){case 0:return[4,Ae.getByProductId(t,n)];case 1:return[2,e.sent()]}}))}))};t.getByProductIdWithValidPromotionDate=function(t,n){return De(this,void 0,void 0,(function(){var e;return Pe(this,(function(i){switch(i.label){case 0:return[4,Ae.getByProductId(t,n)];case 1:e=i.sent();if(e&&this.checkPromotionDateValid(e))return[2,e];return[2,null]}}))}))};t.getByProductIds=function(t,n){return De(this,void 0,void 0,(function(){var e;var i=this;return Pe(this,(function(r){switch(r.label){case 0:return[4,Ae.getByProductIds(t,n)];case 1:e=r.sent();return[2,e.map((function(t){if(i.checkPromotionDateValid(t))return t}))]}}))}))};t.checkPromotionDateValid=function(t){var n=t.dateFrom,e=t.dateTo;var i=Number(new Date);var r=Number(new Date(n+"T00:00:00"));if(!e)return i>=r;var o=Number(new Date(e+"T00:00:00"));return i>=r&&i<=o};return t}();var Fe=function(){function t(){}t.prototype.formatRichText=function(t){var n=t.replace(/(<([^>]+)>)/gi,"");return n};t.prototype.render=function(t){return JSON.stringify(t)};return t}();var Re=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();(function(t){Re(n,t);function n(n){var e=t.call(this)||this;e.shop=n;return e}n.prototype.getShop=function(){var t,n,e,i,r,o,s,u,a,c;if(!this.shop)return;var f={"@context":"http://schema.org","@type":"Store",name:this.shop.name,telephone:this.shop.phone,email:this.shop.email,url:"https://".concat((n=(t=this.shop)===null||t===void 0?void 0:t.domain)!==null&&n!==void 0?n:this.shop.domainTemporary),description:this.shop.description,address:{"@type":"PostalAddress",streetAddress:"".concat((e=this.shop)===null||e===void 0?void 0:e.street," ").concat((i=this.shop)===null||i===void 0?void 0:i.number," ").concat((o=(r=this.shop)===null||r===void 0?void 0:r.detail)!==null&&o!==void 0?o:null),addressLocality:"".concat((s=this.shop)===null||s===void 0?void 0:s.district," - ").concat((u=this.shop)===null||u===void 0?void 0:u.city),addressRegion:(a=this.shop)===null||a===void 0?void 0:a.state,addressCountry:"Brasil",postalCode:(c=this.shop)===null||c===void 0?void 0:c.zipcode}};return this.render(f)};return n})(Fe);var Be=function(){function t(){}t.getBrandLink=function(t){return"/".concat(t,"/b")};t.getBlogCategoryLink=function(t){return"/blog/".concat(t)};t.getBlogPostLink=function(t){return"/blog/".concat(t)};t.getCategoryLink=function(t){return"/".concat(t,"/c")};t.getInstitutionalLink=function(t){return"/".concat(t,"/i")};t.getLandingPageLink=function(t){return"/".concat(t,"/lp")};t.getProductLink=function(t){return"/".concat(t,"/p")};return t}();var Le=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();var Ue=function(t){Le(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}n.prototype.getProductData=function(t){var n,e,i,r,o,s,u,a,c,f,l,h,d,v,p,y,m,b,w,g;var O="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Be.getProductLink(t===null||t===void 0?void 0:t.slug));var E="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Be.getBrandLink((n=t===null||t===void 0?void 0:t.brand)===null||n===void 0?void 0:n.slug));var I={"@type":"Product",url:O,name:t===null||t===void 0?void 0:t.name,sku:String(t===null||t===void 0?void 0:t.id),description:t===null||t===void 0?void 0:t.name,offers:{"@type":"AggregateOffer",url:O,priceCurrency:"BRL",priceValidUntil:new Date((new Date).setMonth((new Date).getMonth()+1)).toISOString(),price:t===null||t===void 0?void 0:t.price,lowPrice:(e=t===null||t===void 0?void 0:t.minPriceRange)!==null&&e!==void 0?e:t===null||t===void 0?void 0:t.price,highPrice:(i=t===null||t===void 0?void 0:t.maxPriceRange)!==null&&i!==void 0?i:t===null||t===void 0?void 0:t.price,offerCount:(o=(r=t===null||t===void 0?void 0:t.variations)===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:1,itemCondition:"http://schema.org/NewCondition",availability:"http://schema.org/".concat((t===null||t===void 0?void 0:t.balance)>1?"InStock":"OutOfStock")}};if((s=t===null||t===void 0?void 0:t.images)===null||s===void 0?void 0:s.length){t===null||t===void 0?void 0:t.images.forEach((function(t){I.image=[];I.image.push(t.src)}))}var k=(u=t===null||t===void 0?void 0:t.payments)===null||u===void 0?void 0:u.find((function(t){return t.method=="billet"}));var T=(c=Number((a=k===null||k===void 0?void 0:k.installment)===null||a===void 0?void 0:a.total))!==null&&c!==void 0?c:null;if(T<(t===null||t===void 0?void 0:t.minPriceRange)){I.offers.price=T;I.offers.lowPrice=T}if(t===null||t===void 0?void 0:t.description)I.description=this.formatRichText(t===null||t===void 0?void 0:t.description);if(t===null||t===void 0?void 0:t.brand){I.brand={"@type":"Brand",name:(f=t===null||t===void 0?void 0:t.brand)===null||f===void 0?void 0:f.name,logo:(h=(l=t===null||t===void 0?void 0:t.brand)===null||l===void 0?void 0:l.image)===null||h===void 0?void 0:h.src,image:(v=(d=t===null||t===void 0?void 0:t.brand)===null||d===void 0?void 0:d.image)===null||v===void 0?void 0:v.src,url:E};if((p=t===null||t===void 0?void 0:t.brand)===null||p===void 0?void 0:p.image)I.brand.image=(m=(y=t===null||t===void 0?void 0:t.brand)===null||y===void 0?void 0:y.image)===null||m===void 0?void 0:m.src}if((b=t===null||t===void 0?void 0:t.category)===null||b===void 0?void 0:b.name)I.category=(w=t===null||t===void 0?void 0:t.category)===null||w===void 0?void 0:w.name;if(t===null||t===void 0?void 0:t.weight)I.weight={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.weight,unitCode:"kg"};if(t===null||t===void 0?void 0:t.width)I.width={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.width,unitCode:"cm"};if(t===null||t===void 0?void 0:t.height)I.height={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.height,unitCode:"cm"};if(t===null||t===void 0?void 0:t.depth)I.depth={"@type":"QuantitativeValue",value:t===null||t===void 0?void 0:t.depth,unitCode:"cm"};if(t===null||t===void 0?void 0:t.gtin)I.gtin13=t===null||t===void 0?void 0:t.gtin;if(t===null||t===void 0?void 0:t.color)I.color=t===null||t===void 0?void 0:t.color.name;I.sku=(g=t===null||t===void 0?void 0:t.sku)!==null&&g!==void 0?g:String(t===null||t===void 0?void 0:t.id);return I};return n}(Fe);var Me=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();var Ve=undefined&&undefined.__assign||function(){Ve=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return Ve.apply(this,arguments)};(function(t){Me(n,t);function n(n){var e=t.call(this)||this;e.product=n;return e}n.prototype.getProductItem=function(){var t=Ve({"@context":"https://schema.org"},this.getProductData(this.product));return this.render(t)};return n})(Ue);var qe=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();(function(t){qe(n,t);function n(n){var e=t.call(this)||this;e.products=n;return e}n.prototype.getProductList=function(){var t=this;var n={"@context":"https://schema.org","@type":"ItemList",itemListElement:[]};this.products.forEach((function(e,i){var r={"@type":"ListItem",position:i+1,item:t.getProductData(e)};n.itemListElement.push(r)}));return this.render(n)};return n})(Ue);var Ge=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();(function(t){Ge(n,t);function n(n){var e=t.call(this)||this;e.data=n;return e}n.prototype.getSomeProducts=function(){var t={"@context":"https://schema.org","@type":"SomeProducts"};if(this.data.name)t.name=this.data.name;if(this.data.description)t.description=this.data.description;return this.render(t)};return n})(Fe);var $e=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();(function(t){$e(n,t);function n(n){var e=t.call(this)||this;e.brand=n;return e}n.prototype.getBrand=function(){var t,n,e,i,r;var o="".concat(shop_ctx===null||shop_ctx===void 0?void 0:shop_ctx.domain).concat(Be.getBrandLink((t=this.brand)===null||t===void 0?void 0:t.slug));var s={"@context":"https://schema.org","@type":"Brand",name:this.brand.name,logo:(e=(n=this.brand)===null||n===void 0?void 0:n.image)===null||e===void 0?void 0:e.src,image:(r=(i=this.brand)===null||i===void 0?void 0:i.image)===null||r===void 0?void 0:r.src,url:o};return this.render(s)};return n})(Fe);var Qe=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();(function(t){Qe(n,t);function n(n){var e=t.call(this)||this;e.page=n;return e}n.prototype.getPage=function(){var t;if(((t=this.page)===null||t===void 0?void 0:t.template)==="faq")return this.render(this.faqPage());return this.render(this.genericPage())};n.prototype.genericPage=function(){var t,n,e;var i={"@context":"http://schema.org/","@type":"WebPage",url:(t=this.page)===null||t===void 0?void 0:t.slug,name:(n=this.page)===null||n===void 0?void 0:n.name,description:this.formatRichText(((e=this.page)===null||e===void 0?void 0:e.description)||"")};return i};n.prototype.faqPage=function(){var t=this;var n,e,i,r,o,s;var u={"@context":"http://schema.org/","@type":"FAQPage",url:(n=this.page)===null||n===void 0?void 0:n.slug,name:(e=this.page)===null||e===void 0?void 0:e.name,description:this.formatRichText(((i=this.page)===null||i===void 0?void 0:i.description)||""),mainEntity:[]};if((o=(r=this.page)===null||r===void 0?void 0:r.faq)===null||o===void 0?void 0:o.length){(s=this.page)===null||s===void 0?void 0:s.faq.forEach((function(n){var e={"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:t.formatRichText(n.answer||"")}};u.mainEntity.push(e)}))}return u};return n})(Fe);var Je=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();var Ye=function(t){Je(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}n.prototype.getPostData=function(t){var n={"@type":"BlogPosting",url:t===null||t===void 0?void 0:t.url,headline:t===null||t===void 0?void 0:t.name,name:t===null||t===void 0?void 0:t.name,dateCreated:t===null||t===void 0?void 0:t.createdAt,datePublished:t===null||t===void 0?void 0:t.createdAt,dateModified:t===null||t===void 0?void 0:t.updatedAt,inLanguage:"pt-BR",articleSection:t===null||t===void 0?void 0:t.category.name,articleBody:this.formatRichText((t===null||t===void 0?void 0:t.description)||"")};if(t===null||t===void 0?void 0:t.image)n.image=t===null||t===void 0?void 0:t.image.src;return n};return n}(Fe);var Ke=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();(function(t){Ke(n,t);function n(n){var e=t.call(this)||this;e.posts=n;return e}n.prototype.getBlogCategory=function(){var t=this;var n={"@context":"https://schema.org","@type":"ItemList",itemListElement:[]};this.posts.forEach((function(e,i){var r={"@type":"ListItem",position:i+1,item:t.getPostData(e)};n.itemListElement.push(r)}));return this.render(n)};return n})(Ye);var Xe=undefined&&undefined.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();var He=undefined&&undefined.__assign||function(){He=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t};return He.apply(this,arguments)};(function(t){Xe(n,t);function n(n){var e=t.call(this)||this;e.post=n;return e}n.prototype.getBlogPost=function(){var t=He({"@context":"https://schema.org"},this.getPostData(this.post));return this.render(t)};return n})(Ye);const We=Object.create(null);We["open"]="0";We["close"]="1";We["ping"]="2";We["pong"]="3";We["message"]="4";We["upgrade"]="5";We["noop"]="6";const ze=Object.create(null);Object.keys(We).forEach((t=>{ze[We[t]]=t}));const Ze={type:"error",data:"parser error"};const ti=typeof Blob==="function"||typeof Blob!=="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]";const ni=typeof ArrayBuffer==="function";const ei=t=>typeof ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer;const ii=({type:t,data:n},e,i)=>{if(ti&&n instanceof Blob){if(e){return i(n)}else{return ri(n,i)}}else if(ni&&(n instanceof ArrayBuffer||ei(n))){if(e){return i(n)}else{return ri(new Blob([n]),i)}}return i(We[t]+(n||""))};const ri=(t,n)=>{const e=new FileReader;e.onload=function(){const t=e.result.split(",")[1];n("b"+(t||""))};return e.readAsDataURL(t)};function oi(t){if(t instanceof Uint8Array){return t}else if(t instanceof ArrayBuffer){return new Uint8Array(t)}else{return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}}let si;function ui(t,n){if(ti&&t.data instanceof Blob){return t.data.arrayBuffer().then(oi).then(n)}else if(ni&&(t.data instanceof ArrayBuffer||ei(t.data))){return n(oi(t.data))}ii(t,false,(t=>{if(!si){si=new TextEncoder}n(si.encode(t))}))}const ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";const ci=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(let t=0;t<ai.length;t++){ci[ai.charCodeAt(t)]=t}const fi=t=>{let n=t.length*.75,e=t.length,i,r=0,o,s,u,a;if(t[t.length-1]==="="){n--;if(t[t.length-2]==="="){n--}}const c=new ArrayBuffer(n),f=new Uint8Array(c);for(i=0;i<e;i+=4){o=ci[t.charCodeAt(i)];s=ci[t.charCodeAt(i+1)];u=ci[t.charCodeAt(i+2)];a=ci[t.charCodeAt(i+3)];f[r++]=o<<2|s>>4;f[r++]=(s&15)<<4|u>>2;f[r++]=(u&3)<<6|a&63}return c};const li=typeof ArrayBuffer==="function";const hi=(t,n)=>{if(typeof t!=="string"){return{type:"message",data:vi(t,n)}}const e=t.charAt(0);if(e==="b"){return{type:"message",data:di(t.substring(1),n)}}const i=ze[e];if(!i){return Ze}return t.length>1?{type:ze[e],data:t.substring(1)}:{type:ze[e]}};const di=(t,n)=>{if(li){const e=fi(t);return vi(e,n)}else{return{base64:true,data:t}}};const vi=(t,n)=>{switch(n){case"blob":if(t instanceof Blob){return t}else{return new Blob([t])}case"arraybuffer":default:if(t instanceof ArrayBuffer){return t}else{return t.buffer}}};const pi=String.fromCharCode(30);const yi=(t,n)=>{const e=t.length;const i=new Array(e);let r=0;t.forEach(((t,o)=>{ii(t,false,(t=>{i[o]=t;if(++r===e){n(i.join(pi))}}))}))};const mi=(t,n)=>{const e=t.split(pi);const i=[];for(let t=0;t<e.length;t++){const r=hi(e[t],n);i.push(r);if(r.type==="error"){break}}return i};function bi(){return new TransformStream({transform(t,n){ui(t,(e=>{const i=e.length;let r;if(i<126){r=new Uint8Array(1);new DataView(r.buffer).setUint8(0,i)}else if(i<65536){r=new Uint8Array(3);const t=new DataView(r.buffer);t.setUint8(0,126);t.setUint16(1,i)}else{r=new Uint8Array(9);const t=new DataView(r.buffer);t.setUint8(0,127);t.setBigUint64(1,BigInt(i))}if(t.data&&typeof t.data!=="string"){r[0]|=128}n.enqueue(r);n.enqueue(e)}))}})}let wi;function gi(t){return t.reduce(((t,n)=>t+n.length),0)}function Oi(t,n){if(t[0].length===n){return t.shift()}const e=new Uint8Array(n);let i=0;for(let r=0;r<n;r++){e[r]=t[0][i++];if(i===t[0].length){t.shift();i=0}}if(t.length&&i<t[0].length){t[0]=t[0].slice(i)}return e}function Ei(t,n){if(!wi){wi=new TextDecoder}const e=[];let i=0;let r=-1;let o=false;return new TransformStream({transform(s,u){e.push(s);while(true){if(i===0){if(gi(e)<1){break}const t=Oi(e,1);o=(t[0]&128)===128;r=t[0]&127;if(r<126){i=3}else if(r===126){i=1}else{i=2}}else if(i===1){if(gi(e)<2){break}const t=Oi(e,2);r=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0);i=3}else if(i===2){if(gi(e)<8){break}const t=Oi(e,8);const n=new DataView(t.buffer,t.byteOffset,t.length);const o=n.getUint32(0);if(o>Math.pow(2,53-32)-1){u.enqueue(Ze);break}r=o*Math.pow(2,32)+n.getUint32(4);i=3}else{if(gi(e)<r){break}const t=Oi(e,r);u.enqueue(hi(o?t:wi.decode(t),n));i=0}if(r===0||r>t){u.enqueue(Ze);break}}}})}const Ii=4;function ki(t){if(t)return Ti(t)}function Ti(t){for(var n in ki.prototype){t[n]=ki.prototype[n]}return t}ki.prototype.on=ki.prototype.addEventListener=function(t,n){this._callbacks=this._callbacks||{};(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n);return this};ki.prototype.once=function(t,n){function e(){this.off(t,e);n.apply(this,arguments)}e.fn=n;this.on(t,e);return this};ki.prototype.off=ki.prototype.removeListener=ki.prototype.removeAllListeners=ki.prototype.removeEventListener=function(t,n){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var e=this._callbacks["$"+t];if(!e)return this;if(1==arguments.length){delete this._callbacks["$"+t];return this}var i;for(var r=0;r<e.length;r++){i=e[r];if(i===n||i.fn===n){e.splice(r,1);break}}if(e.length===0){delete this._callbacks["$"+t]}return this};ki.prototype.emit=function(t){this._callbacks=this._callbacks||{};var n=new Array(arguments.length-1),e=this._callbacks["$"+t];for(var i=1;i<arguments.length;i++){n[i-1]=arguments[i]}if(e){e=e.slice(0);for(var i=0,r=e.length;i<r;++i){e[i].apply(this,n)}}return this};ki.prototype.emitReserved=ki.prototype.emit;ki.prototype.listeners=function(t){this._callbacks=this._callbacks||{};return this._callbacks["$"+t]||[]};ki.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Si=(()=>{if(typeof self!=="undefined"){return self}else if(typeof window!=="undefined"){return window}else{return Function("return this")()}})();function Ni(t,...n){return n.reduce(((n,e)=>{if(t.hasOwnProperty(e)){n[e]=t[e]}return n}),{})}const xi=Si.setTimeout;const ji=Si.clearTimeout;function _i(t,n){if(n.useNativeTimers){t.setTimeoutFn=xi.bind(Si);t.clearTimeoutFn=ji.bind(Si)}else{t.setTimeoutFn=Si.setTimeout.bind(Si);t.clearTimeoutFn=Si.clearTimeout.bind(Si)}}const Ai=1.33;function Di(t){if(typeof t==="string"){return Pi(t)}return Math.ceil((t.byteLength||t.size)*Ai)}function Pi(t){let n=0,e=0;for(let i=0,r=t.length;i<r;i++){n=t.charCodeAt(i);if(n<128){e+=1}else if(n<2048){e+=2}else if(n<55296||n>=57344){e+=3}else{i++;e+=4}}return e}function Ci(t){let n="";for(let e in t){if(t.hasOwnProperty(e)){if(n.length)n+="&";n+=encodeURIComponent(e)+"="+encodeURIComponent(t[e])}}return n}function Fi(t){let n={};let e=t.split("&");for(let t=0,i=e.length;t<i;t++){let i=e[t].split("=");n[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return n}class Ri extends Error{constructor(t,n,e){super(t);this.description=n;this.context=e;this.type="TransportError"}}class Bi extends ki{constructor(t){super();this.writable=false;_i(this,t);this.opts=t;this.query=t.query;this.socket=t.socket}onError(t,n,e){super.emitReserved("error",new Ri(t,n,e));return this}open(){this.readyState="opening";this.doOpen();return this}close(){if(this.readyState==="opening"||this.readyState==="open"){this.doClose();this.onClose()}return this}send(t){if(this.readyState==="open"){this.write(t)}}onOpen(){this.readyState="open";this.writable=true;super.emitReserved("open")}onData(t){const n=hi(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed";super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){if(this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)){return":"+this.opts.port}else{return""}}_query(t){const n=Ci(t);return n.length?"?"+n:""}}const Li="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ui=64,Mi={};let Vi=0,qi=0,Gi;function $i(t){let n="";do{n=Li[t%Ui]+n;t=Math.floor(t/Ui)}while(t>0);return n}function Qi(){const t=$i(+new Date);if(t!==Gi)return Vi=0,Gi=t;return t+"."+$i(Vi++)}for(;qi<Ui;qi++)Mi[Li[qi]]=qi;let Ji=false;try{Ji=typeof XMLHttpRequest!=="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){}const Yi=Ji;function Ki(t){const n=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!n||Yi)){return new XMLHttpRequest}}catch(t){}if(!n){try{return new(Si[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}function Xi(){}function Hi(){}const Wi=function(){const t=new Ki({xdomain:false});return null!=t.responseType}();class zi extends Bi{constructor(t){super(t);this.polling=false;if(typeof location!=="undefined"){const n="https:"===location.protocol;let e=location.port;if(!e){e=n?"443":"80"}this.xd=typeof location!=="undefined"&&t.hostname!==location.hostname||e!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Wi&&!n;if(this.opts.withCredentials){this.cookieJar=Xi()}}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused";t()};if(this.polling||!this.writable){let t=0;if(this.polling){t++;this.once("pollComplete",(function(){--t||n()}))}if(!this.writable){t++;this.once("drain",(function(){--t||n()}))}}else{n()}}poll(){this.polling=true;this.doPoll();this.emitReserved("poll")}onData(t){const n=t=>{if("opening"===this.readyState&&t.type==="open"){this.onOpen()}if("close"===t.type){this.onClose({description:"transport closed by the server"});return false}this.onPacket(t)};mi(t,this.socket.binaryType).forEach(n);if("closed"!==this.readyState){this.polling=false;this.emitReserved("pollComplete");if("open"===this.readyState){this.poll()}}}doClose(){const t=()=>{this.write([{type:"close"}])};if("open"===this.readyState){t()}else{this.once("open",t)}}write(t){this.writable=false;yi(t,(t=>{this.doWrite(t,(()=>{this.writable=true;this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http";const n=this.query||{};if(false!==this.opts.timestampRequests){n[this.opts.timestampParam]=Qi()}if(!this.supportsBinary&&!n.sid){n.b64=1}return this.createUri(t,n)}request(t={}){Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts);return new Zi(this.uri(),t)}doWrite(t,n){const e=this.request({method:"POST",data:t});e.on("success",n);e.on("error",((t,n)=>{this.onError("xhr post error",t,n)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this));t.on("error",((t,n)=>{this.onError("xhr poll error",t,n)}));this.pollXhr=t}}class Zi extends ki{constructor(t,n){super();_i(this,n);this.opts=n;this.method=n.method||"GET";this.uri=t;this.data=undefined!==n.data?n.data:null;this.create()}create(){var t;const n=Ni(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const e=this.xhr=new Ki(n);try{e.open(this.method,this.uri,true);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(true);for(let t in this.opts.extraHeaders){if(this.opts.extraHeaders.hasOwnProperty(t)){e.setRequestHeader(t,this.opts.extraHeaders[t])}}}}catch(t){}if("POST"===this.method){try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}}try{e.setRequestHeader("Accept","*/*")}catch(t){}(t=this.opts.cookieJar)===null||t===void 0?void 0:t.addCookies(e);if("withCredentials"in e){e.withCredentials=this.opts.withCredentials}if(this.opts.requestTimeout){e.timeout=this.opts.requestTimeout}e.onreadystatechange=()=>{var t;if(e.readyState===3){(t=this.opts.cookieJar)===null||t===void 0?void 0:t.parseCookies(e)}if(4!==e.readyState)return;if(200===e.status||1223===e.status){this.onLoad()}else{this.setTimeoutFn((()=>{this.onError(typeof e.status==="number"?e.status:0)}),0)}};e.send(this.data)}catch(t){this.setTimeoutFn((()=>{this.onError(t)}),0);return}if(typeof document!=="undefined"){this.index=Zi.requestsCount++;Zi.requests[this.index]=this}}onError(t){this.emitReserved("error",t,this.xhr);this.cleanup(true)}cleanup(t){if("undefined"===typeof this.xhr||null===this.xhr){return}this.xhr.onreadystatechange=Hi;if(t){try{this.xhr.abort()}catch(t){}}if(typeof document!=="undefined"){delete Zi.requests[this.index]}this.xhr=null}onLoad(){const t=this.xhr.responseText;if(t!==null){this.emitReserved("data",t);this.emitReserved("success");this.cleanup()}}abort(){this.cleanup()}}Zi.requestsCount=0;Zi.requests={};if(typeof document!=="undefined"){if(typeof attachEvent==="function"){attachEvent("onunload",tr)}else if(typeof addEventListener==="function"){const t="onpagehide"in Si?"pagehide":"unload";addEventListener(t,tr,false)}}function tr(){for(let t in Zi.requests){if(Zi.requests.hasOwnProperty(t)){Zi.requests[t].abort()}}}const nr=(()=>{const t=typeof Promise==="function"&&typeof Promise.resolve==="function";if(t){return t=>Promise.resolve().then(t)}else{return(t,n)=>n(t,0)}})();const er=Si.WebSocket||Si.MozWebSocket;const ir="arraybuffer";const rr=typeof navigator!=="undefined"&&typeof navigator.product==="string"&&navigator.product.toLowerCase()==="reactnative";class or extends Bi{constructor(t){super(t);this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check()){return}const t=this.uri();const n=this.opts.protocols;const e=rr?{}:Ni(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");if(this.opts.extraHeaders){e.headers=this.opts.extraHeaders}try{this.ws=!rr?n?new er(t,n):new er(t):new er(t,n,e)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType;this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{if(this.opts.autoUnref){this.ws._socket.unref()}this.onOpen()};this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t});this.ws.onmessage=t=>this.onData(t.data);this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=false;for(let n=0;n<t.length;n++){const e=t[n];const i=n===t.length-1;ii(e,this.supportsBinary,(t=>{try{{this.ws.send(t)}}catch(t){}if(i){nr((()=>{this.writable=true;this.emitReserved("drain")}),this.setTimeoutFn)}}))}}doClose(){if(typeof this.ws!=="undefined"){this.ws.close();this.ws=null}}uri(){const t=this.opts.secure?"wss":"ws";const n=this.query||{};if(this.opts.timestampRequests){n[this.opts.timestampParam]=Qi()}if(!this.supportsBinary){n.b64=1}return this.createUri(t,n)}check(){return!!er}}class sr extends Bi{get name(){return"webtransport"}doOpen(){if(typeof WebTransport!=="function"){return}this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]);this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)}));this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const n=Ei(Number.MAX_SAFE_INTEGER,this.socket.binaryType);const e=t.readable.pipeThrough(n).getReader();const i=bi();i.readable.pipeTo(t.writable);this.writer=i.writable.getWriter();const r=()=>{e.read().then((({done:t,value:n})=>{if(t){return}this.onPacket(n);r()})).catch((t=>{}))};r();const o={type:"open"};if(this.query.sid){o.data=`{"sid":"${this.query.sid}"}`}this.writer.write(o).then((()=>this.onOpen()))}))}))}write(t){this.writable=false;for(let n=0;n<t.length;n++){const e=t[n];const i=n===t.length-1;this.writer.write(e).then((()=>{if(i){nr((()=>{this.writable=true;this.emitReserved("drain")}),this.setTimeoutFn)}}))}}doClose(){var t;(t=this.transport)===null||t===void 0?void 0:t.close()}}const ur={websocket:or,webtransport:sr,polling:zi};const ar=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;const cr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function fr(t){if(t.length>2e3){throw"URI too long"}const n=t,e=t.indexOf("["),i=t.indexOf("]");if(e!=-1&&i!=-1){t=t.substring(0,e)+t.substring(e,i).replace(/:/g,";")+t.substring(i,t.length)}let r=ar.exec(t||""),o={},s=14;while(s--){o[cr[s]]=r[s]||""}if(e!=-1&&i!=-1){o.source=n;o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":");o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":");o.ipv6uri=true}o.pathNames=lr(o,o["path"]);o.queryKey=hr(o,o["query"]);return o}function lr(t,n){const e=/\/{2,9}/g,i=n.replace(e,"/").split("/");if(n.slice(0,1)=="/"||n.length===0){i.splice(0,1)}if(n.slice(-1)=="/"){i.splice(i.length-1,1)}return i}function hr(t,n){const e={};n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,n,i){if(n){e[n]=i}}));return e}class dr extends ki{constructor(t,n={}){super();this.binaryType=ir;this.writeBuffer=[];if(t&&"object"===typeof t){n=t;t=null}if(t){t=fr(t);n.hostname=t.host;n.secure=t.protocol==="https"||t.protocol==="wss";n.port=t.port;if(t.query)n.query=t.query}else if(n.host){n.hostname=fr(n.host).host}_i(this,n);this.secure=null!=n.secure?n.secure:typeof location!=="undefined"&&"https:"===location.protocol;if(n.hostname&&!n.port){n.port=this.secure?"443":"80"}this.hostname=n.hostname||(typeof location!=="undefined"?location.hostname:"localhost");this.port=n.port||(typeof location!=="undefined"&&location.port?location.port:this.secure?"443":"80");this.transports=n.transports||["polling","websocket","webtransport"];this.writeBuffer=[];this.prevBufferLen=0;this.opts=Object.assign({path:"/engine.io",agent:false,withCredentials:false,upgrade:true,timestampParam:"t",rememberUpgrade:false,addTrailingSlash:true,rejectUnauthorized:true,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:false},n);this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":"");if(typeof this.opts.query==="string"){this.opts.query=Fi(this.opts.query)}this.id=null;this.upgrades=null;this.pingInterval=null;this.pingTimeout=null;this.pingTimeoutTimer=null;if(typeof addEventListener==="function"){if(this.opts.closeOnBeforeunload){this.beforeunloadEventListener=()=>{if(this.transport){this.transport.removeAllListeners();this.transport.close()}};addEventListener("beforeunload",this.beforeunloadEventListener,false)}if(this.hostname!=="localhost"){this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})};addEventListener("offline",this.offlineEventListener,false)}}this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ii;n.transport=t;if(this.id)n.sid=this.id;const e=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new ur[t](e)}open(){let t;if(this.opts.rememberUpgrade&&dr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1){t="websocket"}else if(0===this.transports.length){this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);return}else{t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){this.transports.shift();this.open();return}t.open();this.setTransport(t)}setTransport(t){if(this.transport){this.transport.removeAllListeners()}this.transport=t;t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let n=this.createTransport(t);let e=false;dr.priorWebsocketSuccess=false;const i=()=>{if(e)return;n.send([{type:"ping",data:"probe"}]);n.once("packet",(t=>{if(e)return;if("pong"===t.type&&"probe"===t.data){this.upgrading=true;this.emitReserved("upgrading",n);if(!n)return;dr.priorWebsocketSuccess="websocket"===n.name;this.transport.pause((()=>{if(e)return;if("closed"===this.readyState)return;c();this.setTransport(n);n.send([{type:"upgrade"}]);this.emitReserved("upgrade",n);n=null;this.upgrading=false;this.flush()}))}else{const t=new Error("probe error");t.transport=n.name;this.emitReserved("upgradeError",t)}}))};function r(){if(e)return;e=true;c();n.close();n=null}const o=t=>{const e=new Error("probe error: "+t);e.transport=n.name;r();this.emitReserved("upgradeError",e)};function s(){o("transport closed")}function u(){o("socket closed")}function a(t){if(n&&t.name!==n.name){r()}}const c=()=>{n.removeListener("open",i);n.removeListener("error",o);n.removeListener("close",s);this.off("close",u);this.off("upgrading",a)};n.once("open",i);n.once("error",o);n.once("close",s);this.once("close",u);this.once("upgrading",a);if(this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"){this.setTimeoutFn((()=>{if(!e){n.open()}}),200)}else{n.open()}}onOpen(){this.readyState="open";dr.priorWebsocketSuccess="websocket"===this.transport.name;this.emitReserved("open");this.flush();if("open"===this.readyState&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++){this.probe(this.upgrades[t])}}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){this.emitReserved("packet",t);this.emitReserved("heartbeat");this.resetPingTimeout();switch(t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong");this.emitReserved("ping");this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data;this.onError(n);break;case"message":this.emitReserved("data",t.data);this.emitReserved("message",t.data);break}}}onHandshake(t){this.emitReserved("handshake",t);this.id=t.sid;this.transport.query.sid=t.sid;this.upgrades=this.filterUpgrades(t.upgrades);this.pingInterval=t.pingInterval;this.pingTimeout=t.pingTimeout;this.maxPayload=t.maxPayload;this.onOpen();if("closed"===this.readyState)return;this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout);if(this.opts.autoUnref){this.pingTimeoutTimer.unref()}}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;if(0===this.writeBuffer.length){this.emitReserved("drain")}else{this.flush()}}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t);this.prevBufferLen=t.length;this.emitReserved("flush")}}getWritablePackets(){const t=this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1;if(!t){return this.writeBuffer}let n=1;for(let t=0;t<this.writeBuffer.length;t++){const e=this.writeBuffer[t].data;if(e){n+=Di(e)}if(t>0&&n>this.maxPayload){return this.writeBuffer.slice(0,t)}n+=2}return this.writeBuffer}write(t,n,e){this.sendPacket("message",t,n,e);return this}send(t,n,e){this.sendPacket("message",t,n,e);return this}sendPacket(t,n,e,i){if("function"===typeof n){i=n;n=undefined}if("function"===typeof e){i=e;e=null}if("closing"===this.readyState||"closed"===this.readyState){return}e=e||{};e.compress=false!==e.compress;const r={type:t,data:n,options:e};this.emitReserved("packetCreate",r);this.writeBuffer.push(r);if(i)this.once("flush",i);this.flush()}close(){const t=()=>{this.onClose("forced close");this.transport.close()};const n=()=>{this.off("upgrade",n);this.off("upgradeError",n);t()};const e=()=>{this.once("upgrade",n);this.once("upgradeError",n)};if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";if(this.writeBuffer.length){this.once("drain",(()=>{if(this.upgrading){e()}else{t()}}))}else if(this.upgrading){e()}else{t()}}return this}onError(t){dr.priorWebsocketSuccess=false;this.emitReserved("error",t);this.onClose("transport error",t)}onClose(t,n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){this.clearTimeoutFn(this.pingTimeoutTimer);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();if(typeof removeEventListener==="function"){removeEventListener("beforeunload",this.beforeunloadEventListener,false);removeEventListener("offline",this.offlineEventListener,false)}this.readyState="closed";this.id=null;this.emitReserved("close",t,n);this.writeBuffer=[];this.prevBufferLen=0}}filterUpgrades(t){const n=[];let e=0;const i=t.length;for(;e<i;e++){if(~this.transports.indexOf(t[e]))n.push(t[e])}return n}}dr.protocol=Ii;function vr(t,n="",e){let i=t;e=e||typeof location!=="undefined"&&location;if(null==t)t=e.protocol+"//"+e.host;if(typeof t==="string"){if("/"===t.charAt(0)){if("/"===t.charAt(1)){t=e.protocol+t}else{t=e.host+t}}if(!/^(https?|wss?):\/\//.test(t)){if("undefined"!==typeof e){t=e.protocol+"//"+t}else{t="https://"+t}}i=fr(t)}if(!i.port){if(/^(http|ws)$/.test(i.protocol)){i.port="80"}else if(/^(http|ws)s$/.test(i.protocol)){i.port="443"}}i.path=i.path||"/";const r=i.host.indexOf(":")!==-1;const o=r?"["+i.host+"]":i.host;i.id=i.protocol+"://"+o+":"+i.port+n;i.href=i.protocol+"://"+o+(e&&e.port===i.port?"":":"+i.port);return i}const pr=typeof ArrayBuffer==="function";const yr=t=>typeof ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer;const mr=Object.prototype.toString;const br=typeof Blob==="function"||typeof Blob!=="undefined"&&mr.call(Blob)==="[object BlobConstructor]";const wr=typeof File==="function"||typeof File!=="undefined"&&mr.call(File)==="[object FileConstructor]";function gr(t){return pr&&(t instanceof ArrayBuffer||yr(t))||br&&t instanceof Blob||wr&&t instanceof File}function Or(t,n){if(!t||typeof t!=="object"){return false}if(Array.isArray(t)){for(let n=0,e=t.length;n<e;n++){if(Or(t[n])){return true}}return false}if(gr(t)){return true}if(t.toJSON&&typeof t.toJSON==="function"&&arguments.length===1){return Or(t.toJSON(),true)}for(const n in t){if(Object.prototype.hasOwnProperty.call(t,n)&&Or(t[n])){return true}}return false}function Er(t){const n=[];const e=t.data;const i=t;i.data=Ir(e,n);i.attachments=n.length;return{packet:i,buffers:n}}function Ir(t,n){if(!t)return t;if(gr(t)){const e={_placeholder:true,num:n.length};n.push(t);return e}else if(Array.isArray(t)){const e=new Array(t.length);for(let i=0;i<t.length;i++){e[i]=Ir(t[i],n)}return e}else if(typeof t==="object"&&!(t instanceof Date)){const e={};for(const i in t){if(Object.prototype.hasOwnProperty.call(t,i)){e[i]=Ir(t[i],n)}}return e}return t}function kr(t,n){t.data=Tr(t.data,n);delete t.attachments;return t}function Tr(t,n){if(!t)return t;if(t&&t._placeholder===true){const e=typeof t.num==="number"&&t.num>=0&&t.num<n.length;if(e){return n[t.num]}else{throw new Error("illegal attachments")}}else if(Array.isArray(t)){for(let e=0;e<t.length;e++){t[e]=Tr(t[e],n)}}else if(typeof t==="object"){for(const e in t){if(Object.prototype.hasOwnProperty.call(t,e)){t[e]=Tr(t[e],n)}}}return t}const Sr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];const Nr=5;var xr;(function(t){t[t["CONNECT"]=0]="CONNECT";t[t["DISCONNECT"]=1]="DISCONNECT";t[t["EVENT"]=2]="EVENT";t[t["ACK"]=3]="ACK";t[t["CONNECT_ERROR"]=4]="CONNECT_ERROR";t[t["BINARY_EVENT"]=5]="BINARY_EVENT";t[t["BINARY_ACK"]=6]="BINARY_ACK"})(xr||(xr={}));class jr{constructor(t){this.replacer=t}encode(t){if(t.type===xr.EVENT||t.type===xr.ACK){if(Or(t)){return this.encodeAsBinary({type:t.type===xr.EVENT?xr.BINARY_EVENT:xr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}}return[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;if(t.type===xr.BINARY_EVENT||t.type===xr.BINARY_ACK){n+=t.attachments+"-"}if(t.nsp&&"/"!==t.nsp){n+=t.nsp+","}if(null!=t.id){n+=t.id}if(null!=t.data){n+=JSON.stringify(t.data,this.replacer)}return n}encodeAsBinary(t){const n=Er(t);const e=this.encodeAsString(n.packet);const i=n.buffers;i.unshift(e);return i}}function _r(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ar extends ki{constructor(t){super();this.reviver=t}add(t){let n;if(typeof t==="string"){if(this.reconstructor){throw new Error("got plaintext data when reconstructing a packet")}n=this.decodeString(t);const e=n.type===xr.BINARY_EVENT;if(e||n.type===xr.BINARY_ACK){n.type=e?xr.EVENT:xr.ACK;this.reconstructor=new Dr(n);if(n.attachments===0){super.emitReserved("decoded",n)}}else{super.emitReserved("decoded",n)}}else if(gr(t)||t.base64){if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}else{n=this.reconstructor.takeBinaryData(t);if(n){this.reconstructor=null;super.emitReserved("decoded",n)}}}else{throw new Error("Unknown type: "+t)}}decodeString(t){let n=0;const e={type:Number(t.charAt(0))};if(xr[e.type]===undefined){throw new Error("unknown packet type "+e.type)}if(e.type===xr.BINARY_EVENT||e.type===xr.BINARY_ACK){const i=n+1;while(t.charAt(++n)!=="-"&&n!=t.length){}const r=t.substring(i,n);if(r!=Number(r)||t.charAt(n)!=="-"){throw new Error("Illegal attachments")}e.attachments=Number(r)}if("/"===t.charAt(n+1)){const i=n+1;while(++n){const e=t.charAt(n);if(","===e)break;if(n===t.length)break}e.nsp=t.substring(i,n)}else{e.nsp="/"}const i=t.charAt(n+1);if(""!==i&&Number(i)==i){const i=n+1;while(++n){const e=t.charAt(n);if(null==e||Number(e)!=e){--n;break}if(n===t.length)break}e.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Ar.isPayloadValid(e.type,i)){e.data=i}else{throw new Error("invalid payload")}}return e}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return false}}static isPayloadValid(t,n){switch(t){case xr.CONNECT:return _r(n);case xr.DISCONNECT:return n===undefined;case xr.CONNECT_ERROR:return typeof n==="string"||_r(n);case xr.EVENT:case xr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]==="number"||typeof n[0]==="string"&&Sr.indexOf(n[0])===-1);case xr.ACK:case xr.BINARY_ACK:return Array.isArray(n)}}destroy(){if(this.reconstructor){this.reconstructor.finishedReconstruction();this.reconstructor=null}}}class Dr{constructor(t){this.packet=t;this.buffers=[];this.reconPack=t}takeBinaryData(t){this.buffers.push(t);if(this.buffers.length===this.reconPack.attachments){const t=kr(this.reconPack,this.buffers);this.finishedReconstruction();return t}return null}finishedReconstruction(){this.reconPack=null;this.buffers=[]}}const Pr=Object.freeze({__proto__:null,protocol:Nr,get PacketType(){return xr},Encoder:jr,Decoder:Ar});function Cr(t,n,e){t.on(n,e);return function i(){t.off(n,e)}}const Fr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Rr extends ki{constructor(t,n,e){super();this.connected=false;this.recovered=false;this.receiveBuffer=[];this.sendBuffer=[];this._queue=[];this._queueSeq=0;this.ids=0;this.acks={};this.flags={};this.io=t;this.nsp=n;if(e&&e.auth){this.auth=e.auth}this._opts=Object.assign({},e);if(this.io._autoConnect)this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Cr(t,"open",this.onopen.bind(this)),Cr(t,"packet",this.onpacket.bind(this)),Cr(t,"error",this.onerror.bind(this)),Cr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){if(this.connected)return this;this.subEvents();if(!this.io["_reconnecting"])this.io.open();if("open"===this.io._readyState)this.onopen();return this}open(){return this.connect()}send(...t){t.unshift("message");this.emit.apply(this,t);return this}emit(t,...n){if(Fr.hasOwnProperty(t)){throw new Error('"'+t.toString()+'" is a reserved event name')}n.unshift(t);if(this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile){this._addToQueue(n);return this}const e={type:xr.EVENT,data:n};e.options={};e.options.compress=this.flags.compress!==false;if("function"===typeof n[n.length-1]){const t=this.ids++;const i=n.pop();this._registerAckCallback(t,i);e.id=t}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;const r=this.flags.volatile&&(!i||!this.connected);if(r);else if(this.connected){this.notifyOutgoingListeners(e);this.packet(e)}else{this.sendBuffer.push(e)}this.flags={};return this}_registerAckCallback(t,n){var e;const i=(e=this.flags.timeout)!==null&&e!==void 0?e:this._opts.ackTimeout;if(i===undefined){this.acks[t]=n;return}const r=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let n=0;n<this.sendBuffer.length;n++){if(this.sendBuffer[n].id===t){this.sendBuffer.splice(n,1)}}n.call(this,new Error("operation has timed out"))}),i);const o=(...t)=>{this.io.clearTimeoutFn(r);n.apply(this,t)};o.withError=true;this.acks[t]=o}emitWithAck(t,...n){return new Promise(((e,i)=>{const r=(t,n)=>t?i(t):e(n);r.withError=true;n.push(r);this.emit(t,...n)}))}_addToQueue(t){let n;if(typeof t[t.length-1]==="function"){n=t.pop()}const e={id:this._queueSeq++,tryCount:0,pending:false,args:t,flags:Object.assign({fromQueue:true},this.flags)};t.push(((t,...i)=>{if(e!==this._queue[0]){return}const r=t!==null;if(r){if(e.tryCount>this._opts.retries){this._queue.shift();if(n){n(t)}}}else{this._queue.shift();if(n){n(null,...i)}}e.pending=false;return this._drainQueue()}));this._queue.push(e);this._drainQueue()}_drainQueue(t=false){if(!this.connected||this._queue.length===0){return}const n=this._queue[0];if(n.pending&&!t){return}n.pending=true;n.tryCount++;this.flags=n.flags;this.emit.apply(this,n.args)}packet(t){t.nsp=this.nsp;this.io._packet(t)}onopen(){if(typeof this.auth=="function"){this.auth((t=>{this._sendConnectPacket(t)}))}else{this._sendConnectPacket(this.auth)}}_sendConnectPacket(t){this.packet({type:xr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){if(!this.connected){this.emitReserved("connect_error",t)}}onclose(t,n){this.connected=false;delete this.id;this.emitReserved("disconnect",t,n);this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{const n=this.sendBuffer.some((n=>String(n.id)===t));if(!n){const n=this.acks[t];delete this.acks[t];if(n.withError){n.call(this,new Error("socket has been disconnected"))}}}))}onpacket(t){const n=t.nsp===this.nsp;if(!n)return;switch(t.type){case xr.CONNECT:if(t.data&&t.data.sid){this.onconnect(t.data.sid,t.data.pid)}else{this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"))}break;case xr.EVENT:case xr.BINARY_EVENT:this.onevent(t);break;case xr.ACK:case xr.BINARY_ACK:this.onack(t);break;case xr.DISCONNECT:this.ondisconnect();break;case xr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data;this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];if(null!=t.id){n.push(this.ack(t.id))}if(this.connected){this.emitEvent(n)}else{this.receiveBuffer.push(Object.freeze(n))}}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const e of n){e.apply(this,t)}}super.emit.apply(this,t);if(this._pid&&t.length&&typeof t[t.length-1]==="string"){this._lastOffset=t[t.length-1]}}ack(t){const n=this;let e=false;return function(...i){if(e)return;e=true;n.packet({type:xr.ACK,id:t,data:i})}}onack(t){const n=this.acks[t.id];if(typeof n!=="function"){return}delete this.acks[t.id];if(n.withError){t.data.unshift(null)}n.apply(this,t.data)}onconnect(t,n){this.id=t;this.recovered=n&&this._pid===n;this._pid=n;this.connected=true;this.emitBuffered();this.emitReserved("connect");this._drainQueue(true)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t)));this.receiveBuffer=[];this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t);this.packet(t)}));this.sendBuffer=[]}ondisconnect(){this.destroy();this.onclose("io server disconnect")}destroy(){if(this.subs){this.subs.forEach((t=>t()));this.subs=undefined}this.io["_destroy"](this)}disconnect(){if(this.connected){this.packet({type:xr.DISCONNECT})}this.destroy();if(this.connected){this.onclose("io client disconnect")}return this}close(){return this.disconnect()}compress(t){this.flags.compress=t;return this}get volatile(){this.flags.volatile=true;return this}timeout(t){this.flags.timeout=t;return this}onAny(t){this._anyListeners=this._anyListeners||[];this._anyListeners.push(t);return this}prependAny(t){this._anyListeners=this._anyListeners||[];this._anyListeners.unshift(t);return this}offAny(t){if(!this._anyListeners){return this}if(t){const n=this._anyListeners;for(let e=0;e<n.length;e++){if(t===n[e]){n.splice(e,1);return this}}}else{this._anyListeners=[]}return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){this._anyOutgoingListeners=this._anyOutgoingListeners||[];this._anyOutgoingListeners.push(t);return this}prependAnyOutgoing(t){this._anyOutgoingListeners=this._anyOutgoingListeners||[];this._anyOutgoingListeners.unshift(t);return this}offAnyOutgoing(t){if(!this._anyOutgoingListeners){return this}if(t){const n=this._anyOutgoingListeners;for(let e=0;e<n.length;e++){if(t===n[e]){n.splice(e,1);return this}}}else{this._anyOutgoingListeners=[]}return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const e of n){e.apply(this,t.data)}}}}function Br(t){t=t||{};this.ms=t.min||100;this.max=t.max||1e4;this.factor=t.factor||2;this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0;this.attempts=0}Br.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random();var e=Math.floor(n*this.jitter*t);t=(Math.floor(n*10)&1)==0?t-e:t+e}return Math.min(t,this.max)|0};Br.prototype.reset=function(){this.attempts=0};Br.prototype.setMin=function(t){this.ms=t};Br.prototype.setMax=function(t){this.max=t};Br.prototype.setJitter=function(t){this.jitter=t};class Lr extends ki{constructor(t,n){var e;super();this.nsps={};this.subs=[];if(t&&"object"===typeof t){n=t;t=undefined}n=n||{};n.path=n.path||"/socket.io";this.opts=n;_i(this,n);this.reconnection(n.reconnection!==false);this.reconnectionAttempts(n.reconnectionAttempts||Infinity);this.reconnectionDelay(n.reconnectionDelay||1e3);this.reconnectionDelayMax(n.reconnectionDelayMax||5e3);this.randomizationFactor((e=n.randomizationFactor)!==null&&e!==void 0?e:.5);this.backoff=new Br({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==n.timeout?2e4:n.timeout);this._readyState="closed";this.uri=t;const i=n.parser||Pr;this.encoder=new i.Encoder;this.decoder=new i.Decoder;this._autoConnect=n.autoConnect!==false;if(this._autoConnect)this.open()}reconnection(t){if(!arguments.length)return this._reconnection;this._reconnection=!!t;return this}reconnectionAttempts(t){if(t===undefined)return this._reconnectionAttempts;this._reconnectionAttempts=t;return this}reconnectionDelay(t){var n;if(t===undefined)return this._reconnectionDelay;this._reconnectionDelay=t;(n=this.backoff)===null||n===void 0?void 0:n.setMin(t);return this}randomizationFactor(t){var n;if(t===undefined)return this._randomizationFactor;this._randomizationFactor=t;(n=this.backoff)===null||n===void 0?void 0:n.setJitter(t);return this}reconnectionDelayMax(t){var n;if(t===undefined)return this._reconnectionDelayMax;this._reconnectionDelayMax=t;(n=this.backoff)===null||n===void 0?void 0:n.setMax(t);return this}timeout(t){if(!arguments.length)return this._timeout;this._timeout=t;return this}maybeReconnectOnOpen(){if(!this._reconnecting&&this._reconnection&&this.backoff.attempts===0){this.reconnect()}}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new dr(this.uri,this.opts);const n=this.engine;const e=this;this._readyState="opening";this.skipReconnect=false;const i=Cr(n,"open",(function(){e.onopen();t&&t()}));const r=n=>{this.cleanup();this._readyState="closed";this.emitReserved("error",n);if(t){t(n)}else{this.maybeReconnectOnOpen()}};const o=Cr(n,"error",r);if(false!==this._timeout){const t=this._timeout;const e=this.setTimeoutFn((()=>{i();r(new Error("timeout"));n.close()}),t);if(this.opts.autoUnref){e.unref()}this.subs.push((()=>{this.clearTimeoutFn(e)}))}this.subs.push(i);this.subs.push(o);return this}connect(t){return this.open(t)}onopen(){this.cleanup();this._readyState="open";this.emitReserved("open");const t=this.engine;this.subs.push(Cr(t,"ping",this.onping.bind(this)),Cr(t,"data",this.ondata.bind(this)),Cr(t,"error",this.onerror.bind(this)),Cr(t,"close",this.onclose.bind(this)),Cr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){nr((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let e=this.nsps[t];if(!e){e=new Rr(this,t,n);this.nsps[t]=e}else if(this._autoConnect&&!e.active){e.connect()}return e}_destroy(t){const n=Object.keys(this.nsps);for(const t of n){const n=this.nsps[t];if(n.active){return}}this._close()}_packet(t){const n=this.encoder.encode(t);for(let e=0;e<n.length;e++){this.engine.write(n[e],t.options)}}cleanup(){this.subs.forEach((t=>t()));this.subs.length=0;this.decoder.destroy()}_close(){this.skipReconnect=true;this._reconnecting=false;this.onclose("forced close");if(this.engine)this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup();this.backoff.reset();this._readyState="closed";this.emitReserved("close",t,n);if(this._reconnection&&!this.skipReconnect){this.reconnect()}}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts){this.backoff.reset();this.emitReserved("reconnect_failed");this._reconnecting=false}else{const n=this.backoff.duration();this._reconnecting=true;const e=this.setTimeoutFn((()=>{if(t.skipReconnect)return;this.emitReserved("reconnect_attempt",t.backoff.attempts);if(t.skipReconnect)return;t.open((n=>{if(n){t._reconnecting=false;t.reconnect();this.emitReserved("reconnect_error",n)}else{t.onreconnect()}}))}),n);if(this.opts.autoUnref){e.unref()}this.subs.push((()=>{this.clearTimeoutFn(e)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=false;this.backoff.reset();this.emitReserved("reconnect",t)}}const Ur={};function Mr(t,n){if(typeof t==="object"){n=t;t=undefined}n=n||{};const e=vr(t,n.path||"/socket.io");const i=e.source;const r=e.id;const o=e.path;const s=Ur[r]&&o in Ur[r]["nsps"];const u=n.forceNew||n["force new connection"]||false===n.multiplex||s;let a;if(u){a=new Lr(i,n)}else{if(!Ur[r]){Ur[r]=new Lr(i,n)}a=Ur[r]}if(e.query&&!n.query){n.query=e.queryKey}return a.socket(e.path,n)}Object.assign(Mr,{Manager:Lr,Socket:Rr,io:Mr,connect:Mr});var Vr=Array.isArray;var qr=Vr;var Gr=typeof t=="object"&&t&&t.Object===Object&&t;var $r=Gr;var Qr=$r;var Jr=typeof self=="object"&&self&&self.Object===Object&&self;var Yr=Qr||Jr||Function("return this")();var Kr=Yr;var Xr=Kr;var Hr=Xr.Symbol;var Wr=Hr;var zr=Wr;var Zr=Object.prototype;var to=Zr.hasOwnProperty;var no=Zr.toString;var eo=zr?zr.toStringTag:undefined;function io(t){var n=to.call(t,eo),e=t[eo];try{t[eo]=undefined;var i=true}catch(t){}var r=no.call(t);if(i){if(n){t[eo]=e}else{delete t[eo]}}return r}var ro=io;var oo=Object.prototype;var so=oo.toString;function uo(t){return so.call(t)}var ao=uo;var co=Wr,fo=ro,lo=ao;var ho="[object Null]",vo="[object Undefined]";var po=co?co.toStringTag:undefined;function yo(t){if(t==null){return t===undefined?vo:ho}return po&&po in Object(t)?fo(t):lo(t)}var mo=yo;function bo(t){return t!=null&&typeof t=="object"}var wo=bo;var go=mo,Oo=wo;var Eo="[object Symbol]";function Io(t){return typeof t=="symbol"||Oo(t)&&go(t)==Eo}var ko=Io;var To=qr,So=ko;var No=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xo=/^\w*$/;function jo(t,n){if(To(t)){return false}var e=typeof t;if(e=="number"||e=="symbol"||e=="boolean"||t==null||So(t)){return true}return xo.test(t)||!No.test(t)||n!=null&&t in Object(n)}var _o=jo;function Ao(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var Do=Ao;var Po=mo,Co=Do;var Fo="[object AsyncFunction]",Ro="[object Function]",Bo="[object GeneratorFunction]",Lo="[object Proxy]";function Uo(t){if(!Co(t)){return false}var n=Po(t);return n==Ro||n==Bo||n==Fo||n==Lo}var Mo=Uo;var Vo=Kr;var qo=Vo["__core-js_shared__"];var Go=qo;var $o=Go;var Qo=function(){var t=/[^.]+$/.exec($o&&$o.keys&&$o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Jo(t){return!!Qo&&Qo in t}var Yo=Jo;var Ko=Function.prototype;var Xo=Ko.toString;function Ho(t){if(t!=null){try{return Xo.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Wo=Ho;var zo=Mo,Zo=Yo,ts=Do,ns=Wo;var es=/[\\^$.*+?()[\]{}|]/g;var is=/^\[object .+?Constructor\]$/;var rs=Function.prototype,os=Object.prototype;var ss=rs.toString;var us=os.hasOwnProperty;var as=RegExp("^"+ss.call(us).replace(es,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cs(t){if(!ts(t)||Zo(t)){return false}var n=zo(t)?as:is;return n.test(ns(t))}var fs=cs;function ls(t,n){return t==null?undefined:t[n]}var hs=ls;var ds=fs,vs=hs;function ps(t,n){var e=vs(t,n);return ds(e)?e:undefined}var ys=ps;var ms=ys;var bs=ms(Object,"create");var ws=bs;var gs=ws;function Os(){this.__data__=gs?gs(null):{};this.size=0}var Es=Os;function Is(t){var n=this.has(t)&&delete this.__data__[t];this.size-=n?1:0;return n}var ks=Is;var Ts=ws;var Ss="__lodash_hash_undefined__";var Ns=Object.prototype;var xs=Ns.hasOwnProperty;function js(t){var n=this.__data__;if(Ts){var e=n[t];return e===Ss?undefined:e}return xs.call(n,t)?n[t]:undefined}var _s=js;var As=ws;var Ds=Object.prototype;var Ps=Ds.hasOwnProperty;function Cs(t){var n=this.__data__;return As?n[t]!==undefined:Ps.call(n,t)}var Fs=Cs;var Rs=ws;var Bs="__lodash_hash_undefined__";function Ls(t,n){var e=this.__data__;this.size+=this.has(t)?0:1;e[t]=Rs&&n===undefined?Bs:n;return this}var Us=Ls;var Ms=Es,Vs=ks,qs=_s,Gs=Fs,$s=Us;function Qs(t){var n=-1,e=t==null?0:t.length;this.clear();while(++n<e){var i=t[n];this.set(i[0],i[1])}}Qs.prototype.clear=Ms;Qs.prototype["delete"]=Vs;Qs.prototype.get=qs;Qs.prototype.has=Gs;Qs.prototype.set=$s;var Js=Qs;function Ys(){this.__data__=[];this.size=0}var Ks=Ys;function Xs(t,n){return t===n||t!==t&&n!==n}var Hs=Xs;var Ws=Hs;function zs(t,n){var e=t.length;while(e--){if(Ws(t[e][0],n)){return e}}return-1}var Zs=zs;var tu=Zs;var nu=Array.prototype;var eu=nu.splice;function iu(t){var n=this.__data__,e=tu(n,t);if(e<0){return false}var i=n.length-1;if(e==i){n.pop()}else{eu.call(n,e,1)}--this.size;return true}var ru=iu;var ou=Zs;function su(t){var n=this.__data__,e=ou(n,t);return e<0?undefined:n[e][1]}var uu=su;var au=Zs;function cu(t){return au(this.__data__,t)>-1}var fu=cu;var lu=Zs;function hu(t,n){var e=this.__data__,i=lu(e,t);if(i<0){++this.size;e.push([t,n])}else{e[i][1]=n}return this}var du=hu;var vu=Ks,pu=ru,yu=uu,mu=fu,bu=du;function wu(t){var n=-1,e=t==null?0:t.length;this.clear();while(++n<e){var i=t[n];this.set(i[0],i[1])}}wu.prototype.clear=vu;wu.prototype["delete"]=pu;wu.prototype.get=yu;wu.prototype.has=mu;wu.prototype.set=bu;var gu=wu;var Ou=ys,Eu=Kr;var Iu=Ou(Eu,"Map");var ku=Iu;var Tu=Js,Su=gu,Nu=ku;function xu(){this.size=0;this.__data__={hash:new Tu,map:new(Nu||Su),string:new Tu}}var ju=xu;function _u(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}var Au=_u;var Du=Au;function Pu(t,n){var e=t.__data__;return Du(n)?e[typeof n=="string"?"string":"hash"]:e.map}var Cu=Pu;var Fu=Cu;function Ru(t){var n=Fu(this,t)["delete"](t);this.size-=n?1:0;return n}var Bu=Ru;var Lu=Cu;function Uu(t){return Lu(this,t).get(t)}var Mu=Uu;var Vu=Cu;function qu(t){return Vu(this,t).has(t)}var Gu=qu;var $u=Cu;function Qu(t,n){var e=$u(this,t),i=e.size;e.set(t,n);this.size+=e.size==i?0:1;return this}var Ju=Qu;var Yu=ju,Ku=Bu,Xu=Mu,Hu=Gu,Wu=Ju;function zu(t){var n=-1,e=t==null?0:t.length;this.clear();while(++n<e){var i=t[n];this.set(i[0],i[1])}}zu.prototype.clear=Yu;zu.prototype["delete"]=Ku;zu.prototype.get=Xu;zu.prototype.has=Hu;zu.prototype.set=Wu;var Zu=zu;var ta=Zu;var na="Expected a function";function ea(t,n){if(typeof t!="function"||n!=null&&typeof n!="function"){throw new TypeError(na)}var e=function(){var i=arguments,r=n?n.apply(this,i):i[0],o=e.cache;if(o.has(r)){return o.get(r)}var s=t.apply(this,i);e.cache=o.set(r,s)||o;return s};e.cache=new(ea.Cache||ta);return e}ea.Cache=ta;var ia=ea;var ra=ia;var oa=500;function sa(t){var n=ra(t,(function(t){if(e.size===oa){e.clear()}return t}));var e=n.cache;return n}var ua=sa;var aa=ua;var ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var fa=/\\(\\)?/g;var la=aa((function(t){var n=[];if(t.charCodeAt(0)===46){n.push("")}t.replace(ca,(function(t,e,i,r){n.push(i?r.replace(fa,"$1"):e||t)}));return n}));var ha=la;function da(t,n){var e=-1,i=t==null?0:t.length,r=Array(i);while(++e<i){r[e]=n(t[e],e,t)}return r}var va=da;var pa=Wr,ya=va,ma=qr,ba=ko;var wa=1/0;var ga=pa?pa.prototype:undefined,Oa=ga?ga.toString:undefined;function Ea(t){if(typeof t=="string"){return t}if(ma(t)){return ya(t,Ea)+""}if(ba(t)){return Oa?Oa.call(t):""}var n=t+"";return n=="0"&&1/t==-wa?"-0":n}var Ia=Ea;var ka=Ia;function Ta(t){return t==null?"":ka(t)}var Sa=Ta;var Na=qr,xa=_o,ja=ha,_a=Sa;function Aa(t,n){if(Na(t)){return t}return xa(t,n)?[t]:ja(_a(t))}var Da=Aa;var Pa=ko;var Ca=1/0;function Fa(t){if(typeof t=="string"||Pa(t)){return t}var n=t+"";return n=="0"&&1/t==-Ca?"-0":n}var Ra=Fa;var Ba=Da,La=Ra;function Ua(t,n){n=Ba(n,t);var e=0,i=n.length;while(t!=null&&e<i){t=t[La(n[e++])]}return e&&e==i?t:undefined}var Ma=Ua;var Va=Ma;function qa(t,n,e){var i=t==null?undefined:Va(t,n);return i===undefined?e:i}var Ga=qa;const $a=t=>{const{releaseDate:n}=t||{};if(!n)return true;const{now:e,releaseDate:i}=n;return Number(e)>=Number(i)};const Qa=t=>{const{balance:n,isSellOutOfStock:e}=t||{};return!!n&&n>0||e};const Ja=t=>{const{price:n}=t||{};return n&&!!Number(n)};class Ya{static adapterIBuyTogetherToComponentData(t,n=false){this.isFirstLoad=n;const e={productMain:this.adapterToProductCard(t.product),products:t.productsPivot.map((t=>this.adapterPivotToProductCard(t))),originalData:t};this.isFirstLoad=false;return e}static adapterPivotToProductCard(t){return Object.assign(Object.assign({},this.adapterToProductCard(t)),{isCheck:true})}static adapterToProductCard(t){var n;const e=n=>{const e=n.find((t=>t.method==="pix"));if(e){const n=t.price*Number(e.markup);return n}return null};e(t.payments);const{price:i,priceCompare:r,id:o}=this.getValuesByVariation(t);return{price:i,priceBase:r,id:o,productId:t.productId,image:((n=t.images)===null||n===void 0?void 0:n.length)?t.images[0]:{src:""},name:t.name,slug:t.slug,selectVariations:this.adapterAttributes(t),specialPrice:e(t.payments)}}static getValuesByVariation(t){const{attribute:n,attributeSecondary:e,color:i}=t;const r={"attribute.id":n===null||n===void 0?void 0:n.id,"attributeSecondary.id":e===null||e===void 0?void 0:e.id,"color.id":i===null||i===void 0?void 0:i.id};const o=this.filterVariations(t.variations,r);return o[0]||t}static adapterAttributes(t){const n=this.generateSelectColors(t);const e=this.generateSelectAttributes(t);const i=this.generateSelectAttributesSecondary(t);return[n,e,i].filter((t=>!!t))}static generateSelectAttributes(t){var n,e;const{color:i,attributeSecondary:r,isSellOutOfStock:o}=t;const s={"color.id":i===null||i===void 0?void 0:i.id,"attributeSecondary.id":r===null||r===void 0?void 0:r.id};const u=this.filterAttributesByUnique(this.filterVariations(t.variations,s,"attribute"),"attribute");if(!u.length)return null;return{placeholder:this.placeholderDisabled,label:(n=t.attribute)===null||n===void 0?void 0:n.attributeName,options:u.map((({balance:t,id:n,name:e,releaseDate:i})=>({name:e,value:n,disabled:this.checkAttributeOptionDisabled({balance:t,releaseDate:i,isSellOutOfStock:o})}))),selectType:"attributes",currentValue:this.isFirstLoad?undefined:(e=t.attribute)===null||e===void 0?void 0:e.id}}static generateSelectAttributesSecondary(t){var n,e;const{color:i,attribute:r,isSellOutOfStock:o}=t;const s={"color.id":i===null||i===void 0?void 0:i.id,"attribute.id":r===null||r===void 0?void 0:r.id};const u=this.filterAttributesByUnique(this.filterVariations(t.variations,s,"attributeSecondary"),"attributeSecondary");if(!u.length)return null;return{placeholder:this.placeholderDisabled,label:(n=t.attributeSecondary)===null||n===void 0?void 0:n.attributeName,options:u.map((({name:t,balance:n,id:e,releaseDate:i})=>({value:e,name:t,disabled:this.checkAttributeOptionDisabled({balance:n,releaseDate:i,isSellOutOfStock:o})}))),selectType:"secondaryAttributes",currentValue:this.isFirstLoad?undefined:(e=t.attributeSecondary)===null||e===void 0?void 0:e.id}}static generateSelectColors(t){var n;const{attribute:e,attributeSecondary:i}=t;const r={"attribute.id":e===null||e===void 0?void 0:e.id,"attributeSecondary.id":i===null||i===void 0?void 0:i.id};const o=this.filterAttributesByUnique(this.filterVariations(t.variations,r,"color"),"color");if(!(o===null||o===void 0?void 0:o.length))return null;return{label:"Cor",placeholder:this.placeholderDisabled,options:o===null||o===void 0?void 0:o.map((({balance:t,id:n,name:e,releaseDate:i})=>({name:e,value:n,disabled:this.checkAttributeOptionDisabled({balance:t,releaseDate:i})}))),currentValue:(n=t.color)===null||n===void 0?void 0:n.id,selectType:"color"}}static filterVariations(t,n,e){const i=Object.keys(n);return t.filter((t=>{const r=!e||!!t[e];if(!r)return false;return i.reduce(((e,i)=>{const r=n[i];const o=Ga(t,i);return e&&o===r}),true)}))}static filterAttributesByUnique(t,n){return t.filter((t=>!!t[n])).reduce(((t,e)=>{const i=e[n];const r=t.findIndex((t=>t.id===i.id));if(r===-1)return[...t,Object.assign(Object.assign({},i),{balance:e.balance,releaseDate:e.releaseDate})];return t}),[])}static checkAttributeOptionDisabled(t){const{balance:n,releaseDate:e,isSellOutOfStock:i}=t;return!Qa({balance:n,isSellOutOfStock:i})||!$a({releaseDate:e})}}Ya.isFirstLoad=false;Ya.placeholderDisabled={name:"Selecione",disabled:true,value:undefined};class Ka{constructor(t){this.response=t}adapterToComponentData(){var t,n;const e=this.response&&((n=(t=this.response)===null||t===void 0?void 0:t.productsPivot)===null||n===void 0?void 0:n.length)>0;this.componentData=e?Ya.adapterIBuyTogetherToComponentData(this.response,true):null;return this}changeByVariationSelected(t){var n,e;if(!t)return this;const i=(n=this.response.product.variations)===null||n===void 0?void 0:n.find((({id:n})=>Number(n)===t));if(!i)return this;if((i===null||i===void 0?void 0:i.balance)>0){this.response.product=Object.assign(Object.assign({},i),{variations:this.response.product.variations})}const r=(e=this.response.product.variations)===null||e===void 0?void 0:e.find((({balance:t,color:n,isSellOutOfStock:e})=>{if(i.color){return i.color.id===n.id&&(t>0||e)}return t>0||e}));this.response.product=Object.assign(Object.assign({},r),{variations:this.response.product.variations});return this}get getComponentData(){return this.componentData}get getResponse(){return this.response}}class Xa extends Ka{constructor(){super(...arguments);this.filterRules=[{key:"balance",isActive:true,applyFn:this.filterByBalance.bind(this),checkFn:Qa},{key:"priceless",isActive:true,applyFn:this.filterByZeroPrice.bind(this),checkFn:Ja},{key:"releaseDate",isActive:true,applyFn:this.filterByReleaseDate.bind(this),checkFn:$a}]}applyFilters(t){if(t){this.filterRules=this.filterRules.map((n=>{const e=t.find((({key:t})=>t===n.key));if(!e)return n;return Object.assign(Object.assign(Object.assign({},n),e),{applyFn:e.applyFn?e.applyFn.bind(this):n.applyFn})}))}this.filterRules.filter((({isActive:t})=>t)).forEach((({applyFn:t})=>{t()}));this.applyFilterVariations();return this}filterByZeroPrice(){const t=!Ja(this.response.product);if(!this.response||t){this.response=null}}filterByBalance(){var t,n;const e=!Qa((t=this.response)===null||t===void 0?void 0:t.product);const i=!((n=this.response)===null||n===void 0?void 0:n.product.variations.some(Qa));const r=e||i;if(!this.response||r){this.response=null}}filterByReleaseDate(){var t;const n=!$a((t=this.response)===null||t===void 0?void 0:t.product);if(!this.response||n){this.response=null}}applyFilterVariations(){if(!this.response)return;const t=this.filterRules.filter((({isActive:t})=>t)).map((({checkFn:t})=>t));this.response.productsPivot=this.response.productsPivot.filter((({variations:n})=>this.filterVariations(n,t)))}filterVariations(t,n){return t.filter((t=>{const e=n.map((n=>n(t)));const i=e.reduce(((t,n)=>t&&n),true);return i})).length!==0}}class Ha{filterOutOriginalProducts(t,n){return t.filter((t=>!n.includes(+t.productId)))}getUniqueProducts(t){const n=new Map;for(const e of t){if(!n.has(e.id)){n.set(e.id,e)}}return Array.from(n.values())}async getBuyTogetherByProductId(t,n){const e=await Ce.getByProductIdWithValidPromotionDate(t);if(!e)return null;const i=new Xa(e);return i.changeByVariationSelected(n).applyFilters().adapterToComponentData().getComponentData}async getOnlyPivotProducts(t){const n=await Ce.getByProductIds(t);const e=n.flatMap((t=>{const n=new Ka(t).adapterToComponentData();return n.getComponentData.products}));const i=this.filterOutOriginalProducts(e,t);const r=this.getUniqueProducts(i);return r}changeProductOptions(t,n){switch(t.eventSelectType){case"color":return this.changeColor(t.value,n);case"attributes":return this.changeAttribute(t.value,n);case"secondaryAttributes":return this.changeAttributeSecondary(t.value,n);default:return null}}changeColor(t,n){const e=n.variations.find((({color:n})=>(n===null||n===void 0?void 0:n.id)===Number(t)));const i=Ya.getValuesByVariation(Object.assign(Object.assign({},n),{color:e.color}));const r=Object.assign(Object.assign({},i),{variations:n.variations});const o=Ya.adapterToProductCard(r);return{productTargetUpdated:r,productCard:o}}changeAttribute(t,n){const e=n.variations.find((({attribute:n})=>(n===null||n===void 0?void 0:n.id)===Number(t)));const i=Ya.getValuesByVariation(Object.assign(Object.assign({},n),{attribute:(e===null||e===void 0?void 0:e.attribute)||n.attribute}));const r=Object.assign(Object.assign({},i||n),{variations:n.variations});const o=Ya.adapterToProductCard(r);return{productTargetUpdated:r,productCard:o}}changeAttributeSecondary(t,n){const e=n.variations.find((({attributeSecondary:n})=>(n===null||n===void 0?void 0:n.id)===Number(t)));const i=Ya.getValuesByVariation(Object.assign(Object.assign({},n),{attributeSecondary:e.attributeSecondary}));const r=Object.assign(Object.assign({},i),{variations:n.variations});const o=Ya.adapterToProductCard(r);return{productTargetUpdated:r,productCard:o}}async addToCart(t){return new Promise(((n,e)=>{const i=window.dooca.base_url;const r="/action/cart/add";const o=new FormData;const s=t.map((t=>({variation_id:t,quantity:1})));o.append("items",JSON.stringify(s));const u=new XMLHttpRequest;u.open("POST",`${i}${r}`,true);u.setRequestHeader("X-Ajax","true");u.onload=function(){if(u.status>=200&&u.status<300){n(u.responseText)}else{e(u.status)}};u.send(o)}))}}export{Ha as F,Ne as P};
//# sourceMappingURL=p-e61ba037.js.map