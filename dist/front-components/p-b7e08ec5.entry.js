import{r as t,c as n,h as a,H as e}from"./p-dbd2ac78.js";import{P as o}from"./p-1df4e7f2.js";class c{static async getReleaseDateByProduct(t,n){var a;try{if(!t)return null;const e=await o.getById(t);if(!e)return null;let c=e;if(n){c=((a=e.variations)===null||a===void 0?void 0:a.find((({id:t})=>t===n)))||e}const{releaseDate:r}=c;return r}catch(t){return null}}}const r='*{--fc-font-family:var(--m-ff);--fc-border-radius:4px;--fc-color-primary:var(--color-primary, #ff4295);--fc-color-secondary:var(--color-secondary, #000);--fc-color-white:var(--white, #fff);--fc-m-tt:var(--m-tt, "uppercase");--fc-m-fs:var(--m-fs, 14px);--fc-m-fw:var(--m-fw, 600);--fc-m-ls:var(--m-ls, 1px);--fc-h2-fs:var(--h2-fs, 18px);--fc-h2-fw:var(--h2-fw, 600);--fc-h2-ls:var(--h2-ls, 0px);--fc-color-light-text-default:#343a40;--fc-color-light-text-secondary:#6d747a;--fc-color-light-border-default:#dee2e6;--fc-gap-grid:24px;--fc-margin-width:8px}:host{display:inline-block;width:100%}.launch-countdown-container{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:var(--fc-color-secondary);padding:var(--fc-gap-grid);border-radius:var(--fc-border-radius)}.launch-countdown-container>.launch-countdown-container-header{display:flex;flex-direction:column;align-items:center;color:var(--fc-color-white);background-color:transparent;margin-bottom:16px;line-height:1.5;text-align:center}.launch-countdown-container>.launch-countdown-container-header>.launch-countdown-container-title{margin:0;margin-bottom:4px;font-weight:var(--fc-m-fw)}.launch-countdown-container>.launch-countdown-container-header>.launch-countdown-container-description{margin:0;font-size:12px}.launch-countdown-container>front-countdown.timer{display:flex;flex-wrap:wrap;--variations-gap:16px;gap:var(--variations-gap)}.launch-countdown-container>front-countdown.timer>.cell{display:flex;flex-direction:column;align-items:center;min-width:calc(50% - var(--variations-gap));border-radius:16px;background-color:#fff;color:var(--fc-color-secondary);padding:6px}.launch-countdown-container>front-countdown.timer>.cell>.time{font-size:46px;font-weight:700;margin:0}.launch-countdown-container>front-countdown.timer>.cell>.unit{font-size:12px;margin:0}@media (min-width: 1024px){.launch-countdown-container>front-countdown.timer>.cell{min-width:80px}.launch-countdown-container>front-countdown.timer>.cell>.time{font-size:40px}}';const i=r;const d=class{constructor(a){t(this,a);this.countdownLoaded=n(this,"countdownLoaded",7);this.productId=undefined;this.variationId=undefined;this.dataTargetDate=undefined;this.dataInitialDate=undefined;this.dataCountdownTitle="Agora falta muito pouco!";this.dataDescription="O produto que você tanto espera será liberado em breve.";this.dateTime={endDate:null,startDate:null}}setDateTimeByProps(){this.dateTime={startDate:this.dataInitialDate,endDate:this.dataTargetDate}}async loadCountDown(){const t=await c.getReleaseDateByProduct(this.productId,this.variationId);if(!t){this.countdownLoaded.emit({releaseDateActive:false});this.setDateTimeByProps();return}const{now:n,releaseDate:a}=t;this.countdownLoaded.emit({releaseDateActive:Number(n)<Number(a)});this.dateTime={startDate:n,endDate:a}}componentWillLoad(){this.loadCountDown()}watchVariationIdChange(){this.loadCountDown()}watchProductIdChange(){this.loadCountDown()}render(){return a(e,{key:"29cddb67e8a7d3b963bf4aaa4f0c9b6cda1470f1"},a("div",{key:"06cb6b558f312427b7c9d3ebc26fbe66efe992fd",class:"launch-countdown-container"},a("div",{key:"47a67bf28d204c189fbc735defbc571c49a45dc7",class:"launch-countdown-container-header"},a("h3",{key:"f1a3316645e68f85dc6d5ffd6fc64731c8a505d5",class:"launch-countdown-container-title"},this.dataCountdownTitle),a("p",{key:"fbef046f8d31721f74d849cfed014a7df672001f",class:"launch-countdown-container-description"},this.dataDescription)),a("front-countdown",{key:"be1a088244017be51590b34de61a575661d7c9c6","start-date":this.dateTime.startDate,"end-date":this.dateTime.endDate})))}static get watchers(){return{variationId:["watchVariationIdChange"],productId:["watchProductIdChange"]}}};d.style=i;export{d as launch_countdown};
//# sourceMappingURL=p-b7e08ec5.entry.js.map