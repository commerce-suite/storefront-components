{"file":"front-icon.live-video-player.mini-player.entry.cjs.js","mappings":"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","names":["h","Host"],"sources":["src/components/ui/front-icon/front-icon.css?tag=front-icon","src/components/ui/front-icon/front-icon.tsx","src/components/ui/live-video-player/live-video-player.scss?tag=live-video-player","src/components/ui/live-video-player/live-video-player.tsx","src/components/ui/mini-player/services/DraggableService.ts","src/components/ui/mini-player/mini-player.scss?tag=mini-player","src/components/ui/mini-player/mini-player.tsx"],"sourcesContent":["@import url('https://fonts.googleapis.com/icon?family=Material+Icons');\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'front-icon',\n  styleUrl: 'front-icon.css',\n  shadow: false,\n})\nexport class FrontIcon {\n  @Prop() name: string = 'home';\n  @Prop() size?: string = '24px';\n  @Prop() color: string = '#000';\n\n  render() {\n    return (\n      <span class=\"material-icons\" style={{ color: this.color, fontSize: this.size }}>\n        {this.name}\n      </span>\n    );\n  }\n}\n",":host {\n  display: inline-block;\n  width: 100%;\n}\n\n.live-video-player {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n\n  & iframe {\n    height: 100%;\n    width: 100%;\n  }\n}\n","import { Component, Prop, Event, Host, EventEmitter, h } from '@stencil/core';\n\n@Component({\n  tag: 'live-video-player',\n  styleUrl: 'live-video-player.scss',\n  shadow: false,\n})\nexport class LiveVideoPlayer {\n  @Prop() videoId: string;\n  @Prop() autoPlay: boolean = false;\n  @Prop() mute: boolean = true;\n\n  @Event()\n  componentRendered: EventEmitter<void>;\n\n  private getVideoUrl() {\n    if (this.autoPlay)\n      return `https://www.youtube.com/embed/${this.videoId}?autoplay=1&mute=${+this.mute}`;\n    return `https://www.youtube.com/embed/${this.videoId}`;\n  }\n\n  componentDidLoad() {\n    this.componentRendered.emit();\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"live-video-player\">\n          <iframe\n            src={this.getVideoUrl()}\n            frameborder=\"0\"\n            allow=\"accelerometer; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n          />\n        </div>\n      </Host>\n    );\n  }\n}\n","export class DraggableService {\n  private _isDragging: boolean = false;\n  private initialX: number = 0;\n  private initialY: number = 0;\n  private currentX: number = 0;\n  private currentY: number = 0;\n  private positionX: number = 0;\n  private positionY: number = 0;\n\n  public onDragStateChange: (isDragging: boolean) => void = () => {};\n  public onUpdatePosition: (x: number, y: number) => void;\n\n  constructor(onUpdatePosition: (x: number, y: number) => void) {\n    this.onUpdatePosition = onUpdatePosition;\n  }\n\n  public get isDragging() {\n    return this._isDragging;\n  }\n\n  public handleDragStart(event: MouseEvent | TouchEvent, positionX: number, positionY: number) {\n    event.preventDefault();\n    this._isDragging = true;\n\n    this.onDragStateChange(this._isDragging);\n\n    const clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n    const clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n\n    this.initialX = clientX - positionX;\n    this.initialY = clientY - positionY;\n\n    this.positionX = positionX;\n    this.positionY = positionY;\n\n    this.addDragEventListeners();\n  }\n\n  public handleDragMove = (event: MouseEvent | TouchEvent) => {\n    if (!this._isDragging) return;\n\n    const clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n    const clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n\n    this.currentX = clientX - this.initialX;\n    this.currentY = clientY - this.initialY;\n\n    this.positionX = this.currentX;\n    this.positionY = this.currentY;\n\n    this.onUpdatePosition(this.positionX, this.positionY);\n  };\n\n  public handleDragEnd = () => {\n    this._isDragging = false;\n    this.onDragStateChange(this._isDragging);\n    this.removeDragEventListeners();\n  };\n\n  private addDragEventListeners() {\n    window.addEventListener('mousemove', this.handleDragMove);\n    window.addEventListener('mouseup', this.handleDragEnd);\n    window.addEventListener('touchmove', this.handleDragMove);\n    window.addEventListener('touchend', this.handleDragEnd);\n  }\n\n  private removeDragEventListeners() {\n    window.removeEventListener('mousemove', this.handleDragMove);\n    window.removeEventListener('mouseup', this.handleDragEnd);\n    window.removeEventListener('touchmove', this.handleDragMove);\n    window.removeEventListener('touchend', this.handleDragEnd);\n  }\n}\n","@import '../../../style/mixins/button.scss';\n@import '../../../style/mixins/screen-media';\n\n:host {\n  display: inline-block;\n  width: 100%;\n}\n\n.mini-player {\n  position: fixed;\n  bottom: 10%;\n  left: 10px;\n  display: flex;\n  flex-direction: column;\n  z-index: 1000;\n  border-radius: 8px;\n  overflow: hidden;\n  background-color: #000000;\n\n  @include for-desktop {\n    bottom: 10px;\n    width: 372px;\n  }\n\n  live-video-player {\n    width: 100%;\n    aspect-ratio: 16 / 9;\n\n    iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n      object-fit: cover;\n    }\n  }\n\n  &-bar {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 16px;\n    background-color: var(--color-secondary);\n    width: 100%;\n\n    @include for-desktop {\n      padding: 8px 16px;\n    }\n\n    &-title {\n      font-family: var(--h1-ff);\n      font-size: 16px;\n      text-transform: uppercase;\n      font-weight: bold;\n      color: var(--menu-background);\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 200px;\n      margin: 0;\n    }\n\n    &-button {\n      display: flex;\n      align-items: center;\n\n      button {\n        @include front-button;\n        text-transform: none;\n        font-size: 12px;\n        padding: 8px 16px;\n        color: var(--color-secondary);\n        background-color: #ffffff;\n\n        @include for-desktop {\n          padding: 12px 24px;\n        }\n      }\n    }\n  }\n\n  &-close-button {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 1001;\n    background: #ffffff;\n    border: none;\n    border-radius: 4px;\n    width: 28px;\n    height: 28px;\n    display: flex;\n    justify-content: center;\n    cursor: pointer;\n\n    &:hover {\n      background: #c0c0c0;\n    }\n  }\n}\n","import { Component, Prop, Event, Host, EventEmitter, h, State } from '@stencil/core';\nimport { DraggableService } from './services/DraggableService';\n\n@Component({\n  tag: 'mini-player',\n  styleUrl: 'mini-player.scss',\n  shadow: false,\n})\nexport class MiniPlayer {\n  @Prop() videoId: string;\n  @Prop() autoPlay: boolean = false;\n  @Prop() mainTitle: string = 'Mini Player Title';\n  @Prop() buttonText: string = 'Return';\n\n  @State() showMiniPlayer: boolean = true;\n  @State() positionX: number = 0;\n  @State() positionY: number = 0;\n  @State() isDragging: boolean = false;\n\n  @Event({ bubbles: true, eventName: 'on-click-miniplayer-button' })\n  onClickMiniPlayerButton: EventEmitter<void>;\n\n  @Event() componentRendered: EventEmitter<void>;\n\n  private dragDropService: DraggableService;\n\n  componentWillLoad() {\n    this.dragDropService = new DraggableService((x, y) => {\n      this.positionX = x;\n      this.positionY = y;\n    });\n\n    this.dragDropService.onDragStateChange = (isDragging: boolean) => {\n      this.isDragging = isDragging;\n    };\n  }\n\n  private handleDragStart = (event: MouseEvent | TouchEvent) => {\n    this.dragDropService.handleDragStart(event, this.positionX, this.positionY);\n  };\n\n  private handleTouchStart(event: TouchEvent) {\n    const target = event.target as HTMLElement;\n\n    if (target.tagName !== 'BUTTON') return this.handleDragStart(event);\n    event.stopPropagation();\n  }\n\n  private handleCloseMiniPlayer() {\n    this.showMiniPlayer = false;\n  }\n\n  private getMiniPlayerStyle() {\n    return {\n      transform: `translate(${this.positionX}px, ${this.positionY}px)`,\n    };\n  }\n\n  private getMiniPlayerBarStyle() {\n    return {\n      cursor: this.isDragging ? 'grabbing' : 'grab',\n    };\n  }\n\n  componentDidLoad() {\n    this.componentRendered.emit();\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.showMiniPlayer && (\n          <div class=\"mini-player\" style={this.getMiniPlayerStyle()}>\n            <button class=\"mini-player-close-button\" onClick={() => this.handleCloseMiniPlayer()}>\n              <front-icon name=\"close\" />\n            </button>\n            <live-video-player videoId={this.videoId} autoPlay={this.autoPlay} />\n            <div\n              class=\"mini-player-bar\"\n              style={this.getMiniPlayerBarStyle()}\n              onMouseDown={this.handleDragStart}\n              onTouchStart={event => this.handleTouchStart(event)}\n            >\n              <h6 class=\"mini-player-bar-title\">{this.mainTitle}</h6>\n              <div class=\"mini-player-bar-button\">\n                <button onClick={() => this.onClickMiniPlayerButton.emit()}>\n                  {this.buttonText}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}